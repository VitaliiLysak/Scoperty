{"version":3,"sources":["webpack:///./node_modules/@agm/core/services/google-maps-types.js","webpack:///./node_modules/ng2-nouislider/ng2-nouislider.d.ts.NouisliderComponent.html","webpack:///./src/app/core/models/supported-cities.model.ts","webpack:///./src/app/features/property-search/components/apartments-list/apartments-list.component.html","webpack:///./src/app/features/property-search/components/apartments-list/apartments-list.component.ts","webpack:///./src/app/features/property-search/components/fancy-info-window/fancy-info-window.component.html","webpack:///./src/app/features/property-search/components/fancy-info-window/fancy-info-window.component.ts","webpack:///./src/app/features/property-search/components/fancy-info-window/property-google-maps-overlay.ts","webpack:///./src/app/features/property-search/components/fancy-info-window/property-view/property-view.component.html","webpack:///./src/app/features/property-search/components/fancy-info-window/property-view/property-view.component.ts","webpack:///./src/app/features/property-search/components/map-controls/map-controls.component.html","webpack:///./src/app/features/property-search/components/map-controls/map-controls.component.ts","webpack:///./src/app/features/property-search/components/map-data-source/map-data-source.component.html","webpack:///./src/app/features/property-search/components/map-data-source/map-data-source.component.ts","webpack:///./src/app/features/property-search/components/map-filters/map-filters.component.html","webpack:///./src/app/features/property-search/components/map-filters/map-filters.component.ts","webpack:///./src/app/features/property-search/components/map-filters/question-button/question-button.component.ts","webpack:///./src/app/features/property-search/components/map-filters/search-request-button/search-request-button.component.html","webpack:///./src/app/features/property-search/components/map-filters/search-request-button/search-request-button.component.ts","webpack:///./src/app/features/property-search/components/map/map.component.html","webpack:///./src/app/features/property-search/components/map/map.component.ts","webpack:///./src/app/features/property-search/components/no-markers-hint/no-markers-hint.component.html","webpack:///./src/app/features/property-search/components/no-markers-hint/no-markers-hint.component.ts","webpack:///./src/app/features/property-search/components/onboarding-process/onboarding-process.component.html","webpack:///./src/app/features/property-search/components/onboarding-process/onboarding-process.component.ts","webpack:///./src/app/features/property-search/components/save-search-alert-name/save-search-alert-name.component.html","webpack:///./src/app/features/property-search/components/save-search-alert-name/save-search-alert-name.component.ts","webpack:///./src/app/features/property-search/components/sidebar-object/sidebar-object.component.html","webpack:///./src/app/features/property-search/components/sidebar-object/sidebar-object.component.ts","webpack:///./src/app/features/property-search/components/sidebar/sidebar.component.html","webpack:///./src/app/features/property-search/components/sidebar/sidebar.component.ts","webpack:///./src/app/features/property-search/pages/property-search/property-search.component.html","webpack:///./src/app/features/property-search/pages/property-search/property-search.component.ts","webpack:///./src/app/features/property-search/property-search-routing.module.ts","webpack:///./src/app/features/property-search/property-search.module.ts","webpack:///./src/app/gmaps.style.ts","webpack:///./src/app/shared/components/accordion/accordion.component.html","webpack:///./src/app/shared/components/accordion/panel/panel.component.html"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8BAA8B;AACxB;AACP;AACA;AACA;AACA;AACA,CAAC,kDAAkD;AAC5C;AACP;AACA;AACA,CAAC,8CAA8C;AACxC;AACP;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AAC7C,6C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yGChDA,uIAAmD,wDAA9C,gDAA6C,GAAlD,YAAmD,EAA9C,SAA6C;;;;;;;;;;;;;;;;ACAlD;AAAA;AAAA;AAAO,IAAM,gBAAgB,GAAG;IAC9B,SAAS,EAAE,UAAU;IACrB,OAAO,EAAE,MAAM;CAChB,CAAC;AAEK,SAAS,gBAAgB,CAAC,gBAAwB;IACvD,IAAM,eAAe,GAAG,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;IACxD,KAA4B,UAAe,EAAf,mCAAe,EAAf,6BAAe,EAAf,IAAe,EAAE;QAAxC,IAAM,aAAa;QACtB,IAAM,eAAe,GAAG,gBAAgB,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QACjE,IAAI,eAAe,EAAE;YACnB,OAAO,aAAa,CAAC;SACtB;KACF;IAED,OAAO,EAAE,CAAC;AACZ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4GC0BW,oIAA8F,IAA1D,yMAAyD,IAAC,oFAE9F,yDAFoC,qLAAyD,KAA7F,YAA8F,EAA1D,SAAyD,GAAC,2KAE9F;4GACA,oIAA6F,IAA1D,yMAAyD,IAAC,oFAE7F,yDAFmC,qLAAyD,KAA5F,YAA6F,EAA1D,SAAyD,GAAC,mFAE7F;4GAnBF,qIAGC,IADC,yMAAmD,IAEnD,oIAAgE,IAA3D,yMAA0D,IAC7D,oIAMC,IALC,wRAIQ,IACH,8EAET,MACA,gZAA8F,IAG9F,gZAA6F,IAG7F,qIAAiE,IAA5D,0MAA2D,IAAC,mFAGjE,MACA,qIAA+D,IAA1D,0MAAyD,IAAC,mFAG/D,MACA;;;waAIC,GAFC,wDAA+C,GAD/C,0MAAoD,IAGrD,yFAEC,uMAGC,IADC,0MAAyD,yBAtBxD,mBAA8B,oCAAnC,aAA8F,EAAzF,SAA8B,GAG9B,kBAA6B,oCAAlC,aAA6F,EAAxF,SAA6B,GAchC,yBAAe,EADf,sDAA+C,wBAFjD,aAIC,EADC,UAAe,EADf,UAA+C,mDA5BjD,+KAAmD,KAFrD,YAGC,EADC,SAAmD,GAE9C,sLAA0D,KAA/D,YAAgE,EAA3D,SAA0D,GAE3D,yMAIQ,sCALV,YAMC,EALC,SAIQ,GACH,uGAET,GAOK,0LAA2D,KAAhE,aAAiE,EAA5D,SAA2D,GAAC,2PAGjE,GACK,wLAAyD,KAA9D,aAA+D,EAA1D,SAAyD,GAAC,wOAG/D,GAEE,oLAAoD,KADtD,mLAIC,EAHC,UAAoD,EADtD,sBAIC,GAIG,yLAAyD,KAF3D,aAGC,EADC,UAAyD;4GArCjE,wHAAoD,KAClD,wdAGC,iIAFC,mBAAuC,oBADzC,YAGC,EAFC,SAAuC;4GA5BnD,yLAAgF,YAAlB;;wBAAiB;MAA/E,wBAAgF,IAA3E,yMAAwD,IAC3D,qIAA+D,IAA1D,yMAAyD,IAC5D,qIAA4D,IAAvD,yMAAsD,IACzD,oIAAkE,IAA7D,0MAA4D,IAAC,mHAElE,MACA,yLAAoF,YAAlB;;wBAAiB;MAAnF,wBAAoF,IAA/E,0MAA4D,IAAmB,8EAAO,MAE7F,qIAA8D,IAAzD,0MAAwD,IAAC,4GAE9D,MAEA,qIAMC,IALC,iSAIQ,IAER,qIAMC,IALC,iSAIQ,IAER,gZAAoD,IA6CxD,sIAAgE,IAA3D,0MAA0D,IAC7D,qIAAsE,IAAjE,0MAAgE,IAAC,yIAEtE,MACA,qIAAqE,IAAhE,0MAA+D,IAAC,mMAGrE,MAEA,qIAA4D,IAAvD,0MAAsD,IACzD,yLAGC,YADC;;wBAA4B;MAF9B,wBAGC,IAFC,0MAAsD,IAEvD,uGAED,mDA5Dc,6FAAqC,GAAnD,aAAoD,EAAtC,UAAqC,mDA1BtD,oLAAwD,KAA7D,YAAgF,EAA3E,SAAwD,GACtD,qLAAyD,KAA9D,YAA+D,EAA1D,SAAyD,GACvD,kLAAsD,KAA3D,YAA4D,EAAvD,SAAsD,GACpD,0LAA4D,KAAjE,YAAkE,EAA7D,SAA4D,GAAC,gEAElE,GACK,2LAA4D,KAAjE,aAAoF,EAA/E,SAA4D,GAE9D,uLAAwD,KAA7D,aAA8D,EAAzD,SAAwD,GAAC,iHAE9D,GAGE,2RAIQ,OALV,aAMC,EALC,SAIQ,GAGN,mRAIQ,OALV,aAMC,EALC,SAIQ,GA+CP,0LAA0D,KAA/D,aAAgE,EAA3D,UAA0D,GACxD,gMAAgE,KAArE,aAAsE,EAAjE,UAAgE,GAGhE,+LAA+D,KAApE,aAAqE,EAAhE,UAA+D,GAK/D,sLAAsD,KAA3D,aAA4D,EAAvD,UAAsD,GAEvD,sLAAsD,KADxD,aAGC,EAFC,UAAsD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChFK;AAEW;AACX;AACiB;AACe;AAEG;AAChB;AACE;AAM1F;IAOU,gFAAmC;IAa3C,gCACS,aAA4B,EAC5B,gBAAkC,EAClC,WAAwB,EACxB,mBAAwC,EACxC,oBAAiD,EAChD,qBAA4C;QANtD,YAQE,kBAAM,aAAa,CAAC,SACrB;QARQ,mBAAa,GAAb,aAAa,CAAe;QAC5B,sBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,iBAAW,GAAX,WAAW,CAAa;QACxB,yBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,0BAAoB,GAApB,oBAAoB,CAA6B;QAChD,2BAAqB,GAArB,qBAAqB,CAAuB;QAhB/C,YAAM,GAAwB,IAAI,CAAC;QACnC,eAAS,GAAwB,IAAI,CAAC;QAEtC,WAAK,GAAW,kBAAkB,CAAC;;IAgB1C,CAAC;IAdM,0CAAS,GAAhB,UAAiB,KAA0B;QACzC,IAAI,KAAK,CAAC,SAAS;YAAE,OAAO,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;;YAC/D,OAAO,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IAClD,CAAC;IAaM,iDAAgB,GAAvB;QAAA,iBAoBC;QAnBC,IAAM,IAAI,GAAG,QAAQ,CAAC;QACtB,IAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,cAAc,CAAC;QACjF,IAAM,IAAI,GAAG,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,cAAc,CAAC;QACvE,IAAI,QAAQ,GAAG,EAAE,CAAC;QAElB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,IAAI,SAAS,KAAK,cAAc,EAAE;YACtE,IAAI,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAEnE,QAAQ,GAAG,cAAc,CAAC;SAC3B;QAED,IAAI,CAAC,aAAa,CAAC,SAAS,CAC1B,6GAAqB,EACrB,EAAE,IAAI,QAAE,SAAS,aAAE,IAAI,QAAE,QAAQ,YAAE,eAAe,EAAE,IAAI,GAAG,CAC5D;aACE,SAAS,CAAC,UAAC,OAAO;YACjB,KAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAChC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IAEM,sDAAqB,GAA5B,UAA6B,MAAc;QACzC,OAAO,kGAAwB,CAAC,MAAM,CAAC,CAAC;IAC1C,CAAC;IACH,6BAAC;AAAD,CAAC,CAjDS,mEAAe,GAiDxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8GCzED,uHAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;ACQkB;AAI+E;AAChB;AACjB;AAEE;AACS;AACI;AAEpF;IA0FE,kCACU,oBAAiD,EACjD,WAAwB,EACxB,QAAkC,EAClC,QAAkB,EACnB,mBAAwC,EACvC,KAAa;QALb,yBAAoB,GAApB,oBAAoB,CAA6B;QACjD,gBAAW,GAAX,WAAW,CAAa;QACxB,aAAQ,GAAR,QAAQ,CAA0B;QAClC,aAAQ,GAAR,QAAQ,CAAU;QACnB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACvC,UAAK,GAAL,KAAK,CAAQ;QAvFd,yBAAoB,GAAY,KAAK,CAAC;QACtC,cAAS,GAAQ,IAAI,CAAC;QAGrB,kBAAa,GAAyB,IAAI,0DAAY,EAAU,CAAC;QACjE,eAAU,GAAyB,IAAI,0DAAY,EAAU,CAAC;QAC9D,eAAU,GAAyB,IAAI,0DAAY,EAAU,CAAC;QAC9D,UAAK,GAAyB,IAAI,0DAAY,EAAU,CAAC;QACzD,gBAAW,GAAyB,IAAI,0DAAY,EAAU,CAAC;QAC/D,kBAAa,GAAG,IAAI,0DAAY,EAAE,CAAC;QAErC,qBAAgB,GAA8B,IAAI,GAAG,EAAwB,CAAC;IA6EnF,CAAC;IAvEU,gDAAa,GAA3B,UAA4B,MAA2B;;;;;;wBACrD,IAAI,MAAM,CAAC,kBAAkB,IAAI,IAAI,IAAI,MAAM,CAAC,kBAAkB,KAAK,KAAG,KAAK,CAAG;4BAAE,sBAAO;wBAC3F,WAAM;wBAAY,qBAAM,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAChE,MAAM,CAAC,kBAAkB,EACzB,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CACnC;;wBAHD,GAAO,QAAQ,GAAG,SAGjB,CAAC;;;;;KACH;IAEO,+CAAY,GAApB;QACE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE;YAAE,OAAO;QAC/C,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YACzB,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAC/B,OAAO;SACR;IACH,CAAC;IAEa,sDAAmB,GAAjC;;;;;;wBACE,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;4BACzB,IAAI,CAAC,uBAAuB,EAAE,CAAC;4BAC/B,sBAAO;yBACR;wBAEc,qBAAM,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;;wBAA5G,MAAM,GAAG,SAAmG;wBAClH,IAAI,CAAC,MAAM,CAAC,YAAY;4BAAE,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;;;;;KAC9D;IAEO,0DAAuB,GAA/B;QACE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,mBAAmB,CAAC,uBAAuB,EAAE,CAAC;IACrD,CAAC;IAEO,wCAAK,GAAb;QAAA,iBA0BC;QAzBC,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,4FAAqB,CAAC,CAAC;QAC7E,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC7C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC;YACtC,KAAI,CAAC,KAAK,EAAE,CAAC;YACb,KAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;QACH,gDAAgD;QAChD,6DAA6D;QAC7D,8BAA8B;QAC9B,8BAA8B;QAC9B,MAAM;QACN,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;QAEjD,IAAI,CAAC,OAAO,GAAG,6EAAyB,CAAC;YACvC,aAAa,EAAE;gBACb,IAAI,KAAI,CAAC,SAAS,IAAK,CAAC,KAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,WAAW,CAAC,EAAE;oBACrE,KAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;iBAClD;YACH,CAAC;YACD,GAAG,EAAE,IAAI,CAAC,SAAS;YACnB,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,aAAa;YAC3C,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;SAC5E,CAAC,CAAC;IAEL,CAAC;IAEO,wCAAK,GAAb;QACE,IAAI,IAAI,CAAC,OAAO;YAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,IAAI,CAAC,SAAS;YAAE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC/C,CAAC;IAWM,8CAAW,GAAlB;QACE,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAClF,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,MAAM,GAAG,IAAI,sFAAmB,CAAC,EAAE,CAAC,CAAC;QAC1C,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,WAAW,CAAC,EAAE;YACpE,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;SAClD;IACH,CAAC;IAEM,8CAAW,GAAlB;QAAmB,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,yBAAO;;QACxB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAEM,iDAAc,GAArB;QACE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAC,YAAY,IAAK,mBAAY,CAAC,WAAW,EAAE,EAA1B,CAA0B,CAAC,CAAC;IAC9E,CAAC;IAEM,8CAAW,GAAlB,UAAmB,GAAW;QAC5B,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;IAC/C,CAAC;IAEM,8CAAW,GAAlB,UAAmB,GAAW,EAAE,MAAuB,EAAE,OAA4B;QACnF,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC;YAAE,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;QACjF,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC;IAEM,oDAAiB,GAAxB,UAAyB,GAAW,EAAE,MAAuB,EAAE,OAA4B;QACzF,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC;YAAE,OAAO;QAC3C,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC;IAEM,wDAAqB,GAA5B,UAA6B,MAA2B;QAAxD,iBAUC;QATC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;YACb,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,gDAAgD;YAChD,8BAA8B;YAC9B,KAAI,CAAC,KAAK,EAAE,CAAC;YACb,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAE9B,KAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;IACL,CAAC;IA0BH,+BAAC;AAAD,CAAC;;;;;;;;;;;;;;AC3LD;AAAe,yEAAC,KAAK;IACnB,IAAI,OAAO,CAAC;IACZ,WAAW,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;IAEtD,OAAO,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;IAG/D,SAAS,WAAW,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI;QAEpC,6BAA6B;QAC7B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAElB,mDAAmD;QACnD,uDAAuD;QACvD,yCAAyC;QACzC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QAEjB,0CAA0C;QAC1C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC;IAED,WAAW,CAAC,SAAS,CAAC,KAAK,GAAG;QAE5B,IAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,GAAG,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;QAC/B,GAAG,CAAC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;QAC9B,GAAG,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QAEhC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE5B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE,OAAO,EAAE,eAAK;YAClD,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE,YAAY,EAAE,eAAK;YACvD,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAEhB,8CAA8C;QAC9C,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC9B,KAAK,CAAC,kBAAkB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC,CAAC;IAEF,WAAW,CAAC,SAAS,CAAC,IAAI,GAAG;QAE3B,uCAAuC;QACvC,yEAAyE;QACzE,mEAAmE;QACnE,IAAM,iBAAiB,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAE/C,qEAAqE;QACrE,oDAAoD;QACpD,iDAAiD;QACjD,IAAM,EAAE,GAAG,iBAAiB,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEhE,0DAA0D;QAC1D,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;QAC7B,GAAG,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC;QAClC,GAAG,CAAC,KAAK,CAAC,SAAS,GAAG,wBAAwB,CAAC;QAC/C,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;IAC5B,CAAC,CAAC;IAEF,qEAAqE;IACrE,oDAAoD;IACpD,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG;QAC/B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC,CAAC;IACF,OAAO,OAAO,CAAC;AACjB,CAAC,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2GCpDA,oIAGC,IADC,yMAA4D,IAG5D,2uBAIC,GADC,gEAAyB,KAFzB,yMAAqD,iDACrD,mBAAa,QACb,qCAAyB,GAH3B,YAIC,EAFC,SAAa,EACb,SAAyB,mDAN3B,wLAA4D,KAF9D,YAGC,EADC,SAA4D,GAI1D,iLAAqD,KADvD,YAIC,EAHC,SAAqD;2GAUvD,oIAA6F,IAArE,yMAAoE,IAC1F,oIAAkE,IAA7D,yMAA4D,IAC/D,ypBAA+D,iDAAvC,mBAAsC,uBAA9D,YAA+D,EAAvC,SAAsC,mDAF1C,8LAAoE,KAA5F,YAA6F,EAArE,SAAoE,GACrF,sLAA4D,KAAjE,YAAkE,EAA7D,SAA4D;qSAzCvE,qIAA4D,IAAvD,yMAAsD,IAEzD,oIAQC,IAPC,yRAMQ,IAER,qNAIC,YADC;;wBAAsB;MAHxB,i8BAIC,IACC,gmCAGC,IAKL,gZAGC,IAWD,sIAAsE,IAAjE,0MAAgE,IAEnE,gZAA6F,IAO7F,sIAAiE,IAA5D,0MAA2D,IAC9D,qIAAsE,IAAjE,0MAAgE,IAAC,mFAEtE,MACA,qIAAuE,IAAlE,0MAAiE,IAAC,mFAErE,4IAA4E,IAAtE,0MAAqE,IAAC,8EAAM,MAAO,8EAE3F,MAIF,sIAA4E,IAAvE,0MAAsE,IACzE,qIAAoE,IAA/D,0MAA8D,IAAC,8EAEpE,MACA,qIAA0E,IAArE,0MAAoE,IAAC,gJAE1E,IAIF,qIAAsE,IAAjE,0MAAgE,IACnE,iQAMC,YADC;;wBAA8B;MALhC,m8BAMC,+EAED,mDAjEA,mBAA0B,mBAF5B,aAIC,EAFC,SAA0B,GAKxB,sBAAiB,EAFnB,aAGC,EADC,SAAiB,GADjB,uBAAe,EADjB,aAGC,EAFC,SAAe,GAQnB,oBAAgB,WADlB,aAGC,EAFC,UAAgB,GAeX,oBAAkB,aAAvB,aAA6F,EAAxF,UAAkB,GAiCnB,gCAAqB,EADrB,yBAAa,EAEb,qBAAgB,EAJlB,aAMC,EAHC,UAAqB,EADrB,UAAa,EAEb,UAAgB,mDA1EnB,kLAAsD,KAA3D,YAA4D,EAAvD,SAAsD,GAGvD,kPAMQ,OAPV,YAQC,EAPC,SAMQ,GAER,gHAIC,GACC,qkBAGC,GAmBA,8LAAgE,KAArE,aAAsE,EAAjE,UAAgE,GAS9D,2LAA2D,KAAhE,aAAiE,EAA5D,UAA2D,GACzD,8LAAgE,KAArE,aAAsE,EAAjE,UAAgE,GAAC,kHAEtE,GACK,+LAAiE,KAAtE,aAAuE,EAAlE,UAAiE,GAAC,mHAErE,GAAM,mMAAqE,KAA3E,aAA4E,EAAtE,UAAqE,GAAc,qDAE3F,GAIG,oMAAsE,KAA3E,aAA4E,EAAvE,UAAsE,GACpE,4LAA8D,KAAnE,aAAoE,EAA/D,UAA8D,GAAC,0DAEpE,GACK,kMAAoE,KAAzE,aAA0E,EAArE,UAAoE,GAAC,gRAE1E,GAIG,gMAAgE,KAArE,aAAsE,EAAjE,UAAgE,GACnE,mHAMC,2EAED;;;;;;;;;;;;;;;;AC9EN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMuB;AAEgE;AACtB;AAEsB;AACgB;AAEvG;IAoDE,+BACU,QAAkB,EACF,MAAc;QAD9B,aAAQ,GAAR,QAAQ,CAAU;QACF,WAAM,GAAN,MAAM,CAAQ;QA9CjC,UAAK,GAAW,eAAe,CAAC;QAI7B,UAAK,GAAuB,IAAI,0DAAY,EAAQ,CAAC;IA2C5D,CAAC;IAzCJ,sBAAW,2DAAwB;aAAnC;YACE,OAAO,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,eAAe,CAAC;QAChF,CAAC;;;OAAA;IAED,sBAAW,2CAAQ;aAAnB;YACE,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;QAC7D,CAAC;;;OAAA;IAED,sBAAW,wCAAK;aAAhB;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACtD,CAAC;;;OAAA;IAED,sBAAW,wCAAK;aAAhB;YACE,OAAO,IAAI,CAAC,MAAM,CAAC,mBAAmB;gBACpC,CAAC,CAAC,MAAM;gBACR,CAAC,CAAC,kBAAkB,CAAC;QACzB,CAAC;;;OAAA;IAED,sBAAW,8CAAW;aAAtB;YACE,OAAO,CAAC,8FAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe;gBAC7E,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS;gBACvB,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,6CAAU;aAArB;YACE,OAAO,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC;QACvE,CAAC;;;OAAA;IAED,sBAAW,mDAAgB;aAA3B;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC;QACnD,CAAC;;;OAAA;IAED,sBAAW,6CAAU;aAArB;YACE,OAAO,IAAI,CAAC,MAAM,CAAC,eAAe;gBAChC,CAAC,CAAC,uFAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,WAAW,EAAE;gBAC1D,CAAC,CAAC,4FAAqB,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,WAAW,EAAE,CAAC;QACpE,CAAC;;;OAAA;IAOM,0CAAU,GAAjB;QACE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IACpB,CAAC;IAEM,kDAAkB,GAAzB;QACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAoB,IAAI,CAAC,MAAM,CAAC,EAAI,EAAE,QAAQ,CAAC,CAAC;IACnE,CAAC;IACH,4BAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0GC9ED,oIAA6D,IAAxD,yMAAuD,IAC1D,+RAOC,YADC;;wBAAoB;MANtB,6/BAOC,IACC,qlCAGC,IAIL,oIAA6D,IAAxD,0MAAuD,IAC1D,gSAOC,YADC;;wBAAqB;MANvB,8/BAOC,IACC,2lCAGC,iDAvBD,+BAAqB,EAFrB,8BAAmB,EACnB,uBAAa,EAEb,oBAA2B,gBAL7B,YAOC,EAHC,SAAqB,EAFrB,SAAmB,EACnB,SAAa,EAEb,SAA2B,GAKzB,uBAAiB,EAFnB,YAGC,EADC,UAAiB,GADjB,sBAAa,EADf,YAGC,EAFC,UAAa,GAWf,gCAAqB,EAFrB,+BAAmB,EACnB,wBAAa,EAEb,qBAA4B,iBAL9B,aAOC,EAHC,UAAqB,EAFrB,UAAmB,EACnB,UAAa,EAEb,UAA4B,GAK1B,uBAAiB,EAFnB,aAGC,EADC,UAAiB,GADjB,yBAAgB,EADlB,aAGC,EAFC,UAAgB,mDA1BjB,mLAAuD,KAA5D,YAA6D,EAAxD,SAAuD,GAC1D,+GAOC,GACC,8jBAGC,GAIA,sLAAuD,KAA5D,YAA6D,EAAxD,UAAuD,GAC1D,mHAOC,GACC,6kBAGC;;;;;;;;;;;;;;;;AC5BL;AAAA;AAAA;AAKuB;AAEvB;IAAA;QAeE,WAAM,GAAuB,IAAI,0DAAY,EAAQ,CAAC;QAGtD,YAAO,GAAuB,IAAI,0DAAY,EAAQ,CAAC;QAEhD,UAAK,GAAW,cAAc,CAAC;IASxC,CAAC;IAPQ,uCAAQ,GAAf;QACE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IACrB,CAAC;IAEM,wCAAS,GAAhB;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACtB,CAAC;IACH,2BAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4GC9BG,wHAA6D,6JAE3D,+NAIC,IAHC,yMAAgE,IAGjE,6FAED,yDALE,4LAAgE,KADlE,YAIC,EAHC,SAAgE;4GASlE,6OAIC,IAHC,yMAAgE,IAGjE,uIAED,yDALE,4LAAgE,KADlE,YAIC,EAHC,SAAgE;4GAftE,wHAAoD,KAClD,sHAAI,KACJ,0aAA6D,IAW7D,uIAAiC,kDAXnB,2GAA8C,GAA5D,YAA6D,EAA/C,oBAA8C;4GAuB9D,wHAA4D,KAC1D,sHAAI,gLAEN;4GAhCF,oIAAiE,IAA5D,yMAA2D,IAAC,sIAG/D,MACA,+YAAoD,IAyBpD,+YAA4D,iDAzB9C,sCAAqC,mBAAnD,YAAoD,EAAtC,SAAqC,GAyBrC,8CAA6C,mBAA3D,YAA4D,EAA9C,SAA6C,mDA7BxD,uLAA2D,KAAhE,YAAiE,EAA5D,SAA2D;;;;;;;;;;;;;;;;ACMhE;AAAA;AAAA;AAAkF;AAElF;IAAA;QAcS,UAAK,GAAW,iBAAiB,CAAC;IAqB3C,CAAC;IAnBQ,gDAAe,GAAtB;QACE,OAAO,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,eAAe,CAAC;IACpD,CAAC;IAED,sBAAW,iDAAa;aAAxB;YACE,OAAO,IAAI,CAAC,IAAI,KAAK,oFAAgB,CAAC,OAAO,CAAC;QAChD,CAAC;;;OAAA;IAED,sBAAW,mDAAe;aAA1B;YACE,OAAO,IAAI,CAAC,IAAI,KAAK,oFAAgB,CAAC,SAAS,CAAC;QAClD,CAAC;;;OAAA;IAED,sBAAW,8CAAU;aAArB;YACE,OAAO,IAAI,CAAC,SAAS,KAAK,MAAM,CAAC;QACnC,CAAC;;;OAAA;IAED,sBAAW,sDAAkB;aAA7B;YACE,OAAO,IAAI,CAAC,SAAS,KAAK,eAAe,CAAC;QAC5C,CAAC;;;OAAA;IACH,6BAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yGClBW,qIAGC,IADC,mSAAyG,IAEzG,qIAA+E,IAA1E,yMAAyE,IAC5E,wLAOC,YADC;;wBAA4C;MAN9C,wBAOC,IANC,yRAIU,IAGZ,qIAA+E,IAA1E,0MAAyE,IAAC,8EAE/E,MACA,qIAA8G,IAAzG,2RAAwG,IAE/G,qIAA6E,IAAxE,0MAAuE,IAAC,0EAC3E,2IAAgF,IAA3E,0MAA0E,IAAC,8EAEhF,yDAnBF,wNAAyG,MAF3G,YAGC,EADC,SAAyG,GAEpG,qMAAyE,KAA9E,YAA+E,EAA1E,SAAyE,GAE1E,mSAIU,OALZ,YAOC,EANC,SAIU,GAGP,wMAAyE,KAA9E,aAA+E,EAA1E,SAAyE,GAAC,+FAE/E,GACK,0NAAwG,+BAA7G,aAA8G,EAAzG,SAAwG,GAE1G,sMAAuE,KAA5E,aAA6E,EAAxE,SAAuE,GACrE,yMAA0E,KAA/E,aAAgF,EAA3E,SAA0E,GAAC,+FAEhF;yGAtBN,wHAA+D,KAC7D,4YAGC,iIAFC,sCAAsC,qBADxC,YAGC,EAFC,SAAsC;yGAoE9C,wHAAiE;yGAG/D,oIAAsE,IAAjE,yMAAgE,IACnE,oIAA4D,IAAvD,yMAAsD,uDADxD,4LAAgE,KAArE,YAAsE,EAAjE,SAAgE,GAC9D,kLAAsD,KAA3D,YAA4D,EAAvD,SAAsD;yGAyCrD,0OAUC,IAPC,yRAIQ,IAGT,8EAAC,yDAPA,6RAIQ,OAPV,YAUC,EAPC,SAIQ;yGA4BV,oNAKC,IAHC,yMAA0D,IAG3D,yEAAC,yDAHA,sLAA0D,KAF5D,YAKC,EAHC,SAA0D;yGAkBhE,oIAA+H,IAA9D,yMAA6D,IAAC,+IAE/H,yDAFiE,yLAA6D,KAA9H,YAA+H,EAA9D,SAA6D;yGAO5H,gdAAsE,yBAAzB,kBAAwB,0BAArE,YAAsE,EAAzB,SAAwB;yGAlG3E,qIAMC,IALC,sSAIQ,IAER,oIAAuE,IAAlE,yMAAiE,IACpE,oIAA4E,IAAvE,yMAAsE,IAAC,8EAAM,MAEpF,yHAAK,KACH,sIAAuE,IAAlE,0MAAiE,IACpE,sIAMC,IALC,2RAIQ,IAER;;;;;;;;;;;wBAgBE;MALA;;wBAA0B;MAC1B;;wBAAoC;MACpC;;wBAAkD;MAClD;;wBAAwC;MACxC;;wBAAsC;MAfxC,ibAgBE,GARA,8FAA4F,KAR9F,2sDAgBE,GAbA,2RAIQ,IAUV,6YAUC,IAEH,qIAA+D,IAA1D,0MAAyD,IAC9D,sIAKC,IAJC,0MAGQ,IAER;;;;;;;;;;;wBAeE;MALA;;wBAAyB;MACzB;;wBAAoC;MACpC;;wBAAiD;MACjD;;wBAAwC;MACxC;;wBAAoC;MAdtC,ibAeE,GARA,8FAAgG,KAPlG,2sDAeE,GAZA,0MAGQ,IAUV,6YAKC,IACD,yOAWC,IATC,6RAMQ,IAGT,8EAAC,MAGN,6YAA+H,IAG/H,qIAAmE,IAA9D,0MAA6D,IAAC,iGAAgC,MAErG,sIAAoE,IAA/D,0MAA8D,IACjE,qIAA+E,IAA1E,0MAAyE,IAC5E,sdAAsE,IAExE;;;;;;szBAA4F,GAAtF,0MAA2D,IAC/D;;;;;;;;;;;wBAQC;MAHC;;wBAA0B;MAC1B;;wBAA2C;MAN7C,mjEAQC,iDAlFG,8KAA4F,KAR9F,aAgBE,EARA,UAA4F,GAE5F,oBAAa,EAVf,aAgBE,EANA,UAAa,GACb,oBAA0B,eAX5B,aAgBE,EALA,UAA0B,GAO1B,gEAA8D,mBADhE,aAUC,EATC,UAA8D,GAyB9D,sLAAgG,KAPlG,aAeE,EARA,UAAgG,GAEhG,oBAAa,EATf,aAeE,EANA,UAAa,GACb,oBAAyB,aAV3B,aAeE,EALA,UAAyB,GAOzB,mFAA8D,IADhE,aAKC,EAJC,UAA8D,GAmB/D,+DAA2D,mBAAhE,aAA+H,EAA1H,UAA2D,GAOzD,oBAAuC,mBAA5C,aAAsE,EAAjE,UAAuC,GAEoB,oBAAyB,cAA3F,aAA4F,EAA1B,UAAyB,GAGvF,oBAA4B,uBAC5B,oBAA4B,uBAF5B,oBAA4B,oBAI5B,oBAA0B,eAD1B,iDAA6C,GAJ/C,aAQC,EANC,UAA4B,EAC5B,UAA4B,EAF5B,UAA4B,EAI5B,UAA0B,EAD1B,8DAA6C,GAC7C,oBAA0B,eAL5B,aAQC,EAJC,UAA6C,EAC7C,UAA0B,mDAzGhC,wPAIQ,OALV,YAMC,EALC,SAIQ,GAEH,6LAAiE,KAAtE,YAAuE,EAAlE,SAAiE,GAC/D,kMAAsE,KAA3E,YAA4E,EAAvE,SAAsE,GAGtE,gMAAiE,KAAtE,aAAuE,EAAlE,SAAiE,GAElE,mSAIQ,OALV,aAMC,EALC,SAIQ,GAKN,2RAIQ,OAPV,mzBAgBE,EAbA,SAIQ,EAPV,0FAgBE,GAaC,yLAAyD,KAA9D,aAA+D,EAA1D,UAAyD,GAE5D,6LAGQ,KAJV,aAKC,EAJC,UAGQ,GAKN,qLAGQ,KANV,uzBAeE,EAZA,UAGQ,EANV,8FAeE,GASA,sPAMQ,OARV,aAWC,EATC,UAMQ,GAST,6LAA6D,KAAlE,aAAmE,EAA9D,UAA6D,GAAC,4DAAgC,GAEhG,8LAA8D,KAAnE,aAAoE,EAA/D,UAA8D,GAC5D,yMAAyE,KAA9E,aAA+E,EAA1E,UAAyE,GAGxE,2LAA2D,KAAjE,gpBAA4F,EAAtF,UAA2D,EAAjE,kFAA4F,GAC1F,uwBAQC;0GAwCH,0JAQC,IALC,2RAIO,IACR,iFAED,yDAPE,kPAIO,OAPT,YAQC,EALC,SAIO;0GAsBT,0JAQC,IALC,2RAIQ,IACT,iFAED,yDAPE,mPAIQ,OAPV,YAQC,EALC,SAIQ;0GAMd,oIAGC,IADC,yMAA6D,IAC9D,mKAED,yDAHE,yLAA6D,KAF/D,YAGC,EADC,SAA6D;0GAI/D,oIAAoG,IAA9D,yMAA6D,IAAC,wGAEpG,yDAFsC,yLAA6D,KAAnG,YAAoG,EAA9D,SAA6D;0GAc3G,wLAIC,YADC;;wBAAuB;MAHzB,wBAIC,IAFC,yMAAmD,IAGnD,gLAGC,IADC,yMAA2D,IAE7D,oIAA+D,IAA1D,yMAAyD,IAAC,gFAE/D,yDATA,+KAAmD,KAFrD,YAIC,EAFC,SAAmD,GAKjD,uLAA2D,KAF7D,YAGC,EADC,SAA2D,GAExD,qLAAyD,KAA9D,YAA+D,EAA1D,SAAyD;yGAnUhE,sIAMC,IALC,2SAIQ,IAER,wLAAkG,YAAzB;;wBAAwB;MAAjG,wBAAkG,IAA7F,yMAAmE,IAA0B,2FAEhG,0IAA+E,IAA1E,yMAAyE,IAGhF,uIAAuF,IAAlF,2RAAiF,IACpF,uIAAyF,IAApF,2RAAmF,IACtF,wzCAA2B,IAE3B,sIAAyF,IAApF,0RAAmF,IACtF,qIAA8F,IAAzF,0RAAwF,IAC3F,qIAA4E,IAAvE,0MAAsE,IAAC,qHAE5E,MAIA,sdAA+D,IA4BnE,sIAA2F,IAAtF,0RAAqF,IACxF,qIAAuE,IAAlE,0MAAiE,IACpE,qIAA4E,IAAvE,0MAAsE,IAAC,qFAAa,MAE3F,yHAAK,KACH,sIAAyE,IAApE,0MAAmE,IACtE,yLAOC,YADC;;wBAAkC;MANpC,wBAOC,IANC,2RAIQ,IAGV,qIAA+E,IAA1E,0MAAyE,IAAC,kFAAU,MAE3F,qIAA2E,IAAtE,0MAAqE,IAC1E,sIAAyE,IAApE,0MAAmE,IACtE,yLAOC,YADC;;wBAAmC;MANrC,wBAOC,IANC,2RAIQ,IAGV,qIAA+E,IAA1E,0MAAyE,IAAC,4EAAI,MAErF,sIAAyE,IAApE,0MAAmE,IACtE,yLAOC,YADC;;wBAAmC;MANrC,wBAOC,IANC,2RAIQ,IAGV,qIAA+E,IAA1E,0MAAyE,IAAC,+EAAO,MAK5F,mcAAiE,IAEjE,wHAAqB,KAMrB,2HAAwB,KAqHxB,sIAAuF,IAAlF,0RAAiF,IACpF,qIAAsG,IAAjG,mSAAgG,IACnG,qIAA4E,IAAvE,0MAAsE,IAAC,uFAAU,MAExF,sIAAuE,IAAlE,2MAAiE,IACpE,uIAQG,IAPD,6RAMQ,IAER;;;;;;;;;;;wBAkBE;MAJA;;wBAAoC;MACpC;;wBAAmD;MACnD;;wBAAqC;MACrC;;wBAAiC;MAjBnC,kbAkBE,GARA,+FAAiE,KAVnE,wrDAkBE,GAfA,6RAMQ,IAUV,+YAQC,IAIH,sIAA+D,IAA1D,2MAAyD,IAC9D,uIAEC,IADC,6RAA8H,IAE9H;;;;;;;;;;;wBAYE;MAJA;;wBAAoC;MACpC;;wBAAmD;MACnD;;wBAAqC;MACrC;;wBAAiC;MAXnC,kbAYE,GARA,+FAAiE,KAJnE,wrDAYE,GATA,6RAAqH,IAUvH,+YAQC,IAKL,+YAGC,IAGD,+YAAoG,IAItG,0LAAmF,YAAzB;;wBAAwB;MAAlF,wBAAmF,IAA9E,2MAAoD,IAA0B,kGAEnF,MACA,0LAAyF,YAAzB;;wBAAwB;MAAxF,wBAAyF,IAApF,2MAA0D,IAA0B,kLAGzF,MAIN,+YAIC,iDAtSuB,mBAAgD,qBAA9D,aAA+D,EAAjD,SAAgD,GAsEpD,4LAAkD,GAAhE,aAAiE,EAAnD,kCAAkD,GAqJxD,2FAAiE,UAVnE,cAkBE,EARA,UAAiE,GAEjE,oBAAa,EAZf,cAkBE,EANA,UAAa,GACb,oBAAwB,eAb1B,cAkBE,EALA,UAAwB,GAOxB,mHAA2F,IAD7F,cAQC,EAPC,UAA2F,GAmB3F,2FAAiE,UAJnE,cAYE,EARA,UAAiE,GAEjE,oBAAa,EANf,cAYE,EANA,UAAa,GACb,oBAAwB,eAP1B,cAYE,EALA,UAAwB,GAOxB,+CAAmC,GADrC,cAQC,EAPC,UAAmC,GAavC,mHAAwF,IAD1F,cAGC,EAFC,UAAwF,GAKrF,8CAAgC,GAArC,cAAoG,EAA/F,UAAgC,GAe3C,oBAAqB,gBADvB,cAIC,EAHC,UAAqB,mDA1TrB,qRAIQ,OALV,YAMC,EALC,SAIQ,GAEH,+LAAmE,KAAxE,YAAkG,EAA7F,SAAmE,GAEjE,sMAAyE,KAA9E,YAA+E,EAA1E,SAAyE,GAG3E,8MAAiF,MAAtF,aAAuF,EAAlF,SAAiF,GAC/E,gNAAmF,MAAxF,aAAyF,EAApF,SAAmF,GAGjF,iNAAmF,MAAxF,aAAyF,EAApF,SAAmF,GACjF,sNAAwF,MAA7F,aAA8F,EAAzF,SAAwF,GACtF,qMAAsE,KAA3E,aAA4E,EAAvE,SAAsE,GAkC1E,mNAAqF,MAA1F,aAA2F,EAAtF,SAAqF,GACnF,iMAAiE,KAAtE,aAAuE,EAAlE,UAAiE,GAC/D,sMAAsE,KAA3E,aAA4E,EAAvE,UAAsE,GAGtE,mMAAmE,KAAxE,aAAyE,EAApE,UAAmE,GAEpE,2QAIQ,OALV,aAOC,EANC,UAIQ,GAGL,yMAAyE,KAA9E,aAA+E,EAA1E,UAAyE,GAE3E,qMAAqE,KAA1E,aAA2E,EAAtE,UAAqE,GACrE,mMAAmE,KAAxE,aAAyE,EAApE,UAAmE,GAEpE,iQAIQ,OALV,aAOC,EANC,UAIQ,GAGL,yMAAyE,KAA9E,aAA+E,EAA1E,UAAyE,GAE3E,mMAAmE,KAAxE,aAAyE,EAApE,UAAmE,GAEpE,iQAIQ,OALV,aAOC,EANC,UAIQ,GAGL,yMAAyE,KAA9E,aAA+E,EAA1E,UAAyE,GAkI/E,gNAAiF,MAAtF,aAAuF,EAAlF,UAAiF,GAC/E,sNAAgG,MAArG,aAAsG,EAAjG,UAAgG,GAC9F,sMAAsE,KAA3E,aAA4E,EAAvE,UAAsE,GAExE,mMAAiE,KAAtE,aAAuE,EAAlE,UAAiE,GAElE,4UAMQ,OAPV,cAQG,EAPD,UAMQ,GAKN,oUAMQ,OATV,i0BAkBE,EAfA,UAMQ,EATV,8FAkBE,GAaC,4LAAyD,KAA9D,cAA+D,EAA1D,UAAyD,GAE5D,uQAA8H,OADhI,cAEC,EADC,UAA8H,GAK5H,+PAAqH,OAHvH,i0BAYE,EATA,UAAqH,EAHvH,8FAYE,GAwBH,uLAAoD,KAAzD,cAAmF,EAA9E,UAAoD,GAGpD,6LAA0D,KAA/D,cAAyF,EAApF,UAA0D;;;;;;;;;;;;;;;;ACnTrE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMuB;AAEiC;AAGtB;AAE8C;AAEE;AACI;AACP;AAES;AACsB;AAE9G,IAAI,uBAAuB,GAAG,+DAAgB,CAAC;AAC/C,IAAI,uBAAuB,GAAG,+DAAgB,CAAC;AAC/C,IAAM,4BAA4B,GAAG,CAAC,uBAAuB,EAAE,uBAAuB,CAAC,CAAC;AAExF,IAAM,mBAAmB,GAAG;IAC1B,OAAO,EAAE,IAAI;IACb,KAAK,EAAE,CAAC,+DAAgB,EAAE,+DAAgB,CAAC;IAC3C,IAAI,EAAE,KAAK;IACX,SAAS,EAAE,EAAE;IACb,KAAK,EAAE;QACL,GAAG,EAAE,+DAAgB;QACrB,GAAG,EAAE,+DAAgB;KACtB;CACF,CAAC;AAEF,IAAM,aAAa,GAAG,QAAQ,CAAC;AAC/B,IAAM,YAAY,GAAG,OAAO,CAAC;AAE7B,IAAM,sBAAsB,GAAG,IAAI,CAAC;AAEpC,IAAM,oBAAoB,GAAa;IACrC,SAAS;IACT,YAAY;IACZ,QAAQ;CACT,CAAC;AAEF,IAAM,uBAAuB,GAA0C;IACrE,OAAO,EAAE,2EAA2E;IACpF,UAAU,EAAE,kEAAkE;UAC1E,uEAAuE;IAC3E,MAAM,EAAE,mFAAmF;CAC5F,CAAC;AAEF;IAyGE,6BACU,EAAc,EACd,iBAAoC,EACpC,WAAwB,EACxB,cAAiC,EAClC,mBAAwC,EACxC,gBAAkC;QALjC,OAAE,GAAF,EAAE,CAAY;QACd,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAmB;QAClC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,qBAAgB,GAAhB,gBAAgB,CAAkB;QA5FpC,iBAAY,GAAG,IAAI,CAAC;QACpB,mBAAc,GAAG,IAAI,CAAC;QACtB,iBAAY,GAAO,4BAA4B,SAAE;QACjD,YAAO,GAAkB,EAAC,SAAS,EAAE,uBAAuB,EAAE,OAAO,EAAE,uBAAuB,EAAkB,CAAC;QACjH,sBAAiB,GAAQ,mBAAmB,CAAC;QAQ7C,kBAAa,GAAY,KAAK,CAAC;QAC/B,mBAAc,GAAY,KAAK,CAAC;QAChC,iBAAY,GAAY,IAAI,CAAC;QAC7B,UAAK,GAAW,aAAa,CAAC;QAE9B,qBAAgB,GAAe,EAAE,CAAC;QAIlC,4BAAuB,GAAG,CAAC,CAAC;QAC5B,4BAAuB,GAAG,CAAC,CAAC;QAE5B,wBAAmB,GAAY,yFAAmB,EAAE,CAAC;QACrD,mBAAc,GAAY,oFAAc,EAAE,CAAC;QAC3C,kBAAa,GAAY,mFAAa,EAAE,CAAC;QAEzC,uBAAkB,GAAa,oBAAoB,CAAC;QAkEzD,IAAI,CAAC,OAAO,GAAG,gBAAgB,CAAC,gBAAgB,CAAC;QACjD,IAAI,CAAC,cAAc,GAAG,uDAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,GAAG,CAAC,CAAC;QAEtG,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACnE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC/D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC/F,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACnG,CAAC;IAzED,sBAAW,8CAAa;aAAxB;YACE,OAAO,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC;QAC5C,CAAC;;;OAAA;IAED,sBAAW,0DAAyB;aAApC;YACE,IAAI,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,qBAAqB,EAAE,CAAC,GAAG,GAAG,GAAG;gBAAE,OAAO,QAAQ,CAAC;YACzF,OAAO,KAAK,CAAC;QACf,CAAC;;;OAAA;IAED,sBAAW,mDAAkB;aAA7B;YACE,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,IAAI,IAAI;gBAAE,OAAO,KAAK,CAAC;YACpD,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,uCAAuC;gBAAE,OAAO,MAAM,CAAC;YACzF,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;QACnC,CAAC;;;OAAA;IAED,sBAAW,qDAAoB;aAA/B;YACE,OAAO,uBAAuB,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAW,qDAAoB;aAA/B;YACE,OAAO,uBAAuB,CAAC;QACjC,CAAC;;;OAAA;IAEO,4CAAc,GAAtB;QACE,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,KAAK,uBAAuB;YACpD,CAAC,CAAC,uBAAuB;YACzB,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QAEnC,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,KAAK,uBAAuB;YAClD,CAAC,CAAC,uBAAuB;YACzB,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;QAEjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAC,OAAO,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC;QACnE,IAAI,CAAC,uBAAuB,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,sBAAW,uDAAsB;aAAjC;YACE,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,IAAI,IAAI,CAAC;QAC3C,CAAC;;;OAAA;IAED,sBAAW,kDAAiB;aAA5B;YACE,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,KAAK,CAAC;QAC7C,CAAC;;;OAAA;IAED,sBAAW,kDAAiB;aAA5B;YACE,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,KAAK,CAAC;QAC7C,CAAC;;;OAAA;IAED,sBAAW,6CAAY;aAAvB;YACE,OAAO,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,iBAAiB,CAAC;QAC/D,CAAC;;;OAAA;IAED,sBAAW,6CAAY;aAAvB;YACE,OAAO,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,iBAAiB,CAAC;QAC/D,CAAC;;;OAAA;IAqBM,sCAAQ,GAAf;QAAA,iBAkCC;QAjCC,uEAAuE;QACvE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,mBAAmB;YAAE,IAAI,CAAC,YAAY,EAAE,CAAC;QACrE,gGAAgG;QAChG,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,iBAAiB,CAAC,wBAAwB,EAAE;aACjF,SAAS,CACR,UAAC,eAA2B;YAC1B,QAAQ,eAAe,CAAC,MAAM,EAAE;gBAC9B,KAAK,MAAM,CAAC,CAAC;oBACX,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,MAAM;iBACP;gBACD,KAAK,SAAS,CAAC,CAAC;oBACd,MAAM;iBACP;gBACD,KAAK,QAAQ,CAAC,CAAC;oBACb,IAAI,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;wBAChD,IAAI,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE;4BAChC,KAAI,CAAC,YAAY,GAAG,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;yBAC1E;;4BAAM,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;wBAEhC,IAAI,eAAe,CAAC,IAAI,CAAC,OAAO,IAAI,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE;4BAChE,KAAI,CAAC,WAAW,CAAC,sBAAsB,EAAE,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;4BAC/D,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;yBAC5C;wBACD,KAAI,CAAC,cAAc,GAAG,IAAI,CAAC;wBAC3B,+DAA+D;wBAC/D,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;qBACrC;oBACD,MAAM;iBACP;aACF;QACH,CAAC,CACF,CAAC;IACN,CAAC;IAEM,yCAAW,GAAlB;QACE,IAAI,CAAC,2BAA2B,CAAC,WAAW,EAAE,CAAC;IACjD,CAAC;IAED;;;OAGG;IACI,qDAAuB,GAA9B,UAA+B,MAAgB;QAC7C,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;QAC3B,IAAI,uBAAuB,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,uBAAuB,EAAE;YACtG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAChE;IACH,CAAC;IAEM,gDAAkB,GAAzB,UAA0B,KAAoC;QAC5D,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,KAAK,EAAE;YACvC,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,uCAAuC,CAAC;SACrE;aAAM,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,IAAI,EAAE;YAC7C,IAAI,KAAK,KAAK,KAAK;gBAAE,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,KAAK,CAAC;iBAClD,IAAI,KAAK,KAAK,KAAK;gBAAE,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,KAAK,CAAC;SAC7D;aAAM,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,KAAK,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,KAAK,EAAE;YACrF,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC;SAClC;aAAM,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,KAAK,uCAAuC,EAAE;YAChF,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,KAAK,CAAC;SACnC;QACD,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAEM,yCAAW,GAAlB;QACE,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;IACjD,CAAC;IAEM,0CAAY,GAAnB;QACE,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAEM,iDAAmB,GAA1B,UAA2B,KAAK;QAAhC,iBAWC;QAVC,IAAI,KAAK,KAAK,KAAK,EAAE;YACnB,IAAM,QAAQ,GAAS,MAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAChE,IAAM,MAAM,GAAS,MAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAChE,IAAM,UAAQ,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,UAAC,SAAS,IAAK,gBAAS,EAAT,CAAS,CAAC,CAAC;YACzD,QAAQ,CAAC,OAAO,CAAC,UAAC,MAAM;gBACtB,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,UAAQ,CAAC;YAChD,CAAC,CAAC,CAAC;SACJ;;YAAM,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAE9E,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAEM,+CAAiB,GAAxB,UAAyB,KAAiB;QACxC,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,4EAA4E;QAC5E,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACnE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC/D,IAAI,IAAI,CAAC,aAAa;YAAE,OAAO;QAC/B,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,mDAAmD;QACnD,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;IACtC,CAAC;IAEM,2CAAa,GAApB;QACE,IAAO,MAAM,GAAG,QAAQ,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QACvD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACtC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;SAClB;IACH,CAAC;IAEM,mDAAqB,GAA5B,UAA6B,KAAiB;QAC5C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;QAC3E,IAAM,SAAS,GAAO,IAAI,CAAC,YAAY,QAAC,CAAC;QACzC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QAEtC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACvD,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAEM,iDAAmB,GAA1B,UAA2B,KAAiB;QAC1C,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;QACvE,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,KAAK,CAAC,EAAE;YAC9B,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,4BAA4B,CAAC,CAAC,CAAC,CAAC;SACxD;QACD,IAAM,SAAS,GAAO,IAAI,CAAC,YAAY,QAAC,CAAC;QACzC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;QACpC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,SAAS,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAEzD,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAEM,8CAAgB,GAAvB,UAAwB,KAAU;QAChC,IAAM,GAAG,GAAG,KAAK,CAAC,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;QACzF,IAAM,QAAQ,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,YAAY,EAAE,WAAW,CAAC,CAAC;QACtI,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAAE,KAAK,CAAC,cAAc,EAAE,CAAC;IAC3D,CAAC;IAEM,+CAAiB,GAAxB,UAAyB,KAAU,EAAE,aAAqB;QACxD,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC;QACpC,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;YAAE,IAAI,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;;YACzE,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;IAChD,CAAC;IAEM,+CAAiB,GAAxB;QACE,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,6CAAe,GAAtB;QACE,OAAO,KAAK,CAAC;IACf,CAAC;IAEM,oDAAsB,GAA7B,UAA8B,KAAU;QACtC,IAAM,SAAS,GAAW,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;QAC7E,IAAI,SAAS,KAAK,4BAA4B,CAAC,CAAC,CAAC,IAAI,SAAS,KAAK,CAAC;YAAE,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;;YACzF,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC;IACtC,CAAC;IAEM,iDAAmB,GAA1B,UAA2B,KAAU;QACnC,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK;YAAE,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;IAClG,CAAC;IAEM,+CAAiB,GAAxB,UAAyB,KAAU;QACjC,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;QACjE,IAAI,KAAK,GAAG,CAAC;YAAE,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;;YAC1D,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;QAC7B,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,8CAAgB,GAAvB,UAAwB,KAAiB;QACvC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAEM,6CAAe,GAAtB,UAAuB,EAA4D;YAA3D,mBAAe,EAAE,sBAAkB,EAAE,oBAAgB;QAC3E,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,IAAI,IAAI,IAAI;YAAE,OAAO;QACzB,IAAM,YAAY,GAAG,IAAI,CAAC;QAC1B,IAAM,QAAQ,GAAG,YAAY,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,MAAM,IAAK,UAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,EAAvC,CAAuC,EAAE,CAAC,CAAC,CAAC;QAClG,IAAM,eAAe,GAAG,EAAE,CAAC;QAC3B,IAAM,eAAe,GAAG,CAAC,CAAC;QAC1B,IAAM,sBAAsB,GAAG,eAAe,GAAG,QAAQ,CAAC;QAE1D,KAAqB,UAAY,EAAZ,6BAAY,EAAZ,0BAAY,EAAZ,IAAY,EAAE;YAA9B,IAAM,MAAM;YACf,IAAM,YAAY,GAAG,sBAAsB,GAAG,MAAM,CAAC,KAAK,CAAC;YAC3D,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;gBACzB,KAAK,EAAE;oBACL,UAAU,EAAE,UAAU;oBACtB,QAAQ,EAAE,KAAK;oBACf,MAAM,EAAK,MAAM,CAAC,kBAAkB,GAAG,KAAK,MAAG;oBAC/C,OAAO,EAAE,IAAI;oBACb,QAAQ,EAAE,CAAG,MAAM,CAAC,KAAK,GAAG,CAAC,IAAI,YAAY,GAAG,eAAe,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,YAAY,QAAI;oBACpG,QAAQ,EAAE,KAAK;oBACf,yDAAyD;oBACzD,YAAY,EAAE,MAAG,MAAM,CAAC,kBAAkB,GAAG,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS;wBACzD,MAAM,CAAC,kBAAkB,GAAG,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO;wBACtD,CAAC,CAAC,iBAAiB;wBACnB,CAAC,CAAC,MAAM,CACR;iBACnB;aACF,CAAC,CAAC;SACJ;IACH,CAAC;IAEM,6CAAe,GAAtB,UAAuB,OAAe,EAAE,KAAa;QACnD,OAAO,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC;IACrD,CAAC;IAEM,0CAAY,GAAnB;QACE,IAAI,CAAC,YAAY,GAAG,4BAA4B,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC5E,IAAI,CAAC,UAAU,GAAG,4BAA4B,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC1E,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC;QACrC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC;QACtD,IAAI,CAAC,YAAY,GAAO,4BAA4B,QAAC,CAAC;QACtD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC/F,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACnG,CAAC;IAEM,uCAAS,GAAhB,UAAiB,GAAW,EAAE,GAAW;QACvC,IAAI,GAAG,KAAK,GAAG,EAAE;YAAC,GAAG,IAAI,KAAK,CAAC;YAAC,GAAG,IAAI,KAAK,CAAC;SAAE;QAC/C,uBAAuB,GAAG,GAAG,CAAC;QAC9B,uBAAuB,GAAG,GAAG,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,CAAC,uBAAuB,EAAE,uBAAuB,CAAC,CAAC;QACvE,IAAI,CAAC,uBAAuB,GAAG,uBAAuB,CAAC;IACzD,CAAC;IAEM,yCAAW,GAAlB,UAAmB,GAAW,EAAE,GAAW;QAA3C,iBAqBC;QApBC,IAAI,IAAI,CAAC,uBAAuB,KAAK,GAAG;YAAE,OAAO;QAEjD,mGAAmG;QACnG,wDAAwD;QACxD,IAAI,IAAI,CAAC,uBAAuB,KAAK,CAAC;YAAE,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACjE,UAAU,CAAE;YACV,yEAAyE;YACzE,2CAA2C;YAC3C,KAAI,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YAEzB,KAAI,CAAC,OAAO,CAAC,SAAS,GAAG,uBAAuB,CAAC;YACjD,KAAI,CAAC,OAAO,CAAC,OAAO,GAAG,uBAAuB,CAAC;YAE/C,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YACnE,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YAC/D,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,SAAS,EAAE,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YAE5F,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC7B,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAEM,kDAAoB,GAA3B,UAA4B,aAAqB;QAC/C,OAAO,kGAAwB,CAAC,aAAa,CAAC,CAAC;IACjD,CAAC;IAEM,kDAAoB,GAA3B,UAA4B,aAAqB;QAC/C,OAAO,uBAAuB,CAAC,aAAa,CAAC,CAAC;IAChD,CAAC;IAEM,4CAAc,GAArB,UAAsB,MAAc;QAClC,OAAO,MAAM,KAAK,QAAQ,CAAC;IAC7B,CAAC;IACH,0BAAC;AAAD,CAAC;;;;;;;;;;;;;;ACjbD;AAAA;AAAA;AAAA;AAAA;AAAkC;AAEgD;AAElF;IA2BE;QAlBS,cAAS,GAAG,KAAK,CAAC;QAIpB,oBAAe,GAAQ;YAC5B,IAAI,EAAE;gBACJ,OAAO,EAAE,KAAK;aACf;YACD,IAAI,EAAE;gBACJ,OAAO,EAAE,KAAK;aACf;YACD,eAAe,EAAE;gBACf,OAAO,EAAE,KAAK;aACf;SACF,CAAC;QAEK,UAAK,GAAW,iBAAiB,CAAC;QAGvC,IAAI,CAAC,oBAAoB,GAAG,uDAAQ,CAAC,UAAC,KAAK;YACzC,qBAAqB,CAAC,cAAM,YAAK,CAAC,KAAK,EAAE,EAAb,CAAa,CAAC,CAAC;QAC7C,CAAC,EAAE,GAAG,CAAC,CAAC;QAER,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC;IAEM,6CAAW,GAAlB,UAAmB,CAAa;QAAb,yBAAa;QAC9B,IAAI,CAAC,GAAG,QAAQ,CAAC,WAAW,CAAC,MAAM;YAAE,OAAO;QAC5C,wCAAwC;QACxC,IAAM,cAAc,GAAQ,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QACpD,IAAI;YACF,cAAc,CAAC,UAAU,CAAC,kIAExB,CAAC,CAAC;YACJ,cAAc,CAAC,UAAU,CAAC,4JAExB,CAAC,CAAC;YACJ,OAAO;SACR;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;SACvB;IACH,CAAC;IAEM,gDAAc,GAArB;QACE,IAAI,yFAAmB,EAAE;YAAE,OAAO,QAAQ,CAAC;;YACtC,OAAO,KAAK,CAAC;IACpB,CAAC;IACH,8BAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kHCjED,oIAA6D,IAAxD,yMAAuD,IAC1D,kQAMC,YADC;;wBAAgC;MALlC,47BAMC,8FAED,2BANE,iCAAuB,EACvB,wBAAa,EACb,oBAAgB,EAJlB,YAMC,EAJC,SAAuB,EACvB,SAAa,EACb,SAAgB,mDALf,mLAAuD,KAA5D,YAA6D,EAAxD,SAAuD,GAC1D,+GAMC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNsC;AAEW;AACJ;AAEwB;AACA;AAEW;AACkB;AACI;AACtB;AACL;AACS;AACL;AAC2B;AAG3B;AAC8C;AAehI;IAuEE,sCACU,WAAwB,EACxB,WAAwB,EACxB,gBAAkC,EAClC,gBAAkC,EAClC,aAA4B,EAC5B,MAAc,EACd,2BAAwD,EACxD,YAA2B,EACX,MAAqB;QARrC,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAQ;QACd,gCAA2B,GAA3B,2BAA2B,CAA6B;QACxD,iBAAY,GAAZ,YAAY,CAAe;QACX,WAAM,GAAN,MAAM,CAAe;QA1ExC,UAAK,GAAW,uBAAuB,CAAC;QACxC,oBAAe,GAAW,EAAE,CAAC;QAC5B,wBAAmB,GAAY,0FAAmB,EAAE,CAAC;IAyEzD,CAAC;IAvEL,sBAAW,wDAAc;aAAzB;YACE,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;QACvC,CAAC;;;OAAA;IAED,sBAAW,0DAAgB;aAA3B;YACE,IAAI,eAAe,GAAkB,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;YAEnG,IAAI,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC7E,OAAO;aACR;YAED,IAAI,eAAe,CAAC,MAAM,KAAK,CAAC,EAAE;gBAChC,eAAe,GAAG,CAAC,cAAc,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;aAC1D;YAED,OAAO;gBACL,IAAI,EAAE,IAAI,CAAC,eAAe;gBAC1B,IAAI,EAAE,UAAU;gBAChB,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS;gBACvC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO;gBACrC,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ;gBAC3C,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS;gBAC5C,aAAa,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC;gBAC3E,eAAe;aAChB,CAAC;QACJ,CAAC;;;OAAA;IAEa,wDAAiB,GAA/B;;;;;;wBACQ,IAAI,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;;;;wBAG/D,qBAAM,IAAI,CAAC,2BAA2B,CAAC,kBAAkB,CAAC,IAAI,CAAC;;wBAA/D,SAA+D,CAAC;wBAChE,sBAAO,IAAI,EAAC;;;wBAEZ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sDAAsD,EAAE,OAAK,CAAC,CAAC;wBACjF,sBAAO,KAAK,EAAC;;;;;KAEhB;IAEO,8DAAuB,GAA/B,UAAgC,QAA+B;QAC7D,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QACtC,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,4DAAqB,GAA7B,UAA8B,aAA4B;QACxD,IAAI,aAAa,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM;YAAE,OAAO,EAAE,CAAC;QAE5E,IAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC5C,IAAM,OAAO,GAAG,QAAQ;aACrB,MAAM,CAAC,gBAAM,IAAI,oBAAa,CAAC,MAAM,CAAC,IAAI,MAAM,KAAK,MAAM,EAA1C,CAA0C,CAAC;aAC5D,GAAG,CAAC,gBAAM,IAAI,gGAAe,CAAC,MAAM,CAAC,EAAvB,CAAuB,CAAC,CAAC;QAE1C,OAAO,OAAO,CAAC;IACjB,CAAC;IAEO,4DAAqB,GAA7B,UAA8B,YAAoB;QAChD,IAAI,YAAY,KAAK,uCAAuC;YAAE,OAAO,EAAE,CAAC;aACnE,IAAI,sFAAa,CAAC,YAAY,CAAC;YAAE,OAAO,CAAC,WAAW,EAAE,qBAAqB,CAAC,CAAC;QAClF,OAAO,CAAC,2FAAiB,CAAC,YAAY,CAAC,CAAC,CAAC;IAC3C,CAAC;IAaY,yDAAkB,GAA/B;;;;;;;wBAEU,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,sHAA4B,CAAC,CAAC;wBAC9D,qBAAM,QAAQ,CAAC,MAAM;;wBAApC,SAAe,SAAqB;wBAC1C,IAAI,CAAC,sFAAa,CAAC,MAAI,CAAC,EAAE;4BACxB,IAAI,CAAC,eAAe,GAAG,MAAI,CAAC;4BAC5B,sBAAO,IAAI,EAAC;yBACb;6BAAM;4BACL,sBAAO,KAAK,EAAC;yBACd;;;;;;;;;KAEJ;IAEY,sDAAe,GAA5B;;;;;;wBACE,IAAI,+FAAiB,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;4BAC5C,sBAAO;yBACR;wBAEgC,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAA1D,wBAAwB,GAAG,SAA+B;wBAChE,IAAI,wBAAwB,EAAE;4BACtB,MAAM,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;4BACxC,IAAI,MAAM,EAAE;gCACV,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAI,mEAAmB,CAAC,OAAO,SAAI,mEAAmB,CAAC,MAAQ,CAAC,CAAC,CAAC;6BACzF;yBACF;;;;;KACF;IAEY,2DAAoB,GAAjC;;;;;;6BACM,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,EAAjC,wBAAiC;wBACnC,qBAAM,IAAI,CAAC,eAAe,EAAE;;wBAA5B,SAA4B,CAAC;;4BAEI,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAA1D,wBAAwB,GAAG,SAA+B;wBAChE,IAAI,wBAAwB,EAAE;4BAC5B,IAAI,CAAC,WAAW,CAAC,+BAA+B,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;4BACxE,IAAI,CAAC,UAAU,EAAE,CAAC;yBACnB;;;;;;KAEJ;IAEO,iDAAU,GAAlB;QACE,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC5B,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;aAAM;YACL,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;IACH,CAAC;IAEO,sDAAe,GAAvB;QACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,CAAE,QAAQ,CAAC,EAAE,EAAC,CAAC,CAAC,CAAC;IAC/D,CAAC;IAEO,2DAAoB,GAA5B;QACE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,mIAAyB,CAAC,CAAC;IACjE,CAAC;IACH,mCAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kGCzKD,+MAMC,YAFC;;wBAAkC;MAClC;;wBAAwB;MAL1B,urBAMC,mDAJC,mBAAsC,oBACtC,mBAAgB,UAHlB,YAMC,EAJC,SAAsC,EACtC,SAAgB;kGAalB,2RAYC,YALC;;wBAA2C;MAC3C;;wBAAkC;MAClC;;wBAA2B;MAC3B;;wBAA2B;MAC3B;;wBAAiD;MAXnD,sqCAYC,mDAPC,mBAA2B,iBAC3B,mBAA6C,uBAF7C,mBAAuB,YADvB,mBAA8B,qBAHhC,YAYC,EAPC,SAA2B,EAC3B,SAA6C,EAF7C,SAAuB,EADvB,SAA8B;4LArBhC,oIAA6D,IAAxD,0MAAuD,IAE5D,sYAMC,IAED,yNAMC,YAFC;;wBAAuB;MACvB;;wBAAwB;MAL1B,0gBAMC,KALC,0MAAwD,IAO1D,uYAYC,IAED,qlBAGC,iDAhCC,mBAA4B,uBAD9B,YAMC,EALC,SAA4B,GAS5B,mBAAgC,iBAChC,mBAAgC,gBAHlC,YAMC,EAJC,SAAgC,EAChC,SAAgC,GAOhC,yCAA4B,GAF9B,aAYC,EAVC,SAA4B,GAa5B,mBAAa,OACb,mBAAuB,YAFzB,aAGC,EAFC,SAAa,EACb,SAAuB,mDAlCpB,mLAAuD,KAA5D,YAA6D,EAAxD,SAAuD,GAW1D,oLAAwD,KAD1D,YAMC,EALC,SAAwD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDnC;AAEwD;AAE/B;AACd;AAGgD;AACA;AACF;AACc;AACf;AACO;AACjB;AACiC;AAIpC;AACK;AAGW;AAUsB;AAE9B;AACU;AAKK;AAC/B;AAKjB;AAEzC,IAAM,gBAAgB,GAAG,KAAK,CAAC;AAE/B;IAqRE,iBAAiB;IACjB,sBACU,UAAsB,EACtB,UAA6B,EAC7B,SAA2B,EAC3B,SAA2B,EAC3B,mBAA4C,EAC5C,IAAY,EACZ,iBAAoC,EACpC,YAAiC,EACjC,WAAwB,EACxB,iBAAoC,EACpC,kBAA+C,EAC/C,YAA2B,EACX,MAAqB,EACd,YAAqB;QAb5C,eAAU,GAAV,UAAU,CAAY;QACtB,eAAU,GAAV,UAAU,CAAmB;QAC7B,cAAS,GAAT,SAAS,CAAkB;QAC3B,cAAS,GAAT,SAAS,CAAkB;QAC3B,wBAAmB,GAAnB,mBAAmB,CAAyB;QAC5C,SAAI,GAAJ,IAAI,CAAQ;QACZ,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,iBAAY,GAAZ,YAAY,CAAqB;QACjC,gBAAW,GAAX,WAAW,CAAa;QACxB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,uBAAkB,GAAlB,kBAAkB,CAA6B;QAC/C,iBAAY,GAAZ,YAAY,CAAe;QACX,WAAM,GAAN,MAAM,CAAe;QACd,iBAAY,GAAZ,YAAY,CAAS;QAzRtD,gBAAgB;QACN,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;QACjD,gBAAW,GAAsB,IAAI,0DAAY,EAAE,CAAC;QACpD,oBAAe,GAAsB,IAAI,0DAAY,EAAE,CAAC;QAIlE,iBAAiB;QACT,eAAU,GAAQ,IAAI,CAAC;QAOvB,qBAAgB,GAAY,KAAK,CAAC;QAClC,mBAAc,GAAY,IAAI,CAAC;QAE/B,yBAAoB,GAAuC,EAAE,CAAC;QAC9D,iBAAY,GAA6B,EAAE,CAAC;QAE5C,0BAAqB,GAAG,IAAI,CAAC;QAC7B,sBAAiB,GAAY,KAAK,CAAC;QAE3C,gBAAgB;QACT,cAAS,GAAoB,IAAI,CAAC;QAClC,sBAAiB,GAAQ,kEAAY,CAAC;QACtC,aAAQ,GAAyB,IAAI,CAAC;QAEtC,mBAAc,GAAgB,IAAI,CAAC;QACnC,iBAAY,GAAgC,IAAI,CAAC;QACjD,mBAAc,GAAW,IAAI,CAAC;QAC9B,qBAAgB,GAAW,IAAI,CAAC;QAEhC,YAAO,GAA6C,IAAI,GAAG,EAAuC,CAAC;QACnG,aAAQ,GAAoC,IAAI,GAAG,EAA8B,CAAC;QAClF,qBAAgB,GAAqC,IAAI,GAAG,EAA8B,CAAC;QAE3F,oBAAe,GAA8B,IAAI,GAAG,EAAwB,CAAC;QAE7E,uBAAkB,GAA+B,IAAI,CAAC;QACtD,gCAA2B,GAAsB,IAAI,CAAC;QAEtD,yBAAoB,GAAY,KAAK,CAAC;QACtC,sBAAiB,GAAY,KAAK,CAAC;QACnC,qBAAgB,GAAG,KAAK,CAAC;QACzB,yBAAoB,GAAG,KAAK,CAAC;QAC7B,uBAAkB,GAAY,KAAK,CAAC;QAEpC,SAAI,GAAW,EAAE,CAAC;QAElB,oBAAe,GAAwB,IAAI,CAAC;QAE5C,kBAAa,GAAuB,IAAI,CAAC;QAEzC,mBAAc,GAAY,qFAAc,EAAE,CAAC;QAC3C,kBAAa,GAAY,oFAAa,EAAE,CAAC;QAEzC,UAAK,GAAW,KAAK,CAAC;QAiO3B,IAAI,CAAC,YAAY,GAAG,uDAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QAChE,6EAA6E;QAC7E,mEAAmE;QACnE,8DAA8D;QAC9D,IAAI,CAAC,cAAc,GAAG,uDAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACpE,IAAI,CAAC,gBAAgB,GAAG,uDAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACxE,IAAI,CAAC,YAAY,GAAG,uDAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QAChE,IAAI,CAAC,cAAc,GAAG,uDAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QACpE,IAAI,CAAC,mBAAmB,GAAG,uDAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QAC/E,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAvOD,sBAAW,mCAAS;QAHpB,0BAA0B;QAE1B,yBAAyB;aACzB;YACE,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;YAC1C,IAAI,MAAM,IAAI,IAAI;gBAAE,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;YAEtD,IAAM,OAAO,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;YACtC,IAAM,OAAO,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;YAEtC,IAAI,IAAI,CAAC,OAAO,IAAI,EAAE,EAAE;gBACtB,OAAO;oBACL,UAAU,EAAE,OAAO,CAAC,GAAG,EAAE,GAAG,gBAAgB;oBAC5C,WAAW,EAAE,OAAO,CAAC,GAAG,EAAE,GAAG,gBAAgB;oBAC7C,UAAU,EAAE,OAAO,CAAC,GAAG,EAAE,GAAG,gBAAgB;oBAC5C,WAAW,EAAE,OAAO,CAAC,GAAG,EAAE,GAAG,gBAAgB;iBAC9C,CAAC;aACH;YAED,OAAO;gBACL,UAAU,EAAE,OAAO,CAAC,GAAG,EAAE;gBACzB,WAAW,EAAE,OAAO,CAAC,GAAG,EAAE;gBAC1B,UAAU,EAAE,OAAO,CAAC,GAAG,EAAE;gBACzB,WAAW,EAAE,OAAO,CAAC,GAAG,EAAE;aAC3B,CAAC;QACJ,CAAC;;;OAAA;IAED,sBAAW,iCAAO;aAAlB;YACE,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI;gBAAE,OAAO,CAAC,CAAC;YACrC,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QAClC,CAAC;aAED,UAAmB,KAAa;YAC9B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;;;OAJA;IAMD,sBAAW,mCAAS;aAApB;YACE,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI;gBAAE,OAAO,EAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAC,CAAC;YACpD,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QACpC,CAAC;aAED,UAAqB,KAAqD;YACxE,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI;gBAAE,OAAO;YACnC,gDAAgD;YAChD,mCAAmC;YACnC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC;;;OAPA;IASD,sBAAW,mCAAS;aAApB;YACE,OAAO,8EAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1C,CAAC;;;OAAA;IAED,sBAAW,0CAAgB;aAA3B;YACE,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,KAAK,8EAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAChE,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,OAAO,GAAG,CAAC;QACb,CAAC;;;OAAA;IAED,sBAAW,2CAAiB;aAA5B;YACE,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,OAAO,CAAC;YAC1C,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,OAAO,GAAG,CAAC;QACb,CAAC;;;OAAA;IAED,sBAAW,uCAAa;aAAxB;YACE,OAAO,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;QACvD,CAAC;;;OAAA;IAED,sBAAW,wCAAc;aAAzB;YACE,OAAO,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;QACvD,CAAC;;;OAAA;IAED,sBAAW,wCAAc;aAAzB;YACE,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;QAChC,CAAC;;;OAAA;IAIO,+CAAwB,GAAhC,UAAiC,GAAW,EAAE,MAAqC,EAAE,OAA4B;QAC/G,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;IACzC,CAAC;IAEO,oCAAa,GAArB,UAAsB,EAAuB;QAA7C,iBAcC;YAdsB,cAAI,EAAE,cAAI;QAC/B,IAAM,aAAa,GAAW,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC;QAEvD,IAAI,IAAI,IAAI,IAAI,KAAK,EAAE,EAAE;YACvB,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;gBACtB,IAAM,aAAW,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAEvD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,iBAAO;oBAC3B,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,aAAW,CAAC,CAAC;wBAC5D,KAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAC,CAAC;wBACvC,KAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC;gBACvC,CAAC,CAAC,CAAC;aACJ;SACF;IACH,CAAC;IAEO,2CAAoB,GAA5B;QAAA,iBAQC;QAPC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,MAAM,EAAE,EAAE;YAC9B,MAAM,CAAC,WAAW,CAAO,MAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC9C,MAAM,CAAC,IAAI,EAAE,CAAC;YACd,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEO,4CAAqB,GAA7B;QAAA,iBAaC;QAZC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAO,EAAE,EAAE;YAChC,OAAO,CAAC,WAAW,CAAO,MAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC/C,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAC,eAAe,EAAE,EAAE;YAChD,eAAe,CAAC,IAAI,EAAE,CAAC;YACvB,KAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEO,mCAAY,GAApB,UAAqB,EAAiB;YAAhB,YAAG,EAAE,YAAG;QAC5B,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,IAAI,MAAM,IAAI,IAAI;YAAE,OAAO,KAAK,CAAC;QACjC,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QAClF,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QAClF,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QAClF,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QAClF,OAAO,MAAM,GAAG,GAAG,IAAI,GAAG,GAAG,MAAM,IAAI,MAAM,GAAG,GAAG,IAAI,GAAG,GAAG,MAAM,CAAC;IACtE,CAAC;IAEO,6CAAsB,GAA9B,UAA+B,SAA6B,EAAE,OAA2B;QACvF,IAAI;YACF,OAAO,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAsB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;SAClF;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,CAAC;SACV;IACH,CAAC;IAEO,uCAAgB,GAAxB,UAAyB,aAA0C;QAAnE,iBAYC;QAXC,IAAI,aAAa,GAAG,IAAI,CAAC;QACzB,IAAI,eAAe,GAAG,QAAQ,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,MAAM;YAC1B,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,MAAM,KAAK,aAAa,IAAI,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAAE,OAAO;YAC7G,IAAM,QAAQ,GAAG,KAAI,CAAC,sBAAsB,CAAC,aAAa,CAAC,gBAAgB,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC;YACtG,IAAI,QAAQ,GAAG,CAAC,IAAI,QAAQ,GAAG,eAAe,EAAE;gBAC9C,aAAa,GAAG,MAAM,CAAC;gBACvB,eAAe,GAAG,QAAQ,CAAC;aAC5B;QACH,CAAC,CAAC,CAAC;QACH,OAAO,aAAa,CAAC;IACvB,CAAC;IAEO,yCAAkB,GAA1B,UAA2B,OAAiC;QAC1D,IAAM,OAAO,GAAkE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;QAChI,IAAM,OAAO,GAAW,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;QAC5D,OAAO,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;IACnD,CAAC;IAEO,yCAAkB,GAA1B,UAA2B,QAAgB;QACzC,OAAO,IAAI,CAAC,2BAA2B,CAAC,QAAQ,CAAC,IAAI,CAAC,oBAAU;YAC9D,OAAO,UAAU,CAAC,UAAU,CAAC,IAAI,KAAK,QAAQ,CAAC;QACjD,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,0CAAmB,GAA3B,UAA4B,OAA2B;QACrD,OAAO,IAAI,CAAC,2BAA2B,CAAC,QAAQ,CAAC,IAAI,CAAC,oBAAU;YAC9D,OAAO,UAAU,CAAC,UAAU,CAAC,IAAI,KAAK,OAAO,CAAC,IAAI,CAAC;QACrD,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,uCAAgB,GAAxB;QACE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7D,CAAC;IAEO,oCAAa,GAArB;QAAA,iBASC;QARC,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC3B,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,UAAC,OAAO;gBACrC,MAAc,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC;gBAClE,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;IACjC,CAAC;IAEO,wCAAiB,GAAzB,UAA0B,KAAc;QACtC,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,KAAK;YAAE,OAAO;QACnB,EAAE,IAAI,CAAC,OAAO,CAAC;IACjB,CAAC;IAEO,qCAAc,GAAtB;QACE,IAAI,IAAI,CAAC,WAAW,GAAG,EAAE,EAAE;YACzB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;;gBAC7D,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;SACjD;aAAM;YACL,IAAI,IAAI,CAAC,WAAW,KAAK,oEAAc,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;iBACzH,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;;gBACnE,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;SACjD;IACH,CAAC;IAgCM,+BAAQ,GAAf;QACE,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,wBAAwB,CAAC,oBAAoB,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACjH,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,CAAC,sBAAsB,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAClG,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC/F,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC7F,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,CAAC,uBAAuB,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACnG,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,CAAC,wBAAwB,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACpG,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,CAAC,wBAAwB,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACpG,IAAI,CAAC,WAAW,CAAC,qBAAqB,EAAE,IAAI,CAAC,UAAU,CAAC,4BAA4B,EAAE,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAClH,IAAI,CAAC,WAAW,CAAC,yBAAyB,EAAE,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;QAC7G,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACvG,IAAI,CAAC,WAAW,CAAC,qBAAqB,EAAE,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC3G,IAAI,CAAC,WAAW,CAAC,4BAA4B,EAAE,IAAI,CAAC,UAAU,CAAC,wCAAwC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5H,IAAI,CAAC,WAAW,CAAC,2BAA2B,EAAE,IAAI,CAAC,UAAU,CAAC,uCAAuC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1H,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,IAAI,CAAC,UAAU,CAAC,gCAAgC,EAAE,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACpH,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACzE,IAAI,CAAC,WAAW,CAAC,2BAA2B,EAAE,IAAI,CAAC,YAAY,CAAC,0BAA0B,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;QAC5H,IAAI,CAAC,WAAW,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACjG,IAAI,CAAC,WAAW,CACd,oCAAoC,EACpC,IAAI,CAAC,UAAU,CAAC,oCAAoC,EAAE,EACtD,IAAI,CAAC,kCAAkC,CACxC,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,aAAa;YAAE,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QACjE,oBAAoB;QACpB,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,CAAC;QAErC,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;YACpC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;YACpD,IAAI,CAAC,UAAU,CAAC,gBAAgB,GAAG,IAAI,CAAC;SACzC;QAED,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE;YACnC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;YACrD,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC;SACxC;IACH,CAAC;IAEM,kCAAW,GAAlB;QACE,2BAA2B;QAC3B,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,sBAAsB;QACtB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,2BAA2B;QAC3B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAQ,IAAI,OAAM,MAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAxD,CAAwD,CAAC,CAAC;QAChG,2BAA2B;QAC3B,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAEO,sCAAe,GAAvB,UAAwB,QAA8B;QACpD;;;;;UAKE;QACF,IAAI,QAAQ,EAAE;YACZ,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM,EAAE;gBACtC,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,QAAQ;gBACnB,MAAM,EAAE;oBACN,GAAG,EAAE,QAAQ,CAAC,QAAQ,CAAC,GAAG;oBAC1B,GAAG,EAAE,QAAQ,CAAC,QAAQ,CAAC,GAAG;iBAC3B;gBACD,cAAc,EAAE,QAAQ,CAAC,UAAU;gBACnC,gBAAgB,EAAE,QAAQ,CAAC,YAAY;gBACvC,oBAAoB,EAAE,IAAI,CAAC,YAAY,CAAC,6BAA6B;gBACrE,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,eAAe;aACnD,CAAC,CAAC;SACJ;aAAM;YACL,IAAI;gBACF,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM,EAAE;oBACtC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;oBAC9B,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;oBACxC,MAAM,EAAE;wBACN,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE;wBACrC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE;qBACtC;oBACD,cAAc,EAAE,IAAI,CAAC,cAAc;oBACnC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;oBACvC,oBAAoB,EAAE,IAAI,CAAC,YAAY,CAAC,6BAA6B;oBACrE,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,eAAe;iBACpC,CAAE,CAAC;aACpB;YAAC,OAAO,KAAK,EAAE;gBACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qCAAqC,EAAE,KAAK,CAAC,CAAC;aACjE;SACF;IACH,CAAC;IAEM,iCAAU,GAAjB;QACE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,EAAE;YACtC,IAAI,CAAC,sBAAsB,EAAE,CAAC;SAC/B;IACH,CAAC;IAEM,gDAAyB,GAAhC,UAAiC,QAA8B;QAC7D,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;IAEM,qCAAc,GAArB;QACE,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,UAAC,YAAY,IAAK,mBAAY,CAAC,WAAW,EAAE,EAA1B,CAA0B,CAAC,CAAC;IAC7E,CAAC;IAEM,kCAAW,GAAlB,UAAmB,GAAW,EAAE,MAAuB,EAAE,OAA4B;QACnF,IAAI,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC;YAAE,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;QAC/E,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACtE,CAAC;IAEY,0CAAmB,GAAhC,UAAiC,QAAgB;;;;;;wBAC3C,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;6BACpC,OAAM,IAAI,IAAI,IAAI,QAAQ,IAAI,IAAI,GAAlC,wBAAkC;wBAC3B,qBAAM,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC;;wBAAnD,MAAM,GAAG,SAA0C,CAAC;wBACpD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;;;wBAEtC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;;;;;KAC7B;IAEM,yCAAkB,GAAzB,UAA0B,IAAiB;QACzC,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACjD,MAAM,CAAC,QAAQ,EAAE,CAAC;QAClB,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAEM,6CAAsB,GAA7B;QACE,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;YAC7B,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,gBAAgB,EAAE,CAAC;SACzB;IACH,CAAC;IAEM,8CAAuB,GAA9B,UAA+B,EAAc;QAA7C,iBAIC;YAJgC,gBAAK;QACpC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACZ,KAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QACjC,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,0CAAmB,GAA1B,UAA2B,EAAc;QAAzC,iBASC;YAT4B,gBAAK;QAChC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACZ,KAAI,CAAC,oBAAoB,GAAG,KAAK,KAAK,CAAC,CAAC;YAExC,IAAI,KAAK,KAAK,CAAC,EAAE;gBACf,KAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7B,KAAI,CAAC,oBAAoB,EAAE,CAAC;aAC7B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,yCAAkB,GAAzB;QAAA,iBAiBC;QAhBC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC;aAC1C,SAAS,CACR;YACE,IAAM,OAAO,GAAW,mQAEkD,CAAC;YAC3E,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC/B,CAAC,EACD,eAAK;YACH,IAAM,OAAO,GAAW,KAAK,CAAC,aAAa;gBACzC,CAAC,CAAC,2CAAyC,KAAK,CAAC,OAAS;gBAC1D,CAAC,CAAC,oCAAoC,CAAC;YACzC,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YAC7B,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;QAC/C,CAAC,CACF,CAAC;IACN,CAAC;IAEO,qCAAc,GAAtB,UAAuB,OAAe;QACpC,IAAM,WAAW,GAA4B;YAC3C,OAAO;YACP,IAAI,EAAE,4HAAsB,CAAC,IAAI;YACjC,WAAW,EAAE,IAAI;SAClB,CAAC;QACF,IAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,iIAA2B,CAAC,CAAC;QAClF,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IAChD,CAAC;IAEM,qCAAc,GAArB;QAAA,iBAMC;QALC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAClD,UAAU,CAAC;YACT,IAAI,KAAI,CAAC,cAAc;gBAAE,KAAI,CAAC,UAAU,EAAE,CAAC;QAC7C,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAEM,qCAAc,GAArB,UAAsB,EAAgC;YAA/B,sBAAQ,EAAE,wBAAS,EAAE,cAAI;QAC9C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAC,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,SAAS,EAAC,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAEM,mCAAY,GAAnB,UAAoB,EAA8B;QAAlD,iBAMC;YANoB,gBAAK,EAAE,cAAI,EAAE,cAAI;QACpC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,iBAAO,IAAI,YAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,EAApC,CAAoC,CAAC,CAAC;QAEvE,IAAI,IAAI;YAAE,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,EAAC,KAAK,SAAE,IAAI,QAAE,IAAI,QAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAEM,qCAAc,GAArB,UAAsB,SAAS;QAC7B,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;IACnC,CAAC;IAEY,qCAAc,GAA3B;;;;;wBACE;;;;;2BAKG;wBACH,EAAE,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC;wBACxC,IAAI,IAAI,CAAC,UAAU,CAAC,qBAAqB,GAAG,CAAC;4BAAE,sBAAO;wBACtD,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,CAAC;wBAErC,IAAI,CAAC,oBAAoB,EAAE,CAAC;wBAC5B,qBAAM,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;;wBAA5B,SAA4B,CAAC;wBAE7B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;wBAC7B,IAAI,CAAC,YAAY,EAAE,CAAC;;;;;KACrB;IAEM,yDAAkC,GAAzC,UAA0C,2BAA8C;QACtF,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,2BAA2B,GAAG,2BAA2B,CAAC;QAE/D,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEM,sCAAe,GAAtB,UAAuB,QAA8B;QAArD,iBAwBC;QAvBC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAO,EAAE,EAAE;YAChC,IAAI,QAAQ,CAAC,IAAI,CAAC,UAAC,IAAI,IAAK,WAAI,CAAC,EAAE,KAAK,EAAE,EAAd,CAAc,CAAC,IAAI,IAAI,EAAE;gBACnD,OAAO,CAAC,WAAW,CAAO,MAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAC/C,OAAO,CAAC,IAAI,EAAE,CAAC;gBACf,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;aAC1B;QACH,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAO;YACvB,IAAI,OAAO,CAAC,KAAK,EAAE;gBACjB,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC;oBAAE,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;;oBACtE,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;aACpD;iBAAM;gBACL,IAAI,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;oBACjC,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC;oBACvC,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;iBAClC;aACF;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,iBAAiB;YAAE,IAAI,CAAC,cAAc,EAAE,CAAC;QAElD,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAEM,yCAAkB,GAAzB,UACE,EAIM;QALR,iBAqBC;YAnBG,aAAsD,EAAtD,sCAAsD,EACtD,eAAwD,EAAxD,wCAAwD,EACxD,eAAoC,EAApC,wCAAoC;QAGtC,KAAK,CAAC,OAAO,CAAC,UAAC,MAAmC,EAAE,EAAU;YAC5D,IAAI,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;gBAAE,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;YAEtD,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YAE7B,IAAI,KAAI,CAAC,cAAc,KAAK,EAAE;gBAAE,KAAI,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,iBAAiB;YAAE,IAAI,CAAC,cAAc,EAAE,CAAC;QAClD,IAAI,IAAI,CAAC,qBAAqB,IAAI,IAAI;YAAE,YAAY,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACjF,IAAI,IAAI,CAAC,eAAe;YAAE,IAAI,CAAC,sBAAsB,EAAE,CAAC;QACxD,IAAI,CAAC,+FAAiB,CAAC,IAAI,CAAC,aAAa,CAAC;YAAE,IAAI,CAAC,cAAc,EAAE,CAAC;QAElE,IAAI,CAAC,qBAAqB,GAAG,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,SAAS,KAAK,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACnH,CAAC;IAEY,qCAAc,GAA3B;;;;;;;wBACE,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,EAAE;4BAC3B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;4BAC1B,sBAAO;yBACR;wBAEK,wBAAwB,GAAyB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC/F,mBAAmB,GAA6B,IAAI,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;wBACjF,yBAAyB,GAAyB,EAAE,CAAC;wBACrD,sBAAsB,GAAyB,EAAE,CAAC;wBAClD,iBAAiB,GAAyB,IAAI,CAAC;wBAC/C,cAAc,GAAuB,IAAI,CAAC;wBAE9C,KAAS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,wBAAwB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;4BAClD,KAAe,wBAAwB,CAAC,CAAC,CAAC,EAAxC,GAAG,UAAE,GAAG,SAAiC;4BACjD,mBAAmB,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;yBAC9D;wBAEmB,qBAAM,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC;gCACjE,WAAW,EAAE,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC;gCAC3D,IAAI,EAAE,IAAI,CAAC,OAAO;gCAClB,aAAa,EAAE,IAAI,CAAC,cAAc;6BACnC,CAAC;;wBAJF,iBAAiB,GAAG,SAIlB,CAAC;wBAEH,yBAAyB,GAAG,iBAAiB,CAAC,QAAQ,CAAC,GAAG,CAAC,iBAAO,IAAI,WAAI,0EAAa,CAAC,OAAO,CAAC,EAA1B,CAA0B,CAAC,CAAC;wBAElG,sBAAsB,GAAG,yBAAyB,CAAC,MAAM,CAAC,kCAAwB;4BACxE,kDAAS,EAAE,4CAAQ,CAA8B;4BACzD,IAAM,aAAa,GAAG,KAAI,CAAC,uBAAuB,CAAC,CAAC,SAAS,EAAE,QAAQ,CAAC,EAAE,wBAAwB,CAAC,CAAC;4BACpG,OAAO,aAAa,CAAC;wBACvB,CAAC,CAAC,CAAC;wBAEH,cAAc,GAAG,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,EAAE,sBAAsB,CAAC,CAAC;wBAE1F,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;wBAElD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;;;;;KAC3B;IAEM,6CAAsB,GAA7B,UAA8B,MAAgC,EAAE,sBAA4C;QAC1G,IAAI,MAAM,IAAI,IAAI;YAAE,OAAO;QAE3B,IAAM,qBAAqB,GAAoC,IAAI,GAAG,EAA8B,CAAC;QAErG,IAAM,MAAM,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;QAClC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QAClF,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QACnF,IAAM,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC;QAEpD,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAsB,CACtE,MAAM,EACN,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,cAAc,EAAE,MAAM,CAAC,GAAG,EAAE,GAAG,cAAc,CAAC,CACzF,CAAC;QAEF,IAAI,qBAAqB,CAAC,IAAI,KAAK,CAAC,EAAE;YACpC,IAAM,MAAI,GAAG,KAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,EAAI,CAAC;YAC7C,IAAM,WAAW,GAAG,EAAC,WAAW,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC;YACtF,qBAAqB,CAAC,GAAG,CAAC,MAAI,EAAE,IAAI,qFAAkB,CAAC,EAAC,UAAU,EAAE;oBAClE,IAAI;oBACJ,KAAK,EAAE,CAAC;oBACR,MAAM;oBACN,WAAW;oBACX,6BAA6B,EAAE,IAAI;iBACpC,EAAC,CAAC,CAAC,CAAC;SACN;QAED,KAAuB,UAAsB,EAAtB,iDAAsB,EAAtB,oCAAsB,EAAtB,IAAsB,EAAE;YAA1C,IAAM,QAAQ;YACjB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC;gBAAE,SAAS;YAE9F,IAAI,eAAe,GAAG,KAAK,CAAC;YAC5B,KAAmC,UAAiC,EAAjC,UAAK,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAjC,cAAiC,EAAjC,IAAiC,EAAE;gBAA3D,eAAoB,EAAnB,iBAAS,EAAE,eAAO;gBAC5B,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE;oBACvE,eAAe,GAAG,IAAI,CAAC;oBACvB,MAAM;iBACP;aACF;YACD,IAAI,CAAC,eAAe,EAAE;gBACpB,IAAM,MAAI,GAAG,KAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,EAAI,CAAC;gBAC7C,IAAM,WAAW,GAAG,EAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAC,CAAC;gBAClF,IAAM,OAAO,GAAG,IAAI,qFAAkB,CAAC,EAAC,UAAU,EAAE;wBAClD,IAAI;wBACJ,KAAK,EAAE,CAAC;wBACR,MAAM;wBACN,WAAW;wBACX,6BAA6B,EAAE,IAAI;qBACpC,EAAC,CAAC,CAAC;gBACJ,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;gBACnD,qBAAqB,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;aAChD;SACF;QAED,qBAAqB,CAAC,OAAO,CAAC,UAAC,OAAO,EAAE,KAAK;YAC3C,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC;gBAAE,OAAO;YAErC,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;QACvC,CAAC,CAAC,CAAC;QAEH,IAAM,sBAAsB,GAAG,KAAK,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,MAAM,CAAC,UAAC,WAAW,EAAE,cAAc;YAClG,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC;QACzF,CAAC,CAAC,CAAC;QAEH,OAAO,qBAAqB,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9D,CAAC;IAEM,2CAAoB,GAA3B,UAA4B,MAAgC;QAC1D,IAAM,OAAO,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QACtC,IAAM,OAAO,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QACtC,OAAO;YACL,UAAU,EAAE,OAAO,CAAC,GAAG,EAAE;YACzB,WAAW,EAAE,OAAO,CAAC,GAAG,EAAE;YAC1B,UAAU,EAAE,OAAO,CAAC,GAAG,EAAE;YACzB,WAAW,EAAE,OAAO,CAAC,GAAG,EAAE;SAC3B,CAAC;IACJ,CAAC;IAEY,6CAAsB,GAAnC;;;;gBACE,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC;oBAAE,sBAAO;gBAE9B,aAAa,GAAQ,EAAE,CAAC;gBAE9B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,MAAM,EAAE,EAAE;oBAC9B,IAAI,MAAM,YAAY,sEAAW,EAAE;wBACjC,aAAa,CAAC,IAAI,CAAC,EAAC,EAAE,MAAE,MAAM,EAAE,MAAM,CAAC,MAAM,EAAE,WAAW,EAAE,MAAM,CAAC,WAAW,EAAE,GAAG,EAAE,MAAM,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,CAAC,SAAS,EAAC,CAAC,CAAC;qBAC/H;gBACH,CAAC,CAAC,CAAC;gBAEH,KAAS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC7C,aAAa,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,iBAAiB,CACnD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,KAAK,CAAC,EACtC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,KAAK,CAAC,EACtC,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EACvB,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EACvB,GAAG,CAAC,CAAC;iBACR;gBAED,aAAa,CAAC,IAAI,CAAC,UAAS,CAAC,EAAE,CAAC;oBAC9B,OAAO,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;gBACjC,CAAC,CAAC,CAAC;gBAEG,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;gBACpF,iBAAiB,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAEtE,cAAc,GAAG,aAAa,CAAC,IAAI,CAAC,qBAAW;oBACnD,OAAO,CACL,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,KAAK,WAAW,CAAC;wBACtE,CAAC,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,iBAAiB,CAAC,CACxD,CAAC;gBACJ,CAAC,CAAC,CAAC;gBAEH,IAAI,cAAc;oBAAE,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;gBAEjF,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;;;;KAC7B;IAED,uCAAuC;IACvC;;;;;;;;;;;;;;;;;;;;;;;MAuBE;IAEK,sCAAe,GAAtB,UAAuB,cAAyC,EAAE,YAA8C;QAC9G,IAAM,cAAc,GAAG,UAAC,EAAE,EAAE,EAAE;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;QACtC,CAAC,CAAC;QAEF,IAAM,gBAAgB,GAAG,UAAC,SAAS,EAAE,SAAS;YAC5C,IAAM,EAAE,GAAW,SAAS,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;YACjD,IAAM,EAAE,GAAW,SAAS,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;YACjD,OAAO,cAAc,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAChC,CAAC,CAAC;QAEF,OAAO,YAAY,CAAC,MAAM,CAAC,UAAS,IAAI,EAAE,IAAI;YAC5C,IAAM,YAAY,GAAW,gBAAgB,CAAC,cAAc,EAAG,IAAI,CAAC,CAAC;YACrE,IAAM,YAAY,GAAW,gBAAgB,CAAC,cAAc,EAAG,IAAI,CAAC,CAAC;YACrE,OAAO,CAAC,YAAY,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;QACrD,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,8CAAuB,GAA9B,UAA+B,KAAK,EAAE,OAAO;QAC3C,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QAEjC,IAAI,MAAM,GAAG,KAAK,CAAC;QAEnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE;YACnE,IAAM,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7C,IAAM,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAE7C,IAAM,SAAS,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;mBACpC,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;YACjD,IAAI,SAAS;gBAAE,MAAM,GAAG,CAAC,MAAM,CAAC;SACjC;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,wCAAiB,GAAxB,UAAyB,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;QACnD,IAAM,OAAO,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,GAAG,GAAG,CAAC;QACrC,IAAM,OAAO,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,GAAG,GAAG,CAAC;QACrC,IAAM,OAAO,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,GAAG,GAAG,CAAC;QACrC,IAAM,OAAO,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,GAAG,GAAG,CAAC;QACrC,IAAM,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC;QAC1B,IAAM,QAAQ,GAAG,IAAI,CAAC,EAAE,GAAG,KAAK,GAAG,GAAG,CAAC;QACvC,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC9G,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvB,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;QAC5B,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG,MAAM,CAAC;QAC1B,IAAI,IAAI,KAAK,GAAG,EAAE;YAAE,IAAI,GAAG,IAAI,GAAG,QAAQ,CAAC;SAAE;QAC7C,IAAI,IAAI,KAAK,GAAG,EAAE;YAAE,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC;SAAE;QAC3C,OAAO,IAAI,CAAC;IACd,CAAC;IAEY,uCAAgB,GAA7B;;;;4BACE,qBAAM,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;;wBAAxC,SAAwC,CAAC;wBACzC,IAAI,CAAC,SAAS,CAAO,MAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;;;;KAC3C;IAEY,gCAAS,GAAtB,UAAuB,UAAe;;;;;;wBAC9B,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;wBAC5E,aAAa,GAAG,IAAI,UAAU,CAAC,aAAa,CAAC,6DAAe,EAAE,EAAC,IAAI,EAAE,YAAY,EAAC,CAAC,CAAC;wBAE1F,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;wBAE7B,IAAI,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE;4BACzC,KAOF,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAN7C,IAAI,YACJ,SAAS,iBACT,cAAkB,EAAT,GAAG,WAAE,GAAG,WACjB,cAAc,sBACd,gBAAgB,wBAChB,oBAAoB,2BAC0B;4BAChD,IAAI,CAAC,iBAAiB,CAAC,IAAI,GAAG,IAAI,CAAC;4BACnC,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;4BAC7C,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;4BACxC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;4BACxC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;4BACrC,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;4BACzC,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;4BACjD,IAAI,CAAC,UAAU,CAAC,uBAAuB,EAAE,CAAC;yBAC3C;wBACD,WAAW;wBACX,IAAI,CAAC,SAAS,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;wBAC1E,yBAAyB;wBACzB,qBAAM,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;;wBAD5B,yBAAyB;wBACzB,SAA4B,CAAC;wBAC7B,YAAY;wBACZ,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;wBACrD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;wBAC1B,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7D,IAAI,CAAC,gBAAgB,EAAE,CAAC;wBACxB,IAAI,CAAC,UAAU,EAAE,CAAC;wBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;;;;;KAC5C;IAEM,uCAAgB,GAAvB;QACE,IAAI,CAAC,YAAY,CAAC,IAAI,CACpB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,EACzD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAC1E,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAC/D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAC7E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EACrF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CACpF,CAAC;QAEF,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAEM,8CAAuB,GAA9B,UAA+B,KAAkC;QAC/D,IAAM,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM;YAAE,OAAO;QACpB,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;IACjE,CAAC;IAEM,6CAAsB,GAA7B,UAA8B,KAAkC;QAC9D,IAAM,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM;YAAE,OAAO;QACpB,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;IACjE,CAAC;IAEM,0CAAmB,GAA1B,UAA2B,KAAkC;QAC3D,IAAM,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM;YAAE,OAAO;QACpB,IAAI,MAAM,YAAY,qFAAkB;YAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACvE,IAAI,MAAM,YAAY,sEAAW,IAAI,MAAM,YAAY,0EAAa;YAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACpG,CAAC;IAEM,iCAAU,GAAjB,UAAkB,KAAU;QAC1B,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;IAEM,uCAAgB,GAAvB;QACE,IAAI,IAAI,CAAC,gBAAgB;YAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAE3C,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAE9B,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAEzE,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,EAAC,WAAW,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAC,CAAC,CAAC;IAC1F,CAAC;IAEM,yCAAkB,GAAzB;QAAA,iBAcC;QAbC,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;YAC1B,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;YAC7C,IAAM,oBAAoB,GAAG,EAAC,GAAG,EAAE,SAAS,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,SAAS,CAAC,GAAG,EAAE,EAAC,CAAC;YAC1E,IAAM,cAAc,GAAG,EAAC,QAAQ,EAAE,oBAAoB,EAAC,CAAC;YACxD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,EAAE,UAAC,OAAO,EAAE,MAAM;gBACpD,IAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC3C,IAAI,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,IAAI,MAAM,EAAE;oBACtD,KAAI,CAAC,IAAI,GAAG,4FAAgB,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;iBACxD;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;SAChB;IACH,CAAC;IAEM,iCAAU,GAAjB;QACE,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;SAC7B;aAAM;YACL,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;SAC/B;IACH,CAAC;IAEM,mCAAY,GAAnB;QACE,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI;YAAE,OAAO;QACnC,IAAI;YACF,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,2BAA2B,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAC1F,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;SAC7B;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,EAAE,KAAK,CAAC,CAAC;SAC9D;IACH,CAAC;IAEM,iCAAU,GAAjB;QACE,IAAI,CAAC,IAAI,CAAC,cAAc;YAAE,OAAO;QACjC,EAAE,IAAI,CAAC,OAAO,CAAC;IACjB,CAAC;IAEM,iCAAU,GAAjB;QACE,IAAI,CAAC,IAAI,CAAC,aAAa;YAAE,OAAO;QAChC,EAAE,IAAI,CAAC,OAAO,CAAC;IACjB,CAAC;IAEM,wCAAiB,GAAxB;QACE,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE;YAC7B,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC;gBAAE,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC3D,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;aAAM,IAAI,IAAI,CAAC,SAAS,KAAK,qBAAqB,EAAE;YACnD,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;aAAM;YACL,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;QACD,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC3B,CAAC;IAEM,+BAAQ,GAAf;QACE,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/B,CAAC;IAEM,oCAAa,GAApB;QACE,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YAC/C,OAAO;SACR;QAED,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACrD,CAAC;IAEM,kCAAW,GAAlB;QACE,IAAI,CAAC,IAAI,CAAC,SAAS;YAAE,OAAO;QAC5B,IAAI,CAAC,IAAI,CAAC,2BAA2B,EAAE;YACrC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YAC7C,OAAO;SACR;QAED,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;QAC3F,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAEM,mCAAY,GAAnB,UAAoB,OAAiC;QACnD,IAAI,SAAS,GAAG,IAAI,CAAC;QACrB,IAAM,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,MAAM;YAAE,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC;;YAChC,SAAS,GAAG,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC;QAClC,OAAO,SAAS,CAAC;IACnB,CAAC;IAEM,mCAAY,GAAnB,UAAoB,MAAmC;QAAvD,iBAWC;QAVC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACrD,mCAAmC;QACnC,sEAAsE;QACtE,yDAAyD;QACzD,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,MAAM,YAAY,sEAAW;YAAE,MAAM,CAAC,IAAI,EAAE,CAAC;QAChG,IAAI,MAAM,CAAC,EAAE,KAAK,IAAI,CAAC,cAAc;YAAE,MAAM,CAAC,QAAQ,EAAE,CAAC;QACzD,IAAI,IAAI,CAAC,gBAAgB,KAAK,KAAK,IAAI,MAAM,YAAY,sEAAW,IAAI,MAAM,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE;YAClI,MAAM,CAAC,QAAQ,EAAE,CAAC;SACnB;QACD,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE,cAAM,YAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAA3B,CAA2B,EAAE,8BAA8B,CAAC,CAAC;IAC/F,CAAC;IAEM,sCAAe,GAAtB;QACE,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,IAAI,MAAM,IAAI,IAAI;YAAE,OAAO;QAC3B,IAAI,IAAI,CAAC,WAAW;YAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;;YAEjD,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAC,OAAO,EAAE,KAAK;gBAC3C,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;gBAClB,OAAO,CAAC,OAAO,GAAG,IAAI,GAAG,EAAuB,CAAC;YACnD,CAAC,CAAC,CAAC;QACL,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QAClF,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QACnF,IAAM,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC;QACpD,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAsB,CACtE,MAAM,EACN,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,cAAc,EAAE,MAAM,CAAC,GAAG,EAAE,GAAG,cAAc,CAAC,CACzF,CAAC;QAEF,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,EAAE;YACpC,IAAM,MAAI,GAAG,KAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,EAAI,CAAC;YAC7C,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAI,EAAE,IAAI,qFAAkB,CAAC;gBACrD,IAAI;gBACJ,KAAK,EAAE,CAAC;gBACR,WAAW,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC/D,6BAA6B,EAAE,IAAI;aACpC,CAAC,CAAC,CAAC;SACL;QAED,KAAiC,UAAwB,EAAxB,UAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAxB,cAAwB,EAAxB,IAAwB,EAAE;YAAhD,eAAkB,EAAjB,gBAAQ,EAAE,cAAM;YAC1B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,mBAAmB;gBAAE,SAAS;YAChF,IAAI,eAAe,GAAG,KAAK,CAAC;YAC5B,KAAmC,UAAiC,EAAjC,UAAK,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAjC,cAAiC,EAAjC,IAAiC,EAAE;gBAA3D,eAAoB,EAAnB,iBAAS,EAAE,eAAO;gBAC5B,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;oBACvE,eAAe,GAAG,IAAI,CAAC;oBACvB,MAAM;iBACP;aACF;YACD,IAAI,CAAC,eAAe,EAAE;gBACpB,IAAM,OAAO,GAAG,IAAI,qFAAkB,CAAC;oBACrC,IAAI,EAAE,KAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,EAAI;oBACrC,KAAK,EAAE,CAAC;oBACR,MAAM,EAAE,MAAM;oBACd,WAAW,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC;oBACvD,6BAA6B,EAAE,IAAI;iBACpC,CAAC,CAAC;gBACH,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;gBACtC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;aAChD;SACF;QAED,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAC,OAAO,EAAE,KAAK;YAC3C,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC;gBAAE,OAAO;YACrC,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;QACvC,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,qCAAc,GAArB;QAAA,iBAmBC;QAlBC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YAChD,OAAO;SACR;QAED,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,OAA2B;YAChD,OAAO,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;YACtD,OAAO,CAAC,IAAI,EAAE,CAAC;YACf,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,cAAM,YAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAA5B,CAA4B,EAAE,8BAA8B,CAAC,CAAC;YAC/F,OAAO,CAAC,SAAS,CAAC,WAAW,EAAE,cAAM,YAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,EAArC,CAAqC,EAAE,6BAA6B,CAAC,CAAC;YAC3G,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,cAAM,YAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,EAApC,CAAoC,EAAE,4BAA4B,CAAC,CAAC;YACxG,OAAO,CAAC,eAAe;iBACpB,SAAS,CAAC,OAAO,EAAE,cAAM,YAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAA5B,CAA4B,EAAE,8BAA8B,CAAC,CAAC;YAC1F,OAAO,CAAC,eAAe;iBACpB,SAAS,CAAC,WAAW,EAAE,cAAM,YAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,EAArC,CAAqC,EAAE,6BAA6B,CAAC,CAAC;YACtG,OAAO,CAAC,eAAe;iBACpB,SAAS,CAAC,UAAU,EAAE,cAAM,YAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,EAApC,CAAoC,EAAE,4BAA4B,CAAC,CAAC;QACrG,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,6CAAsB,GAA7B;QAAA,iBAUC;QATC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAC,OAA2B;YACxD,IAAI,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE;gBAC5D,OAAO,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;gBACtD,OAAO,CAAC,IAAI,EAAE,CAAC;aAChB;iBAAM;gBACL,OAAO,CAAC,IAAI,EAAE,CAAC;aAChB;YACD,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAI,EAAE,OAAO,CAAC,EAAE,8BAA8B,CAAC,CAAC;QACtG,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,qCAAc,GAArB,UAAsB,MAAmC,EAAE,YAA4B;QAA5B,kDAA4B;QACrF,IAAI,IAAI,CAAC,YAAY,KAAK,MAAM;YAAE,OAAO;QACzC,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,YAAY,sEAAW,IAAI,MAAM,YAAY,sEAAW,EAAE;YAC1G,IAAI,MAAM,CAAC,QAAQ,IAAI,IAAI,EAAE;gBAC3B,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC;gBACtC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;aAChC;iBAAM,IAAI,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;gBACtE,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC;aAC3D;iBAAM,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;gBACvG,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;aAChC;iBAAM;gBACL,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,EAAE;oBAC/B,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;oBACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;iBAC5B;gBACD,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;aAChC;YACD,IAAI,YAAY;gBAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACrE;QAED,IAAI,MAAM,YAAY,sEAAW,EAAE;YACjC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;YAC3B,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,EAAE,CAAC;YAChC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;SAC9B;QAED,IAAI,CAAC,SAAS,GAAG,EAAC,GAAG,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,GAAG,OAAO,EAAE,GAAG,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAC,CAAC;QAChF,IAAI,IAAI,CAAC,SAAS,KAAK,MAAM;YAAE,IAAI,CAAC,OAAO,GAAG,oEAAc,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QAEvF,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAEM,qCAAc,GAArB,UAAsB,OAA2B;QAC/C,IAAI,oEAAc,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,KAAK,MAAM,IAAI,oFAAa,EAAE,EAAE;YAC/E,IAAI,CAAC,OAAO,GAAG,oEAAc,CAAC,MAAM,CAAC,oEAAc,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC;SACnG;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,oEAAc,CAAC,MAAM,CAAC,oEAAc,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC;SACnG;QACD,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;QAClC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;IACzD,CAAC;IAEM,8CAAuB,GAA9B,UAA+B,OAA2B;QACxD,IAAI,CAAC,OAAO;YAAE,OAAO;QACrB,IAAI,OAAiC,CAAC;QAEtC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAW;YACrC,IAAI,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,OAAO,CAAC,IAAI;gBAAE,OAAO,GAAG,WAAW,CAAC;QAC9E,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;IAC5D,CAAC;IAEM,6CAAsB,GAA7B,UAA8B,OAA2B;QACvD,IAAI,CAAC,OAAO;YAAE,OAAO;QACrB,IAAI,OAAiC,CAAC;QAEtC,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAW;YACrC,IAAI,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,OAAO,CAAC,IAAI;gBAAE,OAAO,GAAG,WAAW,CAAC;QAC9E,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;IAC5D,CAAC;IAEM,qCAAc,GAArB;QAAA,iBAiBC;QAhBC;;WAEG;QACH,IAAI,IAAI,CAAC,OAAO,KAAK,EAAE,EAAE;YACvB,IAAI,IAAI,CAAC,WAAW,IAAI,EAAE;gBAAE,UAAU,CAAC,WAAC,IAAI,SAAE,KAAI,CAAC,OAAO,EAAd,CAAc,EAAE,CAAC,CAAC,CAAC;;gBAC1D,UAAU,CAAC,WAAC,IAAI,SAAE,KAAI,CAAC,OAAO,EAAd,CAAc,EAAE,CAAC,CAAC,CAAC;YAExC,OAAO;SACR;QAED,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,8EAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,MAAM,IAAI,8EAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,MAAM;YAAE,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9H,IAAI,IAAI,CAAC,gBAAgB;YAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC3C,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;IAEM,iCAAU,GAAjB;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;QAChC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC;QAChC,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAEM,oCAAa,GAApB;QACE,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YACrC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAC/B,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,KAAK,yEAAmB,CAAC,MAAM,EAAE;gBAChE,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,yEAAmB,CAAC,MAAM,CAAC,CAAC;aACzD;SACF;aAAM;YACL,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YAChC,IAAI,IAAI,CAAC,eAAe;gBAAE,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;YACvD,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,KAAK,yEAAmB,CAAC,MAAM,EAAE;gBAChE,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,yEAAmB,CAAC,MAAM,CAAC,CAAC;aACzD;SACF;IACH,CAAC;IAEM,iCAAU,GAAjB;QACE,IAAI,qFAAc,EAAE;YAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAE1C,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC;QAClC,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAChC,CAAC;IAEM,8CAAuB,GAA9B,UAA+B,MAAe;QAC5C,IAAI,IAAI,CAAC,gBAAgB,KAAK,MAAM;YAAE,OAAO;QAC7C,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC;QAC/B,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;IACzC,CAAC;IAEM,wCAAiB,GAAxB,UAAyB,UAAkB;QACzC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACxC,CAAC;IAEM,oCAAa,GAApB,UAAqB,EAAgB;YAAd,gBAAK;QAC1B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAEM,mCAAY,GAAnB;QACE,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;IACpC,CAAC;IAEM,iCAAU,GAAjB;QACE,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,GAAG,CAAC,EAAE;YACxC,IAAM,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE,CAAC;YACnD,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;SACxC;IACH,CAAC;IAEM,iCAAU,GAAjB;QACE,IAAM,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC5D,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACtC,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,GAAG,EAAE;YAAE,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,CAAC;IAC/E,CAAC;IACH,mBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4GC9xCD,qIAA6D,IAAxD,yMAAuD,IAC1D,oIAA8D,IAAzD,yMAAwD,IAE7D,oIAA2D,IAAtD,yMAAqD,IAAC,yFAAiB,MAE5E,qIAA0D,IAArD,0MAAoD,IAAC,8OAE1D,MAEA,iQAOC,YADC;;wBAAmB;MANrB,w9BAOC,qFAED,MACA,qIAAoE,IAA/D,0MAA8D,IACjE,mQAMC,YADC;;wBAAsB;MALxB,67BAMC,6FAEH,mDAjBE,+BAAqB,EACrB,wBAAa,EAEb,mBAA+B,qBAD/B,oBAAgB,EAJlB,aAOC,EALC,SAAqB,EACrB,SAAa,EAEb,SAA+B,EAD/B,SAAgB,GASd,kCAAuB,EACvB,yBAAa,EACb,qBAAgB,EAJlB,aAMC,EAJC,UAAuB,EACvB,UAAa,EACb,UAAgB,mDAxBjB,mLAAuD,KAA5D,YAA6D,EAAxD,SAAuD,GACrD,oLAAwD,KAA7D,YAA8D,EAAzD,SAAwD,GAExD,iLAAqD,KAA1D,YAA2D,EAAtD,SAAqD,GAErD,mLAAoD,KAAzD,aAA0D,EAArD,SAAoD,GAIzD,iHAOC,GAGI,6LAA8D,KAAnE,aAAoE,EAA/D,SAA8D,GACjE,mHAMC;;;;;;;;;;;;;;;;AC1BL;AAAA;AAAA;AAAA;AAAA;AAAA;AAIuB;AAEyD;AACsB;AAErC;AAEjE;IAmBE,gCACU,yBAAsD,EACvD,gBAAkC;QADjC,8BAAyB,GAAzB,yBAAyB,CAA6B;QACvD,qBAAgB,GAAhB,gBAAgB,CAAkB;QAblC,qBAAgB,GAAY,KAAK,CAAC;QAClC,SAAI,GAAW,mEAAc,CAAC,YAAY,CAAC,KAAK,CAAC;QAEhD,UAAK,GAAG,IAAI,0DAAY,EAAW,CAAC;QAEvC,UAAK,GAAW,iBAAiB,CAAC;IASpC,CAAC;IAPN,sBAAW,sDAAkB;aAA7B;YACE,OAAO,IAAI,CAAC,IAAI,KAAK,mEAAc,CAAC,YAAY,CAAC,KAAK,CAAC;QACzD,CAAC;;;OAAA;IAOM,wCAAO,GAAd;QACE,IAAI,CAAC,yBAAyB,CAAC,UAAU,EAAE,CAAC;QAC5C,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;IACnD,CAAC;IAEM,2CAAU,GAAjB;QACE,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAC/C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxB,CAAC;IACH,6BAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gHCTW,wLAQC,YADC;;wBAAiC;MAPnC,wBAQC,IANC,yRAIQ,IAET,6EAED,yDARE,uPAIQ,OANV,YAQC,EANC,SAIQ,GAET,mEAED;gHAdF,oIAGC,IADC,yMAA+D,IAE/D,4dAQC,iDAPC,mBAAyD,sBAD3D,YAQC,EAPC,SAAyD,mDAH3D,2LAA+D,KAFjE,YAGC,EADC,SAA+D;gHA4B/D,qIAGC,IADC,yMAA8D,IAE9D,wLAOC,YADC;;wBAAiC;MANnC,wBAOC,IANC,yRAIQ,IAGR,qIAAiE,IAA3D,yMAA0D,IAGlE,qIAAoE,IAA/D,0MAA8D,IAAC,8EAEpE,yDAfA,0LAA8D,KAFhE,YAGC,EADC,SAA8D,GAG5D,iQAIQ,OALV,YAOC,EANC,SAIQ,GAGF,sLAA0D,KAAhE,YAAiE,EAA3D,SAA0D,GAG7D,6LAA8D,KAAnE,aAAoE,EAA/D,SAA8D,GAAC,oEAEpE;gHArBJ,oIAGC,IADC,yMAAiE,IAEjE,4dAGC,iDAFC,mBAA4D,yBAD9D,YAGC,EAFC,SAA4D,mDAH9D,6LAAiE,KAFnE,YAGC,EADC,SAAiE;gHAyK/D,oIAGC,IADC,yMAAuD,IACxD,2GAED,yDAHE,mLAAuD,KAFzD,YAGC,EADC,SAAuD;gHAIzD,oIAGC,IADC,yMAAuD,IACxD,gGAED,yDAHE,mLAAuD,KAFzD,YAGC,EADC,SAAuD;gHA+CzD,oIAGC,IADC,yMAAuD,IACxD,iGAED,yDAHE,mLAAuD,KAFzD,YAGC,EADC,SAAuD;gHAIzD,oIAGC,IADC,yMAAuD,IACxD,qFAED,yDAHE,mLAAuD,KAFzD,YAGC,EADC,SAAuD;gHAnSvE,0IAAqE,IAA5D,yMAA2D,IAElE,sIAMC,IALC,2RAIQ,IAER,wIAAqE,IAA7D,yMAA4D,IAClE,qIAA+F,IAA1F,0RAAyF,IAAC,+FAE/F,MACA,qIAAgG,IAA3F,0RAA0F,IAC7F,yLAGC,YADC;;wBAAmC;MAFrC,wBAGC,IAFC,0MAAkE,IAEnE,gFAED,MAIJ,sIAAqE,IAAhE,0MAA+D,IAClE,0IAA0G,IAAjG,2RAAgG,IACvG,wIAA+D,IAAvD,0MAAsD,IAC5D,qIAA0D,IAArD,0MAAoD,IAAC,+FAE1D,MAEF,qIAA6D,IAAxD,0MAAuD,IAC1D,oZAGC,IAgBL,0IAA0G,IAAjG,2RAAgG,IACvG,wIAA+D,IAAvD,0MAAsD,IAC5D,qIAA0D,IAArD,0MAAoD,IAAC,+FAE1D,MAEF,qIAA6D,IAAxD,0MAAuD,IAC1D,oZAGC,IAwBL,0IAA0G,IAAjG,2RAAgG,IACvG,wIAA+D,IAAvD,0MAAsD,IAC5D,qIAA0D,IAArD,0MAAoD,IAAC,kHAE1D,MAGF,sIAA6D,IAAxD,0MAAuD,IAC1D,qIAEC,IADC,0MAA4D,IAE5D,0RAOC,YALC;;wBAA2C;MAF7C,ytCAOC,MAEH,yLAGC,YADC;;wBAAiC;MAFnC,wBAGC,IAFC,0MAA+D,IAEhE,kGAEC,4IAAiE,IAA3D,0MAA0D,IAMtE,sIASC,IARC,6SAOQ,IAER,qIAAwF,IAAnF,0RAAkF,IACrF,yLAGC,YADC;;wBAAwB;MAF1B,wBAGC,IAFC,4RAA6F,IAE9F,qFAED,MAEF,qIAAyF,IAApF,0RAAmF,IACtF,0LAGC,YADC;;wBAA2B;MAF7B,wBAGC,IAFC,gSAAoG,IAErG,gFAED,MAUR,wIASC,IARC,8SAOQ,IAER,0IAAqE,IAA7D,2MAA4D,IAClE,sIAA+F,IAA1F,4RAAyF,IAC5F,sIAAuE,IAAlE,2MAAiE,IAGxE,sIAA+G,IAA1G,ySAAyG,IAC5G,0LAGC,YADC;;wBAAmC;MAFrC,wBAGC,IAFC,2MAAkE,IAEnE,gFAED,MAIJ,uIAAiG,IAA5F,gSAA2F,IAC9F,2IAAuE,IAA9D,2MAA6D,IACpE,0IAA+D,IAAvD,2MAAsD,IAC5D,sIAAiE,IAA5D,2MAA2D,IAAC,wIAEjE,MACA,sIAAiE,IAA5D,2MAA2D,IAAC,oLAEjE,MAEF;;;;;;opBAGC,GADC,gSAAmF,IAEnF,yIAMC,IALC,ySAIQ,IAER,uIAAkE,IAA5D,2MAA2D,IAAC,wFAElE,MACA;;;;;;;;;;;;;;;;;wBAoBE;MAHA;;wBAAwB;MACxB;;wBAAgC;MAlBlC,o4EAoBE,GAfA,6RASQ,IAOV,sIAQC,IAPC,+RAMQ,IAER,qZAGC,IAGD,qZAGC,IAML,yIAMC,IALC,ySAIQ,IAER,uIAAkE,IAA5D,2MAA2D,IAAC,6EAElE,MACA;;;;;;;;;;;wBAoBE;MAPA;;wBAAsB;MAKtB;;wBAAgC;MAlBlC,kbAoBE,GANA,gGAA4D,KAd9D,u5EAoBE,GAjBA,6RASQ,IASV,sIAQC,IAPC,+RAMQ,IAER,qZAGC,IAGD,qZAGC,IASX,uIAAsG,IAAjG,mSAAgG,IACnG,sIAA+G,IAA1G,ySAAyG,IAC5G,0LAGC,YADC;;wBAAuB;MAFzB,wBAGC,IAFC,2MAAyD,IAE1D,qFAED,MAEF,sIAAyF,IAApF,4RAAmF,IACtF,0LAGC,YADC;;wBAAgC;MAFlC,wBAGC,IAFC,gSAAqG,IAEtG,6FAED,mDA5RI,sDAAwC,GAD1C,aAGC,EAFC,UAAwC,GA0BxC,yDAA2C,GAD7C,aAGC,EAFC,UAA2C,GAsCzC,iHAAqC,GAIrC,6BAAmB,EAFnB,iCAA6B,EAG7B,oBAAc,QANhB,aAOC,EANC,UAAqC,EAIrC,UAAmB,EAFnB,UAA6B,EAG7B,UAAc,GAoFlB,oBAA0B,eAD5B,cAGC,EAFC,UAA0B,GAgCtB,mBAAQ,EAnBV,cAoBE,EADA,UAAQ,GAHR,0JAA+I,EAhBjJ,cAoBE,EAJA,UAA+I,GAD/I,wBAAuB,EAEvB,oBAAwB,aAjB1B,cAoBE,EALA,UAAuB,EAEvB,UAAwB,GAbxB,oBAA6B,QAJ/B,cAoBE,EAhBA,UAA6B,GA2B3B,yCAA6C,yBAD/C,cAGC,EAFC,UAA6C,GAM7C,oGAA8F,yBADhG,cAGC,EAFC,UAA8F,GAgChG,oCAA4D,aAd9D,cAoBE,EANA,UAA4D,GAK5D,mBAAQ,EAnBV,cAoBE,EADA,UAAQ,GAHR,oBAAa,EAhBf,cAoBE,EAJA,UAAa,GADb,2BAAkB,EAfpB,cAoBE,EALA,UAAkB,GAElB,sBAAqB,EAJrB,oBAAsB,WAbxB,cAoBE,EAHA,UAAqB,EAJrB,UAAsB,GAkBpB,uCAAyC,uBAD3C,cAGC,EAFC,UAAyC,GAMzC,oEAAgE,uBADlE,cAGC,EAFC,UAAgE,mDAlSvE,uLAA2D,KAApE,YAAqE,EAA5D,SAA2D,GAGhE,+MAIQ,wBALV,YAMC,EALC,SAIQ,GAEA,wLAA4D,KAApE,YAAqE,EAA7D,SAA4D,GAC7D,uNAAyF,MAA9F,aAA+F,EAA1F,SAAyF,GAAC,yGAE/F,GACK,wNAA0F,MAA/F,aAAgG,EAA3F,SAA0F,GAE3F,iMAAkE,KADpE,aAGC,EAFC,SAAkE,GAQnE,8LAA+D,KAApE,aAAqE,EAAhE,SAA+D,GACzD,kOAAgG,OAAzG,aAA0G,EAAjG,SAAgG,GAC/F,sLAAsD,KAA9D,aAA+D,EAAvD,UAAsD,GACvD,oLAAoD,KAAzD,aAA0D,EAArD,UAAoD,GAItD,uLAAuD,KAA5D,aAA6D,EAAxD,UAAuD,GAoBrD,mOAAgG,OAAzG,aAA0G,EAAjG,UAAgG,GAC/F,sLAAsD,KAA9D,aAA+D,EAAvD,UAAsD,GACvD,oLAAoD,KAAzD,aAA0D,EAArD,UAAoD,GAItD,uLAAuD,KAA5D,aAA6D,EAAxD,UAAuD,GA4BrD,mOAAgG,OAAzG,aAA0G,EAAjG,UAAgG,GAC/F,sLAAsD,KAA9D,aAA+D,EAAvD,UAAsD,GACvD,oLAAoD,KAAzD,aAA0D,EAArD,UAAoD,GAKtD,uLAAuD,KAA5D,aAA6D,EAAxD,UAAuD,GAExD,4LAA4D,KAD9D,aAEC,EADC,UAA4D,GAY5D,+LAA+D,KADjE,aAGC,EAFC,UAA+D,GAIzD,0LAA0D,KAAhE,aAAiE,EAA3D,UAA0D,GAOpE,gTAOQ,OARV,aASC,EARC,UAOQ,GAEH,iNAAkF,MAAvF,aAAwF,EAAnF,UAAkF,GAEnF,+NAA6F,OAD/F,aAGC,EAFC,UAA6F,GAM5F,mNAAmF,MAAxF,aAAyF,EAApF,UAAmF,GAEpF,oNAAoG,yBADtG,cAGC,EAFC,UAAoG,GAe5G,iPAOQ,MARV,cASC,EARC,UAOQ,GAEA,+LAA4D,KAApE,cAAqE,EAA7D,UAA4D,GAC7D,4NAAyF,MAA9F,cAA+F,EAA1F,UAAyF,GACvF,oMAAiE,KAAtE,cAAuE,EAAlE,UAAiE,GAGnE,kOAAyG,MAA9G,cAA+G,EAA1G,UAAyG,GAE1G,qMAAkE,KADpE,cAGC,EAFC,UAAkE,GAQnE,0NAA2F,MAAhG,cAAiG,EAA5F,UAA2F,GACrF,gMAA6D,KAAtE,cAAuE,EAA9D,UAA6D,GAC5D,yLAAsD,KAA9D,cAA+D,EAAvD,UAAsD,GACvD,8LAA2D,KAAhE,cAAiE,EAA5D,UAA2D,GAG3D,8LAA2D,KAAhE,cAAiE,EAA5D,UAA2D,GAMhE,kNAAmF,MAFrF,wpBAGC,EADC,UAAmF,EAFrF,kFAGC,GAEG,0PAIQ,mBALV,cAMC,EALC,UAIQ,GAEF,8LAA2D,KAAjE,cAAkE,EAA5D,UAA2D,GAQ/D,8TASQ,QAdV,k6BAoBE,EAfA,UASQ,EAdV,0GAoBE,GAEA,gQAMQ,qBAPV,cAQC,EAPC,UAMQ,GAkBV,qPAIQ,kBALV,cAMC,EALC,UAIQ,GAEF,8LAA2D,KAAjE,cAAkE,EAA5D,UAA2D,GAM/D,sTASQ,QAZV,8kCAGE,UASQ,EAZV,sHAoBE,IAEA,2PAMQ,oBAPV,cAQC,EAPC,UAMQ,GAoBb,4NAAgG,MAArG,cAAsG,EAAjG,UAAgG,GAC9F,kOAAyG,MAA9G,cAA+G,EAA1G,UAAyG,GAE1G,4LAAyD,KAD3D,cAGC,EAFC,UAAyD,GAMxD,uNAAmF,MAAxF,cAAyF,EAApF,WAAmF,GAEpF,kNAAqG,6BADvG,cAGC,EAFC,WAAqG;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvT3C;AAEC;AAEW;AACE;AAEH;AAEjB;AAC2B;AA6BzF;IAOU,oFAAgD;IA8NxD,oCACS,aAA4B,EAC3B,gBAAkC,EAClC,UAA6B,EAC7B,gBAAkC;QAJ5C,YAOE,kBAAM,aAAa,CAAC,SAOrB;QAbQ,mBAAa,GAAb,aAAa,CAAe;QAC3B,sBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,gBAAU,GAAV,UAAU,CAAmB;QAC7B,sBAAgB,GAAhB,gBAAgB,CAAkB;QA/NpC,yBAAmB,GAAY,yFAAmB,EAAE,CAAC;QAErD,mBAAa,GAAW,kBAAkB,CAAC;QAC3C,2BAAqB,GAAY,IAAI,CAAC;QAEtC,WAAK,GAAU;YACrB,SAAS,EAAE,gEAAW,CAAC,QAAQ;YAC/B,KAAK,EAAE;gBACL,GAAG,EAAE,iBAAiB;gBACtB,GAAG,EAAE,iBAAiB;aACvB;SACF,CAAC;QAEK,kBAAY,GAAW,EAAE,CAAC;QAC1B,WAAK,GAAW,oBAAoB,CAAC;QAGrC,sBAAgB,GAAW,CAAC,CAAC;QAC7B,uBAAiB,GAAY,KAAK,CAAC;QAGnC,UAAI,GAAgB,IAAI,CAAC;QACzB,sBAAgB,GAAW,2BAA2B,CAAC;QAEvD,WAAK,GAAW;YACrB,aAAa,EAAE;gBACb;oBACE,GAAG,EAAE,SAAS;oBACd,KAAK,EAAE,mBAAmB;oBAC1B,QAAQ,EAAE,KAAK;oBACf,KAAK,EAAE;wBACL,SAAS,EAAE,gEAAW,CAAC,QAAQ;wBAC/B,KAAK,EAAE;4BACL,GAAG,EAAE,iBAAiB;4BACtB,GAAG,EAAE,iBAAiB;yBACvB;qBACF;iBACF;gBACD;oBACE,GAAG,EAAE,WAAW;oBAChB,KAAK,EAAE,uBAAuB;oBAC9B,QAAQ,EAAE,KAAK;oBACf,KAAK,EAAE;wBACL,SAAS,EAAE,gEAAW,CAAC,QAAQ;wBAC/B,KAAK,EAAE;4BACL,GAAG,EAAE,iBAAiB;4BACtB,GAAG,EAAE,kBAAkB;yBACxB;qBACF;iBACF;gBACD;oBACE,GAAG,EAAE,OAAO;oBACZ,KAAK,EAAE,yBAAyB;oBAChC,QAAQ,EAAE,KAAK;oBACf,KAAK,EAAE;wBACL,SAAS,EAAE,gEAAW,CAAC,QAAQ;wBAC/B,KAAK,EAAE;4BACL,GAAG,EAAE,iBAAiB;4BACtB,GAAG,EAAE,iBAAiB;yBACvB;qBACF;iBACF;aACF;YACD,gBAAgB,EAAE;gBAChB;oBACE,GAAG,EAAE,QAAQ;oBACb,KAAK,EAAE,uBAAuB;oBAC9B,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,GAAG,EAAE,OAAO;oBACZ,KAAK,EAAE,qBAAqB;oBAC5B,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,GAAG,EAAE,UAAU;oBACf,KAAK,EAAE,SAAS;oBAChB,QAAQ,EAAE,KAAK;iBAChB;aACF;YACD,IAAI,EAAE,CAAC;YACP,SAAS,EAAE,KAAK;YAChB,OAAO,EAAE,EAAE;YACX,OAAO,EAAE,QAAQ;SAClB,CAAC;QAgJA,KAAI,CAAC,aAAa,GAAG,IAAI,0DAAW,EAAE,CAAC;QACvC,KAAI,CAAC,qBAAqB,EAAE,CAAC;QAE7B,IAAM,YAAY,GAAG,KAAI,CAAC,0BAA0B,EAAE,CAAC;QACvD,IAAI,YAAY,CAAC,MAAM,CAAC,IAAI,IAAI;YAAE,KAAI,CAAC,KAAK,GAAG,YAAY,CAAC;;IAC9D,CAAC;IAnJD,sBAAW,0DAAkB;aAA7B;YACE,IAAI,KAAK,GAAe,EAAE,CAAC;YAC3B,IAAI,WAAW,GAAe,EAAE,CAAC;YACjC,IAAI,MAAM,GAAY,KAAK,CAAC;YAE5B,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC;gBAAE,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;YAC5D,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC;gBAAE,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC;YAE/D,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,QAAQ,EAAb,CAAa,CAAC,CAAC;YAClD,MAAM,GAAG,WAAW,CAAC,MAAM,KAAK,CAAC,CAAC;YAElC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC;gBAAE,MAAM,GAAG,KAAK,CAAC;YAC1C,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,iBAAiB;gBAAE,MAAM,GAAG,KAAK,CAAC;YAEpE,OAAO,MAAM,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAW,6CAAK;aAAhB;YACE,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC;;;OAAA;IAED,sBAAW,2CAAG;aAAd;YACE,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACtC,CAAC;;;OAAA;IAED,sBAAW,8DAAsB;aAAjC;YACE,OAAO,IAAI,CAAC,qBAAqB,CAAC;QACpC,CAAC;;;OAAA;IAEO,+DAA0B,GAAlC;QACE,IAAI;YACF,OAAO,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,EAAE,CAAC;SACnE;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,EAAE,CAAC;SACX;IACH,CAAC;IAEO,mDAAc,GAAtB;QACE,IAAM,aAAa,GAAG,IAAI,CAAC,0BAA0B,EAAE,CAAC;QACxD,IAAM,KAAK,GAAG,CAAC,aAAa,CAAC,aAAa,IAAI,IAAI,CAAC;YACvC,CAAC,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,QAAQ,EAAb,CAAa,CAAC,CAAC,CAAC,CAAC;YAC9D,CAAC,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,GAAG,KAAK,OAAO,EAApB,CAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;QAClF,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,mDAAc,GAAtB,UAAuB,IAAW;QAChC,IAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,GAAG,KAAK,OAAO,EAApB,CAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;QACvF,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC;IAC3D,CAAC;IAEO,8DAAyB,GAAjC;QACE,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;IACvE,CAAC;IAEO,oDAAe,GAAvB,UAAwB,IAAqB;QAC3C,IAAI,KAAa,CAAC;QAClB,IAAI,OAA0B,CAAC;QAE/B,IAAI,IAAI,KAAK,OAAO,EAAE;YACpB,KAAK,GAAG,EAAE,CAAC;YACX,OAAO,GAAG,QAAQ,CAAC;SACpB;aAAM,IAAI,IAAI,KAAK,OAAO,EAAE;YAC3B,KAAK,GAAG,EAAE,CAAC;YACX,OAAO,GAAG,QAAQ,CAAC;SACpB;QAED,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;IAC/B,CAAC;IAEO,sDAAiB,GAAzB,UAA0B,KAAY;QACpC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK,EAAE,QAAQ;YAClC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,yDAAoB,GAA5B;QACE,IAAM,cAAc,GAAU,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC;YACtB,CAAC,CAAC,IAAI,CAAC,KAAK;YACZ,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,KAAK,CAAC;QAE1D,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC;QAE5B,IAAM,UAAU,GAAG;YACjB,IAAI,EAAQ,IAAI,CAAC,KAAK,CAAC,OAAO;YAC9B,SAAS,EAAG,IAAI,CAAC,KAAK,CAAC,OAAO;YAC9B,MAAM,EAAM,cAAc,CAAC,KAAK;YAChC,cAAc,EAAQ,EAAE;YACxB,gBAAgB,EAAM,IAAI;YAC1B,oBAAoB,EAAE,IAAI;YAC1B,eAAe,EAAO,KAAK;SAC5B,CAAC;QAEF,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IACtD,CAAC;IAEO,yDAAoB,GAA5B,UAA6B,MAAiC;QAC5D,IAAI,MAAM,KAAK,QAAQ;YAAW,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAChE,IAAI,MAAM,KAAK,gBAAgB;YAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAEhE,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAEO,wDAAmB,GAA3B;QACE,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,QAAQ,EAAb,CAAa,CAAC,CAAC,CAAC,CAAC,CAAC;QACxE,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE;YACzB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;YAC1B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SAC/B;IACH,CAAC;IAEO,oDAAe,GAAvB;QACE,IAAI,CAAC,IAAI,GAAG;YACV,KAAK,EAAE,EAAE;YACT,GAAG,EAAE,EAAE;SACR,CAAC;IACJ,CAAC;IAEO,0DAAqB,GAA7B;QACE,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,IAAI,CAAC,YAAY,GAAG,IAAI,wDAAS,CAAC;YAChC,OAAO,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBACxC,yDAAU,CAAC,QAAQ;gBACnB,yDAAU,CAAC,KAAK;aACjB,CAAC;YACF,KAAK,EAAE,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;gBACpC,yDAAU,CAAC,QAAQ;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAkBM,uDAAkB,GAAzB,UAA0B,MAAa;QACrC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;IACtB,CAAC;IAEM,iDAAY,GAAnB;QACE,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC;IAChD,CAAC;IAEM,oDAAe,GAAtB;QACE,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC;YAAE,IAAI,CAAC,mBAAmB,EAAE,CAAC;QACtD,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC;YAAI,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC;;YAC3C,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;IACzC,CAAC;IAEM,4DAAuB,GAA9B;QACE,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;QAE5B,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAEM,+CAAU,GAAjB;QACE,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAC9B,iBAAM,KAAK,WAAE,CAAC;IAChB,CAAC;IAEM,kDAAa,GAApB,UAAqB,MAA0B;QAC7C,IAAM,IAAI,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;QAE5B,qFAAqF;QACrF,uDAAuD;QAEvD,IAAI,MAAM,KAAK,QAAQ,EAAE;YACvB,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;SACrC;QAED,IAAI,MAAM,KAAK,OAAO,EAAE;YACtB,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;SACrC;QAED,IAAI,MAAM,KAAK,aAAa,EAAE;YAC5B,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;SAC7C;QAED,IAAI,MAAM,KAAK,WAAW,EAAE;YAC1B,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;SACrC;QAED,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,QAAE,IAAI,EAAE,EAAE,EAAC,CAAC,CAAC;QACjE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAEM,yDAAoB,GAA3B,UAA4B,KAAa;QACvC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QACjD,IAAM,aAAa,GAAY,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;QACxE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,CAAC,aAAa,CAAC;QAE1D,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,QAAQ,EAAb,CAAa,CAAC,CAAC,CAAC,CAAC,CAAC;QAEzE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAClC,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAEM,yDAAoB,GAA3B,UAA4B,KAAa;QACvC,IAAM,aAAa,GAAY,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;QAC3E,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,CAAC,aAAa,CAAC;IAC/D,CAAC;IAEM,yDAAoB,GAA3B;QACE,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC;IACvF,CAAC;IAEM,yDAAoB,GAA3B;QACE,IAAI,IAAI,CAAC,qBAAqB;YAAE,OAAO;QAEvC;kFAC0E;QAE1E,iBAAiB;QACjB,kBAAkB;QAClB,cAAc;QACd,qBAAqB;QACrB,KAAK;QACL,oCAAoC;QAEpC,IAAI,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,uBAAuB,EAAE,4BAA4B,CAAC,CAAC;QAC1G,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;IAClC,CAAC;IAEM,gDAAW,GAAlB;QACE,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;IACtB,CAAC;IACH,iCAAC;AAAD,CAAC,CA7US,mEAAe,GA6UxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kHCpWmE,6HAE5D;kHAC2D,mGAE3D;sMA7BR,yLAAwC,YAAxB;;wBAAuB;MAAvC,29BAAwC,MACtC,sUAAoC,iGAEpC,MAEA,wVAGC,iHAED,MAEA,oUAAkC,IAChC;;;;;;szBAAkC,IAChC,gmCAAoC,MAClC;;;;;;;;;;;wBAOC;MAFC;;wBAA2B;MAL7B,ggFAOC,KAED,+ZAA4D,IAG5D,+ZAA2D,IAOjE,wUAAoC,IAClC,4pBAAwB,IACtB,8PAMC,YADC;;wBAAqB;MALvB,m8BAMC,gGAED,mDArCF,sBAAY,EAFd,aAGC,EADC,SAAY,GAMN,mBAA2B,gBAAjC,aAAkC,EAA5B,SAA2B,GACf,6BAAmB,EAAnC,aAAoC,EAApB,SAAmB,GAK/B,oBAA+B,kBAJjC,aAOC,EAHC,UAA+B,GAJjC,aAOC,GAEyC,4BAAiB,EAA3D,aAA4D,EAAlB,UAAiB,GAGjB,2BAAgB,EAA1D,aAA2D,EAAjB,UAAgB,GAW1D,gCAAqB,EACrB,yBAAa,EACb,qBAAgB,EAJlB,aAMC,EAJC,UAAqB,EACrB,UAAa,EACb,UAAgB,2BA3BpB,stBAAkC,GAE9B,80BAOC,GAcH,mHAMC;;;;;;;;;;;;;;;;AC1CP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoE;AACA;AAEnB;AAEyC;AACL;AAErF;IAaE,sCACU,WAA2B;QAA3B,gBAAW,GAAX,WAAW,CAAgB;QAEnC,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IARD,sBAAW,yDAAe;aAA1B;YACE,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAgB,CAAC;QACvD,CAAC;;;OAAA;IAQM,sDAAe,GAAtB;QACE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAEO,+CAAQ,GAAhB;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,wDAAS,CAAC;YACjC,IAAI,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE;gBACxB,yDAAU,CAAC,QAAQ;gBACnB,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC;aACzB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAEM,gDAAS,GAAhB;QACE,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAEM,gDAAS,GAAhB;QACE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE;YAC7B,oGAA8B,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACnD,OAAO;SACR;QAED,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;IACrD,CAAC;IACH,mCAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4GCnDC,wHAAoE;4GAS9D,oIAAmH,IAA5D,ubAA2D,KAAlH,YAAmH,EAA5D,SAA2D;4GAClH,qIAAuH,IAAxD,yMAAuD,IACpH,wLAGC,YADC;;wBAAmC;MAFrC,wBAGC,IAFC,yMAAwD,IAGxD,8KAAwD,KAE1D,2uBAIC,GADC,gEAAyB,KAFzB,4RAA8E,IAKhF,yLAGC,YADC;;wBAAmC;MAFrC,wBAGC,IAFC,0MAAwD,IAGxD,gLAAyD,kDARzD,qCAAuC,oBACvC,qCAAyB,GAH3B,YAIC,EAFC,SAAuC,EACvC,SAAyB,mDAVkC,mLAAuD,KAAtH,YAAuH,EAAxD,SAAuD,GAElH,oLAAwD,KAD1D,YAGC,EAFC,SAAwD,GAMxD,yMAA8E,MADhF,YAIC,EAHC,SAA8E,GAM9E,uLAAwD,KAD1D,aAGC,EAFC,SAAwD;4GAyB9D,oIAAsF,IAA7D,yMAA4D,IAAC,wMAItF,uDAJyB,wLAA4D,KAArF,YAAsF,EAA7D,SAA4D,GAAC,8dAItF;4GACA,oIAGC,IADC,yMAAqE,IACtE,0JAED,uDAHE,iMAAqE,KAFvE,YAGC,EADC,SAAqE,GACtE,wNAED;4GACA,oIAGC,IADC,8RAAyF,IAC1F,oJAED,uDAHE,6MAAyF,MAF3F,YAGC,EADC,SAAyF,GAC1F,mNAED;4GAIA,oIAAoF,IAA5D,yMAA2D,IAAC,qFAEpF,yDAFwB,uLAA2D,KAAnF,YAAoF,EAA5D,SAA2D,GAAC,0DAEpF;4GAIE,wHAAyC,KACvC,oIAA4D,IAAtD,yMAAqD,IAAC,iFAE5D,yDAFM,iLAAqD,KAA3D,YAA4D,EAAtD,SAAqD,GAAC,qIAE5D;4GA3EN,uKAIC,IAHC,sRAA0G,IAI1G,qIAAkE,IAA7D,yMAA4D,IAC/D,+YAAmH,IACnH,gZAAuH,IAoBvH,qIAMC,IALC,gSAIQ,IAER,qIAAwG,IAAnG,0RAAkG,IAAO,8EAEhH,MACA,2KAA4G,EAAnC;;wBAAkC;MAA3G,wBAA4G,IAAvG,0MAAmE,IACtE,+MAIC,YADC;;wBAA+C;MAHjD,48BAIC,MAIL,gZAAsF,IAKtF,gZAGC,IAGD,gZAGC,IAGD,qIAAiE,IAA5D,0MAA2D,IAAC,8EAEjE,MACA,gZAAoF,IAGpF,sIAA6G,IAAxG,gTAAuG,IAC1G,qIAA2D,IAAtD,0MAAqD,IAAC,4EAAuB,MAClF,qIAA2D,IAAtD,0MAAqD,IAAC,8EAA0B,8HAAK,8EAAC,MAC3F,gZAAyC,iDAlEpC,mEAAiD,IAAtD,YAAmH,EAA9G,SAAiD,GACjD,6EAAyD,IAA9D,aAAuH,EAAlH,SAAyD,GAgC1D,mBAAiB,SACjB,wBAAa,EAFf,aAIC,EAHC,SAAiB,EACjB,UAAa,GAMd,qBAAmB,aAAxB,aAAsF,EAAjF,UAAmB,GAMtB,qBAAmB,aADrB,aAGC,EAFC,UAAmB,GAMnB,oBAAkB,aADpB,aAGC,EAFC,UAAkB,GAQf,oBAAkB,aAAvB,aAAoF,EAA/E,UAAkB,GAMP,oBAA0B,qBAAxC,aAAyC,EAA3B,UAA0B,mDAvE1C,4OAA0G,OAC1G,mBAAY,MAFd,YAIC,EAHC,SAA0G,EAC1G,SAAY,GAGP,wLAA4D,KAAjE,YAAkE,EAA7D,SAA4D,GAuB7D,+PAIQ,OALV,aAMC,EALC,SAIQ,GAEH,8MAAkG,2BAAvG,aAAwG,EAAnG,SAAkG,GAAO,0EAEhH,GACK,kMAAmE,KAAxE,aAA4G,EAAvG,SAAmE,GA0BrE,2LAA2D,KAAhE,aAAiE,EAA5D,UAA2D,GAAC,0DAEjE,GAIK,mNAAuG,MAA5G,aAA6G,EAAxG,UAAuG,GACrG,qLAAqD,KAA1D,aAA2D,EAAtD,UAAqD,GAAC,mEAAuB,GAC7E,qLAAqD,KAA1D,aAA2D,EAAtD,UAAqD,GAAC,oEAA0B;6GAerF,oIAAmH,IAA5D,ubAA2D,KAAlH,YAAmH,EAA5D,SAA2D;6GAEhH,wLAIC,YADC;;wBAAmC;MAHrC,wBAIC,IAFC,yMAAwD,IAGxD,8KAAwD,wDAHxD,oLAAwD,KAF1D,YAIC,EAFC,SAAwD;6GAW1D,wLAIC,YADC;;wBAAmC;MAHrC,wBAIC,IAFC,yMAAwD,IAGxD,+KAAyD,wDAHzD,oLAAwD,KAF1D,YAIC,EAFC,SAAwD;6GAhB5D,qIAAuH,IAAxD,yMAAuD,IACpH,gZAIC,IAGD,2uBAIC,GADC,gEAAyB,KAFzB,0RAA8E,IAKhF,iZAIC,iDAhBC,6CAAgC,GADlC,YAIC,EAHC,SAAgC,GAQhC,qCAAuC,oBACvC,qCAAyB,GAH3B,YAIC,EAFC,SAAuC,EACvC,SAAyB,GAIzB,6CAAgC,GADlC,aAIC,EAHC,SAAgC,mDAf2B,mLAAuD,KAAtH,YAAuH,EAAxD,SAAuD,GASlH,uMAA8E,MADhF,YAIC,EAHC,SAA8E;6GA4BlF,oIAAsF,IAA7D,yMAA4D,IAAC,wMAItF,uDAJyB,wLAA4D,KAArF,YAAsF,EAA7D,SAA4D,GAAC,8dAItF;6GACA,oIAGC,IADC,yMAAqE,IACtE,0JAED,uDAHE,iMAAqE,KAFvE,YAGC,EADC,SAAqE,GACtE,wNAED;6GACA,oIAGC,IADC,8RAAyF,IAC1F,oJAED,uDAHE,6MAAyF,MAF3F,YAGC,EADC,SAAyF,GAC1F,mNAED;6GAIA,oIAAoF,IAA5D,yMAA2D,IAAC,qFAEpF,yDAFwB,uLAA2D,KAAnF,YAAoF,EAA5D,SAA2D,GAAC,0DAEpF;6GAQE,oIAAsF,IAAtD,yMAAqD,IAAC,iFAEtF,yDAFgC,iLAAqD,KAArF,YAAsF,EAAtD,SAAqD,GAAC,qIAEtF;6GA3EN,yLAGC,YADC;;wBAA4B;MAF9B,wBAGC,IAFC,sRAA0G,IAG1G,qIAAkE,IAA7D,yMAA4D,IAC/D,gZAAmH,IACnH,iZAAuH,IAsBvH,qIAMC,IALC,gSAIQ,IAER,qIAAwG,IAAnG,0RAAkG,IAAO,8EAEhH,MACA,2KAA4G,EAAnC;;wBAAkC;MAA3G,wBAA4G,IAAvG,0MAAmE,IACtE,8iCAA+C,IAGnD,sIAAoE,IAA/D,0MAA8D,IACjE,iZAAsF,IAKtF,iZAGC,IAGD,iZAGC,IAGD,qIAAiE,IAA5D,0MAA2D,IAAC,8EAEjE,MACA,iZAAoF,IAGpF,sIAA6G,IAAxG,gTAAuG,IAC1G,qIAA2D,IAAtD,0MAAqD,IAAC,8EAE3D,MACA,qIAA2D,IAAtD,0MAAqD,IAAC,+EAC/B,8HAAK,8EAAC,MAElC,iZAAsF,iDApEnF,mEAAiD,IAAtD,YAAmH,EAA9G,SAAiD,GACjD,6EAAyD,IAA9D,aAAuH,EAAlH,SAAyD,GAiC7C,mBAAiB,SAAC,uBAAa,EAA9C,aAA+C,EAAhC,SAAiB,EAAC,SAAa,GAI3C,qBAAmB,aAAxB,aAAsF,EAAjF,UAAmB,GAMtB,qBAAmB,aADrB,aAGC,EAFC,UAAmB,GAMnB,oBAAkB,aADpB,aAGC,EAFC,UAAkB,GAQf,oBAAkB,aAAvB,aAAoF,EAA/E,UAAkB,GAUhB,oBAA0B,qBAA/B,aAAsF,EAAjF,UAA0B,mDAxEnC,4OAA0G,OAD5G,YAGC,EAFC,SAA0G,GAGrG,wLAA4D,KAAjE,YAAkE,EAA7D,SAA4D,GAyB7D,+PAIQ,OALV,aAMC,EALC,SAIQ,GAEH,8MAAkG,2BAAvG,aAAwG,EAAnG,SAAkG,GAAO,0EAEhH,GACK,kMAAmE,KAAxE,aAA4G,EAAvG,SAAmE,GAIrE,8LAA8D,KAAnE,aAAoE,EAA/D,UAA8D,GAkB5D,2LAA2D,KAAhE,aAAiE,EAA5D,UAA2D,GAAC,0DAEjE,GAIK,mNAAuG,MAA5G,aAA6G,EAAxG,UAAuG,GACrG,qLAAqD,KAA1D,aAA2D,EAAtD,UAAqD,GAAC,mEAE3D,GACK,qLAAqD,KAA1D,aAA2D,EAAtD,UAAqD,GAAC,oEAC/B;sSA5JtC,oIAA+D,IAA1D,yMAAyD,IAC5D,qcAAoE,IAEpE,mIAA6B,KAiF7B,6HAAsB,KAkFxB,oIAA2D,IAAtD,yMAAqD,iDArK1C,oLAAqD,GAAnE,YAAoE,EAAtD,+BAAqD,mDADhE,qLAAyD,KAA9D,YAA+D,EAA1D,SAAyD,GAsKzD,kLAAqD,KAA1D,YAA2D,EAAtD,SAAqD;;;;;;;;;;;;;;;;;;;;;;;;AC/JnC;AAE2D;AACI;AAEb;AAKzE;IAyCE,gCACU,EAAqB,EACrB,iBAAoC,EACpC,mBAAwC;QAFxC,OAAE,GAAF,EAAE,CAAmB;QACrB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,wBAAmB,GAAnB,mBAAmB,CAAqB;QApCxC,iBAAY,GAAsB,IAAI,0DAAY,EAAO,CAAC;QAE7D,qBAAgB,GAAW,CAAC,CAAC;QAC7B,UAAK,GAAW,SAAS,CAAC;QAE1B,gBAAW,GAAY,IAAI,CAAC;QAC5B,kBAAa,GAAY,mFAAa,EAAE,CAAC;IA+B7C,CAAC;IA1BJ,sBAAW,+CAAW;aAAtB;YACE,OAAO,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC;QAC9C,CAAC;;;OAAA;IAED,sBAAW,uCAAG;aAAd;YACE,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG;gBAAE,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;;gBACvC,OAAO,sBAAoB,IAAI,CAAC,MAAM,CAAC,EAAI,CAAC;QACnD,CAAC;;;OAAA;IAED,sBAAW,8CAAU;aAArB;YACE,IAAM,UAAU,GAAG,EAAE,CAAC;YAChB,oBAAyD,EAAxD,kBAAM,EAAE,4BAAW,EAAE,0BAAU,EAAE,sBAAuB,CAAC;YAEhE,IAAI,MAAM;gBAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpC,IAAI,WAAW;gBAAE,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC9C,IAAI,UAAU;gBAAE,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC5C,IAAI,QAAQ;gBAAE,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAExC,IAAI,UAAU,CAAC,MAAM;gBAAE,OAAO,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;gBAChD,OAAO,EAAE,CAAC;QACjB,CAAC;;;OAAA;IAQM,yCAAQ,GAAf;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;QACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;QACtC,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG;YAAE,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;;YACxC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;IACnD,CAAC;IAEM,mDAAkB,GAAzB;QACE,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC;IACnB,CAAC;IAEM,gDAAe,GAAtB;QACE,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe;YAAE,OAAO,WAAW,CAAC;QACpD,OAAO,YAAY,CAAC;IACtB,CAAC;IAEM,0CAAS,GAAhB,UAAiB,MAA2B,EAAE,KAAK;QACjD,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC;YAAE,OAAO;QAC9D,EAAE,IAAI,CAAC,gBAAgB,CAAC;QACxB,IAAI,IAAI,CAAC,gBAAgB,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM;YAAE,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC7E,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;IAC1B,CAAC;IAEM,0CAAS,GAAhB,UAAiB,MAA2B,EAAE,KAAK;QACjD,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC;YAAE,OAAO;QAC9D,EAAE,IAAI,CAAC,gBAAgB,CAAC;QACxB,IAAI,IAAI,CAAC,gBAAgB,GAAG,CAAC;YAAE,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;QAChF,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;IAC1B,CAAC;IAED,oDAAoD;IACpD,mEAAmE;IACnE,IAAI;IAES,iDAAgB,GAA7B;;;gBACE,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gBAC1D,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,EAAE,CAAC;gBAClD,IAAI,IAAI,CAAC,aAAa;oBAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;;;KACvD;IAEM,uDAAsB,GAA7B,UAA8B,MAA2B;QACvD,IAAI,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;YACnD,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SACpD;aAAM;YACL,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SACjD;IACH,CAAC;IACH,6BAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sGCjHD,wHAAyE;sGAWrE,wHAAqC,iGAErC;sGACA,wHAAoC,yFAEpC;sGAbF,yLAOC,YADC;;wBAAyB;MAN3B,wBAOC,IANC,4RAIQ,IAGR,yYAAqC,IAGrC,yYAAoC,IAErB,+EAEf,+LAAiH,IAA3D,0MAA0D,iDAPlG,oBAAsB,gBAApC,YAAqC,EAAvB,SAAsB,GAGtB,mBAAqB,gBAAnC,YAAoC,EAAtB,SAAqB,mDAVnC,sMAIQ,oBALV,YAOC,EANC,SAIQ,GAQO,oEAEf,GAAsD,wLAA0D,KAAhH,YAAiH,EAA3D,SAA0D;sGAW5G,wHAAqC,0PAErC;sGACA,wHAAoC,4NAEpC;sGA8BI,iMAIC,YADC;;wBAAqC;MAHvC,+sBAIC,2BAFC,kBAAkB,oBAFpB,YAIC,EAFC,SAAkB;sGAHtB,wHAA+B,KAC7B,qfAIC,iIAHC,gDAAkD,YADpD,YAIC,EAHC,oBAAkD;uGAepD,iMAIC,YADC;;wBAAqC;MAHvC,+sBAIC,2BAFC,kBAAkB,oBAFpB,YAIC,EAFC,SAAkB;uGAHtB,wHAA+B,KAC7B,sfAIC,iIAHC,8DAAgE,YADlE,YAIC,EAHC,oBAAgE;sGA1D5E,8dAGC,GADC,mEAA4C,KAD5C,yMAAyD,IAGzD,qIAAyD,IAApD,yMAAmD,IACtD,oIAA2D,IAAtD,yMAAqD,IACxD,0YAAqC,IAGrC,0YAAoC,IAItC,yLAA4F,YAA1B;;wBAAyB;MAA3F,wBAA4F,IAAvF,0MAA4D,IAA2B,8EAAO,MACnG,sIAAsE,IAAjE,0MAAgE,IACnE,qIAAkE,IAA7D,0MAA4D,IAC/D,4PAOC,YAHC;;wBAA8B;MAJhC,ixBAOC,KANC,0MAAsD,IAU9D,geAGC,GADC,oEAAoD,KADpD,0MAA6D,IAG7D,ynBAAe,MACb,oMAOC,YAFC;;wBAAmC;MACnC;;wBAAuB;MANzB,8kBAOC,MACC,uYAA+B,IAQjC,oMAOC,YAFC;;wBAAsC;MACtC;;wBAAuB;MANzB,8kBAOC,MACC,wYAA+B,iDAtDrC,uDAA4C,IAF9C,YAGC,EADC,SAA4C,GAI1B,oBAAsB,gBAApC,aAAqC,EAAvB,SAAsB,GAGtB,mBAAqB,gBAAnC,aAAoC,EAAtB,SAAqB,GAS/B,oBAAuD,gDACvD,oBAAmB,WAGnB,wCAAmC,EADnC,wBAAY,EALd,aAOC,EALC,UAAuD,EACvD,UAAmB,EAGnB,UAAmC,EADnC,UAAY,GAQlB,iEAAoD,IAFtD,aAGC,EADC,UAAoD,GAMhD,oBAA6B,qBAC7B,oBAAqB,WAFrB,oBAA0B,mBAD1B,oBAAmC,kBADrC,aAOC,EAJC,UAA6B,EAC7B,UAAqB,EAFrB,UAA0B,EAD1B,UAAmC,GAOrB,oBAAgB,WAA9B,aAA+B,EAAjB,UAAgB,GAW9B,oBAAgC,wBAChC,oBAAqB,WAFrB,oBAA6B,sBAD7B,oBAAmC,kBADrC,aAOC,EAJC,UAAgC,EAChC,UAAqB,EAFrB,UAA6B,EAD7B,UAAmC,GAOrB,oBAAgB,WAA9B,aAA+B,EAAjB,UAAgB,mDAvDpC,qLAAyD,KAD3D,YAGC,EAFC,SAAyD,GAGpD,+KAAmD,KAAxD,YAAyD,EAApD,SAAmD,GACjD,kLAAqD,KAA1D,YAA2D,EAAtD,SAAqD,GAQrD,2LAA4D,KAAjE,aAA4F,EAAvF,SAA4D,GAC5D,+LAAgE,KAArE,aAAsE,EAAjE,SAAgE,GAC9D,2LAA4D,KAAjE,aAAkE,EAA7D,SAA4D,GAE7D,qLAAsD,KADxD,aAOC,EANC,SAAsD,GAW5D,6LAA6D,KAD/D,aAGC,EAFC,UAA6D;sGAnDnE,+bAAyE,IAEzE,0HAA0B,KAoB1B,0HAA0B,kDAtBZ,wLAA0D,GAAxE,YAAyE,EAA3D,+BAA0D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKjD;AAGsB;AAG2C;AACN;AACF;AACsB;AAClB;AACU;AAG7B;AAQJ;AAyB7D;IAwME,0BACU,iBAAoC,EACpC,oBAAiD,EAClD,gBAAkC,EAClC,aAAmC,EAClB,MAAqB,EACrB,MAAc,EACZ,QAAkB;QANpC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,yBAAoB,GAApB,oBAAoB,CAA6B;QAClD,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,kBAAa,GAAb,aAAa,CAAsB;QAClB,WAAM,GAAN,MAAM,CAAe;QACrB,WAAM,GAAN,MAAM,CAAQ;QACZ,aAAQ,GAAR,QAAQ,CAAU;QAxMtC,gBAAW,GAAkB,IAAI,4CAAO,EAAQ,CAAC;QACjD,eAAU,GAAkB,IAAI,4CAAO,EAAQ,CAAC;QAChD,eAAU,GAAW,mEAAc,CAAC,YAAY,CAAC,KAAK,CAAC;QAGxD,kBAAa,GAAkB;YACpC,GAAG,EAAE,CAAC;YACN,WAAW,EAAE,CAAC;YACd,cAAc,EAAE,CAAC;SAClB,CAAC;QACK,iBAAY,GAAyB;YAC1C,QAAQ,EAAE,YAAY;YACtB,YAAY,EAAE,IAAI;SACnB,CAAC;QACK,UAAK,GAAW,SAAS,CAAC;QAC1B,aAAQ,GAAsB,EAAE,CAAC;QACjC,uBAAkB,GAAW,EAAE,CAAC;QAChC,oBAAe,GAAW,QAAQ,CAAC;QACnC,kBAAa,GAAW,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QAC7D,4BAAuB,GAAW,CAAC,CAAC;QACpC,mBAAc,GAAY,IAAI,CAAC;QAC/B,yBAAoB,GAAY,IAAI,CAAC;QACrC,aAAQ,GAAY,KAAK,CAAC;QAC1B,wBAAmB,GAAY,yFAAmB,EAAE,CAAC;QACrD,kBAAa,GAAY,mFAAa,EAAE,CAAC;QACzC,gBAAW,GAAsB,IAAI,CAAC;QACtC,oBAAe,GAAsB,IAAI,CAAC;QAC1C,YAAO,GAAsB,EAAE,CAAC;QAChC,0BAAqB,GAAsB,EAAE,CAAC;QAC9C,oBAAe,GAA8B,IAAI,GAAG,EAAwB,CAAC;QAC7E,gBAAW,GAAc,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;QAC5D,oBAAe,GAAc,IAAI,CAAC,aAAa,GAAG,GAAG,OAAI,CAAC;QAC1D,qBAAgB,GAAc,IAAI,CAAC,aAAa,CAAC,WAAW,yBAAsB,CAAC;QACnF,wBAAmB,GAAc,IAAI,CAAC,aAAa,CAAC,cAAc,0BAAuB,CAAC;QAyK/F,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/D,CAAC;IAxKO,0CAAe,GAAvB,UAAwB,QAA2B;QAC/C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;QAC5B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QAEhD,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjD,CAAC;IAEa,+CAAoB,GAAlC;;;;;;6BACM,IAAI,CAAC,kBAAkB,EAAvB,wBAAuB;wBACzB,SAAI;wBAAmB,qBAAM,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,IAAI,CAAC,kBAAkB,CAAC;;wBAAhG,GAAK,eAAe,GAAG,SAAyE,CAAC;wBACjG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;wBAEpD,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;;;;;KAEpD;IAEO,yCAAc,GAAtB,UAAuB,QAAuB;QAC5C,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;QAE9B,IAAI,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE;YAC5B,IAAI,CAAC,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC;YAC5C,IAAI,CAAC,gBAAgB,GAAM,QAAQ,CAAC,WAAW,yBAAsB,CAAC;YACtE,IAAI,CAAC,mBAAmB,GAAM,QAAQ,CAAC,cAAc,0BAAuB,CAAC;SAC9E;aAAM;YACL,IAAI,CAAC,uBAAuB,GAAG,CAAC,CAAC;SAClC;IACH,CAAC;IAEO,6CAAkB,GAA1B,UAA2B,EAAuD;YAArD,mBAAkB,EAAlB,uCAAkB,EAAE,YAAW,EAAX,gCAAW;QAC1D,IAAI,KAAK,GAAW,CAAC,CAAC;QACtB,IAAI,YAAY,GAAgB,EAAiB,CAAC;QAElD,IAAI,CAAC,IAAI,IAAI,CAAC,WAAW,EAAE;YACzB,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;YACxB,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC;SACvC;aAAM;YACL,KAAK,GAAG,IAAI,CAAC;YACb,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAEvB,YAAY,GAAG,WAAW,CAAC;YAC3B,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC;SACtC;QAED,IAAM,OAAO,GAAiB;YAC5B,aAAa,EAAG,IAAI,CAAC,gBAAgB,CAAC,OAAwB;YAC9D,WAAW,EAAE,YAAY;YACzB,IAAI,EAAE,KAAK;SACZ,CAAC;QAEF,IAAM,MAAM,GAAW,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAClG,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC7G,CAAC;IAEO,uCAAY,GAApB;QACE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC;IACxC,CAAC;IAEO,2CAAgB,GAAxB,UAAyB,WAA0C;QAAnE,iBAmBC;QAlBC,WAAW,CAAC,OAAO,CAAC,gBAAM;YACxB,IAAI,KAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;gBAAE,MAAM,CAAC,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC;;gBACjG,MAAM,CAAC,UAAU,CAAC,UAAU,GAAG,KAAK,CAAC;YAE1C,IAAI,KAAI,CAAC,YAAY,CAAC,YAAY,EAAE;gBAClC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBAChB,QAAQ,EAAE,MAAM,CAAC,QAAQ;oBACzB,QAAQ,EAAE,IAAI,sFAAmB,CAAC,MAAM,CAAC,UAAU,CAAC;iBACrD,CAAC,CAAC;aACJ;iBAAM;gBACL,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC;oBAC9B,QAAQ,EAAE,MAAM,CAAC,QAAQ;oBACzB,QAAQ,EAAE,IAAI,sFAAmB,CAAC,MAAM,CAAC,UAAU,CAAC;iBACrD,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAEO,yCAAc,GAAtB;QACE;;;;;UAKE;QACF,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC5B;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,GAAG,GAAG,CAAC,CAAC;YAC3B,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,CAAC,CAAC;YACnC,IAAI,CAAC,aAAa,CAAC,cAAc,GAAG,CAAC,CAAC;YACtC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAChC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;YACpC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;YAC1C,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC;YACtC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;SACvB;IACH,CAAC;IAEO,oDAAyB,GAAjC;QACE,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;IACtG,CAAC;IAEO,+CAAoB,GAA5B,UAA6B,OAAqB;QAChD,IAAM,WAAW,GAAG,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACtE,OAAU,WAAW,kBAAa,IAAI,CAAC,YAAY,CAAC,QAAQ,+BAA0B,IAAI,CAAC,YAAY,CAAC,YAAc,CAAC;IACzH,CAAC;IAEO,0CAAe,GAAvB;QACE,IAAI,CAAC,kBAAkB,CAAC,EAAC,WAAW,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;IAC3D,CAAC;IAEO,sCAAW,GAAnB,UAAoB,GAAW,EAAE,MAAW,EAAE,OAA4B;QACxE,IAAI,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC;YAAE,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;QAC/E,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACtE,CAAC;IAEO,yCAAc,GAAtB;QACE,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,sBAAY,IAAI,mBAAY,CAAC,WAAW,EAAE,EAA1B,CAA0B,CAAC,CAAC;IAC3E,CAAC;IAEO,yCAAc,GAAtB,UAAuB,IAAY;QACjC,IAAI,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC;YAAE,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;IACnF,CAAC;IAEO,gDAAqB,GAA7B,UAA8B,OAA0B;QACtD,IAAI,OAAO,IAAI,OAAO,CAAC,QAAQ,YAAY,KAAK;YAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAC5F,CAAC;IAEa,0CAAe,GAA7B;;;;;;wBACM,YAAY,GAAkB,EAAE,CAAC;;;;wBAGpB,qBAAM,IAAI,CAAC,oBAAoB,CAAC,uBAAuB,EAAE;;wBAAxE,YAAY,GAAG,SAAyD,CAAC;;;;wBAEzE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mCAAmC,EAAE,OAAK,CAAC,CAAC;;;wBAE9D,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;;;;;;KAEzC;IAEO,6CAAkB,GAA1B,UAA2B,WAA0B;QAArD,iBAEC;QADC,WAAW,CAAC,OAAO,CAAC,YAAE,IAAI,YAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAE,CAAC,EAAxC,CAAwC,CAAC,CAAC;IACtE,CAAC;IAEO,6CAAkB,GAA1B;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC;QAClD,IAAI,CAAC,eAAe,GAAM,IAAI,CAAC,aAAa,GAAG,GAAG,OAAI,CAAC;IACzD,CAAC;IAcY,mCAAQ,GAArB;;;;4BACE,qBAAM,IAAI,CAAC,eAAe,EAAE;;wBAA5B,SAA4B,CAAC;wBAE7B,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;wBACzG,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;wBAC5E,IAAI,CAAC,WAAW,CAAC,oBAAoB,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;wBAE9E,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,KAAK,CAAC;4BAAE,IAAI,CAAC,kBAAkB,EAAE,CAAC;wBACrE,IAAI,IAAI,CAAC,mBAAmB;4BAAE,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;wBAE1D,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;;;;;KACjE;IAEM,sCAAW,GAAlB;QACE,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;IACrE,CAAC;IAEM,uCAAY,GAAnB;QACE,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEY,mCAAQ,GAArB;;;;4BACE,qBAAM,IAAI,CAAC,oBAAoB,EAAE;;wBAAjC,SAAiC,CAAC;;;;;KACnC;IAEM,iCAAM,GAAb,UAAc,KAAc,EAAE,GAAW;QACvC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QAC9B,IAAI,KAAK,EAAE;YACT,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,KAAK,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;YACpE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5B;IACH,CAAC;IAEM,wCAAa,GAApB;QACE,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,OAAO;SACR;QAED,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;QAC3C,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;SAChC;aAAM;YACL,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;SACjC;IACH,CAAC;IAEM,sCAAW,GAAlB,UAAmB,KAAiB;QAClC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,KAAK,CAAC,IAAI,KAAK,4BAA4B;YAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,aAAa,CAAC;;YACvF,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,YAAY,CAAC;QAC/C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAEM,mDAAwB,GAA/B,UAAgC,SAA8B,EAAE,SAA8B;QAC5F,OAAO,SAAS,CAAC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC;IAC7D,CAAC;IAEM,mDAAwB,GAA/B,UAAgC,SAA8B,EAAE,SAA8B;QAC5F,OAAO,SAAS,CAAC,cAAc,GAAG,SAAS,CAAC,cAAc,CAAC;IAC7D,CAAC;IAEM,oCAAS,GAAhB,UAAiB,KAAa,EAAE,IAAyB;QACvD,OAAO,IAAI,CAAC,EAAE,CAAC;IACjB,CAAC;IAED,sBAAW,2CAAa;aAAxB;YACQ,oDAAqE,EAAnE,oBAAO,EAAE,0BAA0D,CAAC;YAC5E,OAAO,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAChD,CAAC;;;OAAA;IACH,uBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6GC3UG,oIAAqF,IAA7D,yMAA4D,IAClF,oIAA4D,IAAvD,yMAAsD,uDADrC,wLAA4D,KAApF,YAAqF,EAA7D,SAA4D,GAC7E,kLAAsD,KAA3D,YAA4D,EAAvD,SAAsD;6GALjE,qIAEC,IADC,yRAA2H,IAE3H,oIAA+D,IAA1D,yMAAyD,IAC5D,gZAAqF,IAGrF,6MAIC,YAFC;;wBAAyB;MACzB;;wBAAuC;MAHzC,ojDAIC,MAEH,qIAAkE,IAA7D,0MAA4D,IAC/D,+9BAAiB,IACjB,gkCAAa,IAGjB,6jBAAe,iDAdN,mBAAkB,aAAvB,YAAqF,EAAhF,SAAkB,GAIrB,mBAA+B,gBADjC,aAIC,EAHC,SAA+B,GAMjC,aAAiB,GACjB,aAAa,GAGjB,aAAe,mDAjBb,6PAA2H,OAD7H,YAEC,EADC,SAA2H,GAEtH,qLAAyD,KAA9D,YAA+D,EAA1D,SAAyD,GAUzD,2LAA4D,KAAjE,aAAkE,EAA7D,SAA4D;;;;;;;;;;;;;;;;ACbnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOuB;AAI8C;AACW;AACE;AAIW;AAE7F;IA6BE,iCACU,WAAwB,EACxB,iBAAoC,EACpC,gBAAkC,EAClC,iBAAoC,EACpC,IAAY,EACI,MAAqB;QALrC,gBAAW,GAAX,WAAW,CAAa;QACxB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,SAAI,GAAJ,IAAI,CAAQ;QACI,WAAM,GAAN,MAAM,CAAe;QA5BvC,kCAA6B,GAAiB,IAAI,CAAC;QAEpD,UAAK,GAAW,MAAM,CAAC;QAC9B,QAAQ;QACD,kBAAa,GAAY,IAAI,CAAC;QAC9B,eAAU,GAAY,KAAK,CAAC;QAC5B,qBAAgB,GAAY,KAAK,CAAC;QAClC,gBAAW,GAAY,KAAK,CAAC;QAC7B,wBAAmB,GAAY,yFAAmB,EAAE,CAAC;QAErD,aAAQ,GAAW,EAAE,CAAC;QACtB,cAAS,GAAW,EAAE,CAAC;IAkB3B,CAAC;IAZI,gDAAc,GAAtB,UAAuB,KAAc;QACnC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;IACzC,CAAC;IAWM,0CAAQ,GAAf;QAAA,iBAiBC;QAhBC,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW;YAAE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;;YAC1D,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAEnC,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE1B,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAExH,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE;YAChC,KAAI,CAAC,kBAAkB,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE;YAChC,KAAI,CAAC,kBAAkB,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;IAEL,CAAC;IAEM,6CAAW,GAAlB;QACE,IAAI,CAAC,4BAA4B,CAAC,WAAW,EAAE,CAAC;QAChD,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC;QAEpC,IAAI,IAAI,CAAC,6BAA6B;YAAE,IAAI,CAAC,6BAA6B,CAAC,WAAW,EAAE,CAAC;IAC3F,CAAC;IAEM,4CAAU,GAAjB;QACE,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAEM,mDAAiB,GAAxB;QACE,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAEM,oDAAkB,GAAzB;QAAA,iBAQC;QAPC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACZ,IAAI,KAAI,CAAC,mBAAmB,EAAE;gBAC5B,KAAI,CAAC,SAAS,GAAM,0EAAY,CAAC,KAAK,GAAG,EAAE,OAAI,CAAC;aACjD;iBAAM;gBACL,KAAI,CAAC,SAAS,GAAM,0EAAY,CAAC,KAAK,GAAG,EAAE,OAAI,CAAC;aACjD;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,0CAAQ,GAAf;QACU,wEAAa,CAA4C;QACjE,IAAI,YAAY,CAAC,QAAQ,EAAE;YACzB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,QAAQ,CAAC;SACvC;aAAM;YACL,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;SACpC;IACH,CAAC;IAEM,mDAAiB,GAAxB;QAAA,iBAQC;QAPC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,0BAA0B;aACtE,SAAS,CAAC,UAAC,QAAQ,IAAK,YAAI,CAAC,gBAAgB,GAAG,CAAC,QAAQ,EAAjC,CAAiC,CAAC,CAAC;QAE9D,IAAI,CAAC,4BAA4B;YAC/B,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAChD,UAAC,WAAW,IAAK,YAAI,CAAC,eAAe,CAAC,WAAW,CAAC,EAAjC,CAAiC,CACnD,CAAC;IACN,CAAC;IAEM,iDAAe,GAAtB,UAAuB,WAAoB;QAA3C,iBAcC;QAbC,IAAI,WAAW,KAAK,IAAI,EAAE;YACxB,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC;YACjC,IAAI,YAAY,CAAC,eAAe,EAAE;gBAChC,IAAI;oBACF,YAAY,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;iBAC5C;gBAAC,OAAO,KAAK,EAAE;oBACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;iBAC1B;gBACD,UAAU,CAAC,cAAO,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,EAAG,IAAI,CAAC,CAAC;aACtD;YACD,OAAO;SACR;QACD,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;IAC3C,CAAC;IACH,8BAAC;AAAD,CAAC;;;;;;;;;;;;;;ACvID;AAAA;AAAA;AAAA;AAAA;AAAuD;AAEqC;SAMlF,EAAE,aAAa,EAAE,IAAI,EAAE;AAJjC,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wGAAuB;QAClC,IAAI,IAAyB;KAC9B;CACF,CAAC;AAEF;IAAA;IAI0C,CAAC;IAAD,kCAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACF3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsG;AACN;AAClC;AAC0B;AACH;AACW;AACJ;AACiB;AACA;AACiB;AACpD;AACoB;AACE;AACU;AACU;AAEpH,IAAM,UAAU,GAAU;IACxB,kHAAwB;IACxB,4GAAsB;IACtB,0EAAY;IACZ,oGAAoB;IACpB,4GAAsB;IACtB,iGAAmB;IACnB,wGAAuB;IACvB,yHAAuB;IACvB,0IAA4B;IAC5B,uFAAgB;IAChB,2GAAsB;CACvB,CAAC;AAEF,IAAM,gBAAgB,GAAU;IAC9B,yHAAqB;IACrB,6GAAsB;IACtB,uHAA0B;IAC1B,iIAA4B;CAC7B,CAAC;AAEF;IAAA;IA0BA,CAAC;IAAD,2BAAC;AAAD,CAAC;;;;;;;;;;;;;;AC5ED;AAAA;AAAO,IAAM,eAAe,GAAmB;IAC7C;QACE,WAAW,EAAE,oBAAoB;QACjC,WAAW,EAAE,eAAe;QAC5B,OAAO,EAAE;YACP;gBACE,UAAU,EAAE,CAAC,GAAG;aACjB;SACF;KACF;IACD;QACE,WAAW,EAAE,oBAAoB;QACjC,WAAW,EAAE,iBAAiB;QAC9B,OAAO,EAAE;YACP;gBACE,UAAU,EAAE,CAAC,GAAG;aACjB;SACF;KACF;IACD;QACE,WAAW,EAAE,mBAAmB;QAChC,WAAW,EAAE,eAAe;QAC5B,OAAO,EAAE;YACP;gBACE,KAAK,EAAE,SAAS;aACjB;SACF;KACF;IACD;QACE,WAAW,EAAE,KAAK;QAClB,OAAO,EAAE;YACP;gBACE,UAAU,EAAE,KAAK;aAClB;SACF;KACF;IACD;QACE,WAAW,EAAE,UAAU;QACvB,OAAO,EAAE;YACP;gBACE,UAAU,EAAE,YAAY;aACzB;SACF;KACF;IACD;QACE,WAAW,EAAE,UAAU;QACvB,WAAW,EAAE,eAAe;QAC5B,OAAO,EAAE;YACP;gBACE,KAAK,EAAE,SAAS;aACjB;SACF;KACF;IACD;QACE,WAAW,EAAE,UAAU;QACvB,WAAW,EAAE,QAAQ;QACrB,OAAO,EAAE;YACP;gBACE,UAAU,EAAE,KAAK;aAClB;SACF;KACF;IACD;QACE,WAAW,EAAE,MAAM;QACnB,WAAW,EAAE,eAAe;QAC5B,OAAO,EAAE;YACP;gBACE,KAAK,EAAE,SAAS;aACjB;SACF;KACF;IACD;QACE,WAAW,EAAE,MAAM;QACnB,WAAW,EAAE,iBAAiB;QAC9B,OAAO,EAAE;YACP;gBACE,KAAK,EAAE,SAAS;aACjB;SACF;KACF;IACD;QACE,WAAW,EAAE,MAAM;QACnB,WAAW,EAAE,QAAQ;QACrB,OAAO,EAAE;YACP;gBACE,UAAU,EAAE,IAAI;aACjB;SACF;KACF;IACD;QACE,WAAW,EAAE,SAAS;QACtB,OAAO,EAAE;YACP;gBACE,UAAU,EAAE,KAAK;aAClB;SACF;KACF;IACD;QACE,WAAW,EAAE,OAAO;QACpB,WAAW,EAAE,eAAe;QAC5B,OAAO,EAAE;YACP;gBACE,KAAK,EAAE,SAAS;aACjB;SACF;KACF;IACD;QACE,WAAW,EAAE,OAAO;QACpB,WAAW,EAAE,QAAQ;QACrB,OAAO,EAAE;YACP;gBACE,UAAU,EAAE,KAAK;aAClB;SACF;KACF;CACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uGCrHF,0DAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mGCgBN,0DAA8B;oGAEhC,oIAA8E,IAAvD,2aAAsD,KAA7E,YAA8E,EAAvD,SAAsD;oGAT/E,0LAKC,YADC;;wBAAwB;MAJ1B,iXAKC,GAHC,mEAAkC,KAClC,oRAAkF,IAGlF,oIAAkE,IAA7D,kMAA4D,IAC/D,wYAA8B,IAEhC,wYAA8E,iDAP9E,iCAAkC,cAFpC,YAKC,EAHC,SAAkC,GAKpB,mBAAgB,WAA5B,aAA8B,EAAlB,SAAgB,GAEzB,oBAAiB,WAAtB,aAA8E,EAAzE,SAAiB,mDANtB,oMAAkF,eAHpF,YAKC,EAFC,SAAkF,GAG7E,wLAA4D,KAAjE,YAAkE,EAA7D,SAA4D;oGAfrE,qIAA+D,IAA1D,kMAAyD,IAC5D,yLAA2F,YAAxB;;wBAAuB;MAA1F,wBAA2F,IAAtF,kMAA6D,IAChE,oIAA6D,IAAxD,kMAAuD,IAAC,6EAE7D,MACA,qIAAsE,IAAjE,mMAAgE,IACnE,qIAAsF,IAAjF,qRAAgF,IAGzF,wYAKC,IAMH,wHAAK,kDAVD,mBAAc,SADhB,aAKC,EAJC,SAAc,mDAVb,qLAAyD,KAA9D,YAA+D,EAA1D,SAAyD,GACvD,yLAA6D,KAAlE,YAA2F,EAAtF,SAA6D,GAC3D,mLAAuD,KAA5D,YAA6D,EAAxD,SAAuD,GAAC,kDAE7D,GACK,+LAAgE,KAArE,aAAsE,EAAjE,SAAgE,GAC9D,yMAAgF,aAArF,aAAsF,EAAjF,SAAgF","file":"features-property-search-property-search-module-ngfactory.js","sourcesContent":["export var google;\n/**\n * Identifiers used to specify the placement of controls on the map. Controls are\n * positioned relative to other controls in the same layout position. Controls that\n * are added first are positioned closer to the edge of the map.\n */\nexport var ControlPosition;\n(function (ControlPosition) {\n    ControlPosition[ControlPosition[\"RIGHT_BOTTOM\"] = 0] = \"RIGHT_BOTTOM\";\n    ControlPosition[ControlPosition[\"TOP_LEFT\"] = 1] = \"TOP_LEFT\";\n    ControlPosition[ControlPosition[\"TOP_CENTER\"] = 2] = \"TOP_CENTER\";\n    ControlPosition[ControlPosition[\"TOP_RIGHT\"] = 3] = \"TOP_RIGHT\";\n    ControlPosition[ControlPosition[\"LEFT_CENTER\"] = 4] = \"LEFT_CENTER\";\n    ControlPosition[ControlPosition[\"LEFT_TOP\"] = 5] = \"LEFT_TOP\";\n    ControlPosition[ControlPosition[\"LEFT_BOTTOM\"] = 6] = \"LEFT_BOTTOM\";\n    ControlPosition[ControlPosition[\"RIGHT_TOP\"] = 7] = \"RIGHT_TOP\";\n    ControlPosition[ControlPosition[\"RIGHT_CENTER\"] = 8] = \"RIGHT_CENTER\";\n    ControlPosition[ControlPosition[\"BOTTOM_RIGHT\"] = 9] = \"BOTTOM_RIGHT\";\n    ControlPosition[ControlPosition[\"BOTTOM_LEFT\"] = 10] = \"BOTTOM_LEFT\";\n    ControlPosition[ControlPosition[\"BOTTOM_CENTER\"] = 11] = \"BOTTOM_CENTER\";\n})(ControlPosition || (ControlPosition = {}));\nexport var MapTypeId;\n(function (MapTypeId) {\n    /** This map type displays a transparent layer of major streets on satellite images. */\n    MapTypeId[MapTypeId[\"HYBRID\"] = 0] = \"HYBRID\";\n    /** This map type displays a normal street map. */\n    MapTypeId[MapTypeId[\"ROADMAP\"] = 1] = \"ROADMAP\";\n    /** This map type displays satellite images. */\n    MapTypeId[MapTypeId[\"SATELLITE\"] = 2] = \"SATELLITE\";\n    /** This map type displays maps with physical features such as terrain and vegetation. */\n    MapTypeId[MapTypeId[\"TERRAIN\"] = 3] = \"TERRAIN\";\n})(MapTypeId || (MapTypeId = {}));\nexport var MapTypeControlStyle;\n(function (MapTypeControlStyle) {\n    MapTypeControlStyle[MapTypeControlStyle[\"DEFAULT\"] = 0] = \"DEFAULT\";\n    MapTypeControlStyle[MapTypeControlStyle[\"DROPDOWN_MENU\"] = 1] = \"DROPDOWN_MENU\";\n    MapTypeControlStyle[MapTypeControlStyle[\"HORIZONTAL_BAR\"] = 2] = \"HORIZONTAL_BAR\";\n})(MapTypeControlStyle || (MapTypeControlStyle = {}));\nexport var ScaleControlStyle;\n(function (ScaleControlStyle) {\n    ScaleControlStyle[ScaleControlStyle[\"DEFAULT\"] = 0] = \"DEFAULT\";\n})(ScaleControlStyle || (ScaleControlStyle = {}));\nexport var ZoomControlStyle;\n(function (ZoomControlStyle) {\n    ZoomControlStyle[ZoomControlStyle[\"DEFAULT\"] = 0] = \"DEFAULT\";\n    ZoomControlStyle[ZoomControlStyle[\"LARGE\"] = 1] = \"LARGE\";\n    ZoomControlStyle[ZoomControlStyle[\"SMALL\"] = 2] = \"SMALL\";\n})(ZoomControlStyle || (ZoomControlStyle = {}));\n//# sourceMappingURL=google-maps-types.js.map","<div [attr.disabled]=\"disabled ? true : undefined\"></div>","export const SUPPORTED_CITIES = {\n  NUREMBERG: 'Nürnberg',\n  COLOGNE: 'Köln',\n};\n\nexport function getSupportedCity(formattedAddress: string): string {\n  const supportedCities = Object.values(SUPPORTED_CITIES);\n  for (const supportedCity of supportedCities) {\n    const isCitySupported = formattedAddress.includes(supportedCity);\n    if (isCitySupported) {\n      return supportedCity;\n    }\n  }\n\n  return '';\n}\n","<div [attr.class]=\"{block: _name, element: 'backdrop'} | bem\" (click)=\"close()\">\n  <div [attr.class]=\"{block: _name, element: 'container'} | bem\">\n    <div [attr.class]=\"{block: _name, element: 'header'} | bem\">\n      <div [attr.class]=\"{block: _name, element: 'header-title'} | bem\">\n        {{marker.FlatsNumber}} Wohnungen in diesem Mehrfamilienhaus\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'button-close'} | bem\" (click)=\"close()\">&times;</div>\n    </div>\n    <div [attr.class]=\"{block: _name, element: 'subtitle'} | bem\">\n      Es wurden {{marker.Apartments?.length}} Wohnungen angelegt.\n    </div>\n\n    <div\n      [attr.class]=\"{\n        block: _name,\n        element: 'content-wrapper',\n        mods: {'hide-scroll': marker.Apartments?.length < 5}\n      } | bem\"\n    >\n      <div\n        [attr.class]=\"{\n          block: _name,\n          element: 'content',\n          mods: {'hide-scroll': marker.Apartments?.length < 5}\n        } | bem\"\n      >\n        <ng-container *ngIf=\"marker.Apartments?.length > 0\">\n          <div\n            *ngFor=\"let model of marker.Apartments\"\n            [attr.class]=\"{block: _name, element: 'row'} | bem\"\n          >\n            <div [attr.class]=\"{block: _name, element: 'row-status'} | bem\">\n              <div\n                [attr.class]=\"{\n                  block: _name,\n                  element: 'status-icon',\n                  mods: {'type': model.SellingStatus }\n                } | bem\"\n              ></div>\n              {{extendedSellingStatus(model.SellingStatus)}}\n            </div>\n            <div *ngIf=\"!model.isStatusForSale\" [attr.class]=\"{block: _name, element: 'row-price'} | bem\">\n              {{model.EstimatedPrice?.toLocaleString('de-DE')}} €\n            </div>\n            <div *ngIf=\"model.isStatusForSale\" [attr.class]=\"{block: _name, element: 'row-price'} | bem\">\n              {{ salePrice(model) }} €\n            </div>\n            <div [attr.class]=\"{block: _name, element: 'row-surface'} | bem\">\n              {{model.RoomsNumber ? model.RoomsNumber + 'Zi., ' : ''}}\n              {{model.LivingSurface ?  model.LivingSurface + ' m²' : '-'}}\n            </div>\n            <div [attr.class]=\"{block: _name, element: 'row-floor'} | bem\">\n              {{model.Floor ? model.Floor + '. Stock, ' : '-'}}\n              {{model.FloorLocation ? model.FloorLocation : ''}}\n            </div>\n            <a\n              [attr.class]=\"{block: _name, element: 'link'} | bem\"\n              [routerLink]=\"[ '/property-detail', model.id ]\"\n              target=\"_blank\"\n            >\n              Weitere Details\n              <img\n                src=\"../../../../../assets/images/arrow-right-blue.svg\"\n                [attr.class]=\"{block: _name, element: 'link-icon'} | bem\"\n              >\n            </a>\n          </div>\n        </ng-container>\n      </div>\n    </div>\n\n    <div [attr.class]=\"{block: _name, element: 'info-block'} | bem\">\n      <div [attr.class]=\"{block: _name, element: 'info-block-title'} | bem\">\n        Du bist Eigentümer von einer der Wohnungen in diesem Haus?\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'info-block-text'} | bem\">\n        Dann hinterlege jetzt weitere Details zu deiner Wohnung\n        und erhalte einen genaueren Schätzwert von deiner Immobilie.\n      </div>\n\n      <div [attr.class]=\"{block: _name, element: 'footer'} | bem\">\n        <div\n          [attr.class]=\"{block: _name, element: 'button'} | bem\"\n          (click)=\"openRegisterForm()\"\n        >\n          Deine Wohnung hinzufügen\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- <div [attr.class]=\"{block: _name, element: 'backdrop'} | bem\" (click)=\"close()\"></div> -->\n","import { Component } from '@angular/core';\n\nimport { DialogComponent, DialogService } from 'ng2-bootstrap-modal';\n\nimport { OpenModalService } from '../../../../core/services/open-modal.service';\nimport { AuthService } from '../../../../core/services/auth.service';\nimport { StateManagerService } from '../../../../core/services/state-manager.service';\nimport { PropertiesRepositoryService} from '../../../../core/services/properties-repository.service';\nimport { ExtendedMarkerModel } from '../../../../core/models/extended-marker.model';\nimport { RegistrationComponent } from '../../../registration/pages/registration/registration.component';\nimport { templateStatusToFrontend } from '../../../../shared/utils/deserializator.util';\nimport { PrefillAddressService } from '../../../../core/services/prefill-address.service';\n\nexport interface InfoModel {\n  marker: ExtendedMarkerModel;\n}\n\n@Component({\n  selector: 'app-appartment-list',\n  templateUrl: './apartments-list.component.html',\n  styleUrls: ['./apartments-list.component.css']\n})\n\nexport class ApartmentListComponent\n  extends DialogComponent <InfoModel, string>\n  implements InfoModel {\n\n  public marker: ExtendedMarkerModel = null;\n  public apartment: ExtendedMarkerModel = null;\n\n  public _name: string = 'apartments-modal';\n\n  public salePrice(model: ExtendedMarkerModel): string {\n    if (model.SalePrice) return model.SalePrice.toLocaleString('de-DE');\n    else return model.Price.toLocaleString('de-DE');\n  }\n\n  constructor(\n    public dialogService: DialogService,\n    public openModalService: OpenModalService,\n    public authService: AuthService,\n    public stateManagerService: StateManagerService,\n    public propertiesRepository: PropertiesRepositoryService,\n    private prefillAddressService: PrefillAddressService,\n  ) {\n    super(dialogService);\n  }\n\n  public openRegisterForm(): void {\n    const role = 'global';\n    const activeTab = this.authService.isUserLoggedIn() ? 'address' : 'registration';\n    const mode = activeTab === 'address' ? 'add_property' : 'registration';\n    let nextStep = '';\n\n    if (!this.authService.isUserLoggedIn() && activeTab === 'registration') {\n      this.stateManagerService.setPropertyIdForNewHolder(this.marker.id);\n\n      nextStep = 'add_property';\n    }\n\n    this.dialogService.addDialog(\n      RegistrationComponent,\n      { role, activeTab, mode, nextStep, needPrefillData: true, }\n    )\n      .subscribe((message) => {\n        this.openModalService.close();\n      });\n      this.close();\n  }\n\n  public extendedSellingStatus(status: string): string {\n    return templateStatusToFrontend(status);\n  }\n}\n\n","<div></div>\n","import {\n  Component,\n  OnChanges, OnDestroy,\n  Input, Output,\n  EventEmitter,\n  NgZone,\n  ComponentFactoryResolver,\n  Injector,\n} from '@angular/core';\n\nimport { Observable, Subscription } from 'rxjs';\n\nimport { PropertiesRepositoryService } from '../../../../core/services/properties-repository.service';\nimport { StateManagerService } from '../../../../core/services/state-manager.service';\nimport { AuthService } from '../../../../core/services/auth.service';\n\nimport propertyGoogleMapsOverlay from './property-google-maps-overlay';\nimport { PropertyViewComponent } from './property-view/property-view.component';\nimport { ExtendedMarkerModel } from '../../../../core/models/extended-marker.model';\n\n@Component({\n  selector: 'app-fancy-info-window',\n  templateUrl: './fancy-info-window.component.html',\n  styleUrls: ['./fancy-info-window.component.css'],\n})\n\nexport class FancyInfoWindowComponent implements OnChanges, OnDestroy {\n\n  @Input() markerId;\n  @Input() needOpenDetailWindow: boolean = false;\n  @Input() googleMap: any = null;\n  @Input() isShown: boolean;\n\n  @Output() windowClicked: EventEmitter<string> = new EventEmitter<string>();\n  @Output() prevMarker: EventEmitter<string> = new EventEmitter<string>();\n  @Output() nextMarker: EventEmitter<string> = new EventEmitter<string>();\n  @Output() close: EventEmitter<string> = new EventEmitter<string>();\n  @Output() openDetails: EventEmitter<string> = new EventEmitter<string>();\n  @Output() isOpenChanged = new EventEmitter();\n\n  private _subscriptionMap: Map<string, Subscription> = new Map<string, Subscription>();\n  private overlay: any;\n  private component: any;\n\n  public marker: ExtendedMarkerModel;\n\n  private async _loadBuilding(marker: ExtendedMarkerModel): Promise<any> {\n    if (marker.BuildingPropertyId == null || marker.BuildingPropertyId === `${void 0}`) return;\n    marker.building = await this.propertiesRepository.getMarkerDetails(\n      marker.BuildingPropertyId,\n      !this.authService.isUserLoggedIn()\n    );\n  }\n\n  private _authChanged(): void {\n    if (!this.authService.isUserLoggedIn()) return;\n    if (this.markerId == null) {\n      this.closeMarkerDetailWindow();\n      return;\n    }\n  }\n\n  private async _fetchMarkerDetails(): Promise<any> {\n    if (this.markerId == null) {\n      this.closeMarkerDetailWindow();\n      return;\n    }\n\n    const marker = await this.propertiesRepository.getMarkerDetails(this.markerId, !this.authService.isUserLoggedIn());\n    if (!marker.isStatusIdle) this.markersDetailsChanged(marker);\n  }\n\n  private closeMarkerDetailWindow(): void {\n    this.isOpenChanged.emit(false);\n    this.stateManagerService.closeMarkerDetailWindow();\n  }\n\n  private _show(): void {\n    const factory = this.resolver.resolveComponentFactory(PropertyViewComponent);\n    this.component = factory.create(this.injector);\n    this.component.instance.marker = this.marker;\n    this.component.instance.close.subscribe(() => {\n      this._hide();\n      this.close.emit();\n    });\n    // @FIXME: later check this code for further use\n    // this.component.instance.nextMarker.subscribe((marker) => {\n    //  this.markerId = marker.id;\n    //  this._fetchMarkerDetails()\n    // });\n    this.component.changeDetectorRef.detectChanges();\n\n    this.overlay = propertyGoogleMapsOverlay({\n      detectChanges: () => {\n        if (this.component  && !this.component.changeDetectorRef['destroyed']) {\n          this.component.changeDetectorRef.detectChanges();\n        }\n      },\n      map: this.googleMap,\n      html: this.component.location.nativeElement,\n      latlng: new google.maps.LatLng(this.marker.Latitude, this.marker.Longitude),\n    });\n\n  }\n\n  private _hide(): void {\n    if (this.overlay) this.overlay.setMap(null);\n    if (this.component) this.component.destroy();\n  }\n\n  constructor(\n    private propertiesRepository: PropertiesRepositoryService,\n    private authService: AuthService,\n    private resolver: ComponentFactoryResolver,\n    private injector: Injector,\n    public stateManagerService: StateManagerService,\n    private _zone: NgZone,\n  ) {}\n\n  public ngOnChanges(): void {\n    this.subscribeOnIfNeed('authChanged', this.authService.events, this._authChanged);\n    this._hide();\n    this.marker = new ExtendedMarkerModel({});\n    this._fetchMarkerDetails();\n    if (this.component && !this.component.changeDetectorRef['destroyed']) {\n      this.component.changeDetectorRef.detectChanges();\n    }\n  }\n\n  public ngOnDestroy(...args): void {\n    this.unsubscribeAll();\n  }\n\n  public unsubscribeAll(): void {\n    this._subscriptionMap.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  public unsubscribe(key: string): void {\n    this._subscriptionMap.get(key).unsubscribe();\n  }\n\n  public subscribeOn(key: string, stream: Observable<any>, handler: (data: any) => void): void {\n    if (this._subscriptionMap.has(key)) this._subscriptionMap.get(key).unsubscribe();\n    this._subscriptionMap.set(key, stream.subscribe(handler.bind(this)));\n  }\n\n  public subscribeOnIfNeed(key: string, stream: Observable<any>, handler: (data: any) => void): void {\n    if (this._subscriptionMap.has(key)) return;\n    this._subscriptionMap.set(key, stream.subscribe(handler.bind(this)));\n  }\n\n  public markersDetailsChanged(marker: ExtendedMarkerModel): void {\n    this._zone.run(() => {\n      this.marker = marker;\n      // @FIXME: later check this code for further use\n      // this._loadBuilding(marker);\n      this._show();\n      this.isOpenChanged.emit(true);\n\n      this.stateManagerService.changeActiveMarker(this.marker);\n    });\n  }\n\n  // @FIXME: later check this code for further use\n\n  // public onInfoWindowClick() {\n  //   if (this.markerId) {\n  //     this.windowClicked.emit(this.markerId);\n  //   }\n  // }\n\n  // public prevMarkerHandler(event) {\n  //   event.stopPropagation();\n  //   this.prevMarker.emit(this.markerId);\n  // }\n  //\n  // public nextMarkerHandler(event) {\n  //   event.stopPropagation();\n  //   this.nextMarker.emit(this.markerId);\n  // }\n\n  // public closeHandler(event) {\n  //   event.stopPropagation();\n  //   this.overlay.setMap(null);\n  //   this.component.destroy();\n  //   this.close.emit();\n  // }\n}\n","export default (props) => {\n  let overlay;\n  USGSOverlay.prototype = new google.maps.OverlayView();\n\n  overlay = new USGSOverlay(props.latlng, props.map, props.html);\n\n\n  function USGSOverlay(latlng, map, html) {\n\n    // Initialize all properties.\n    this.latlng_ = latlng;\n    this.map_ = map;\n    this.html_ = html;\n\n    // Define a property to hold the image's div. We'll\n    // actually create this div upon receipt of the onAdd()\n    // method so we'll leave it null for now.\n    this.div_ = null;\n\n    // Explicitly call setMap on this overlay.\n    this.setMap(this.map_);\n  }\n\n  USGSOverlay.prototype.onAdd = function() {\n\n    const div = document.createElement('div');\n    div.style.borderStyle = 'none';\n    div.style.borderWidth = '0px';\n    div.style.position = 'absolute';\n\n    div.appendChild(this.html_);\n\n    google.maps.event.addDomListener(div, 'click', event => {\n      event.stopPropagation();\n      setTimeout(props.detectChanges);\n    });\n\n    google.maps.event.addDomListener(div, 'touchstart', event => {\n      event.stopPropagation();\n      setTimeout(props.detectChanges);\n    });\n\n    this.div_ = div;\n\n    // Add the element to the \"overlayLayer\" pane.\n    const panes = this.getPanes();\n    panes.overlayMouseTarget.appendChild(div);\n  };\n\n  USGSOverlay.prototype.draw = function () {\n\n    // We use the south-west and north-east\n    // coordinates of the overlay to peg it to the correct position and size.\n    // To do this, we need to retrieve the projection from the overlay.\n    const overlayProjection = this.getProjection();\n\n    // Retrieve the south-west and north-east coordinates of this overlay\n    // in LatLngs and convert them to pixel coordinates.\n    // We'll use these coordinates to resize the div.\n    const sw = overlayProjection.fromLatLngToDivPixel(this.latlng_);\n\n    // Resize the image's div to fit the indicated dimensions.\n    const div = this.div_;\n    div.style.left = sw.x + 'px';\n    div.style.top = sw.y + -20 + 'px';\n    div.style.transform = 'translate(-50%, -100%)';\n    div.style.zIndex = '1000';\n  };\n\n  // The onRemove() method will be called automatically from the API if\n  // we ever set the overlay's map property to 'null'.\n  USGSOverlay.prototype.onRemove = function () {\n    this.div_.parentNode.removeChild(this.div_);\n    this.div_ = null;\n  };\n  return overlay;\n};\n\n\n\n","<div [attr.class]=\"{block: _name, element: 'object'} | bem\">\n  <!-- Close button -->\n  <div\n    [attr.class]=\"{\n      block: _name,\n      element: 'object-close-button',\n      mods: {\n        'color': hasImage ? 'white': 'default'\n      }\n    } | bem\"\n  >\n    <button\n      app-icon-button\n      [color]=\"closeButtonColor\"\n      (click)=\"closePopup()\"\n    >\n      <mat-icon\n        svgIcon=\"close\"\n        appSvgSize=\"16px\"\n      ></mat-icon>\n    </button>\n  </div>\n\n  <!-- Property view header -->\n  <div\n    *ngIf=\"hasImage\"\n    [attr.class]=\"{block: _name, element: 'object-image'} | bem\"\n  >\n    <!-- Property image -->\n    <app-image\n      [attr.class]=\"{block: _name, element: 'image'} | bem\"\n      [src]=\"image\"\n      [mods]=\"{'fit': 'cover'}\"\n    >\n    </app-image>\n  </div>\n\n  <!-- Property view body -->\n  <div [attr.class]=\"{ block: _name, element: 'object-content' } | bem\">\n    <!-- Selling status -->\n    <div *ngIf=\"statusShow\" [attr.class]=\"{ block: _name, element: 'object-tag-wrapper' } | bem\">\n      <div [attr.class]=\"{ block: _name, element: 'object-tag' } | bem\">\n        <app-selling-status-tag [sellingStatus]=\"marker.sellingStatus\"></app-selling-status-tag>\n      </div>\n    </div>\n\n    <!-- Property address -->\n    <div [attr.class]=\"{block: _name, element: 'object-info'} | bem\">\n      <div [attr.class]=\"{ block: _name, element: 'object-address' } | bem\">\n        {{marker.Street}} {{marker.HouseNumber}}\n      </div>\n      <div [attr.class]=\"{ block: _name, element: 'object-locality' } | bem\">\n        {{marker.PostalCode}} {{marker.Locality}}\n        <span [attr.class]=\"{ block: _name, element: 'object-locality-dot' } | bem\">&#183;</span>\n        {{title}}\n      </div>\n    </div>\n\n    <!-- Property price -->\n    <div [attr.class]=\"{ block: _name, element: 'object-price-wrapper' } | bem\">\n      <div [attr.class]=\"{ block: _name, element: 'object-price' } | bem\">\n        {{ priceTitle }}\n      </div>\n      <div [attr.class]=\"{ block: _name, element: 'object-price-value' } | bem\">\n        {{ marker.isPropertyOfTypeMFH ? 'ab' : '' }} {{ markerPrice | cost }}\n      </div>\n    </div>\n\n    <!-- Property details button -->\n    <div [attr.class]=\"{block: _name, element: 'property-details'} | bem\">\n      <button\n        app-button\n        size=\"medium\"\n        color=\"primary-green\"\n        [stretch]=\"true\"\n        (click)=\"goToPropertyDetail()\"\n      >\n        {{propertyDetailButtonText}}\n      </button>\n    </div>\n  </div>\n</div>\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  Inject,\n} from '@angular/core';\n\nimport { ExtendedMarkerModel } from '../../../../../core/models/extended-marker.model';\nimport { CostPipe } from '../../../../../shared/pipes/cost.pipe';\nimport { WINDOW } from '../../../../../core/services/window.provider';\nimport { isNullOrUndefined } from '../../../../../shared/utils/null-or-undefined.util';\nimport { getEstimatedPriceText, getSalePriceText } from '../../../../../shared/utils/price-title.util';\n\n@Component({\n  selector: 'app-property-view',\n  templateUrl: './property-view.component.html',\n  styleUrls: [\n    './property-view.component.css',\n  ],\n})\nexport class PropertyViewComponent {\n  public _name: string = 'property-view';\n\n  @Input() marker: ExtendedMarkerModel;\n\n  @Output() close: EventEmitter<void> = new EventEmitter<void>();\n\n  public get propertyDetailButtonText(): string {\n    return this.marker.isPropertyOfTypeMFH ? 'Zu den Wohnungen' : 'Zur Immobilie';\n  }\n\n  public get hasImage(): boolean {\n    return this.marker.images && this.marker.images.length > 0;\n  }\n\n  public get image(): string {\n    return this.hasImage ? this.marker.images[0] : null;\n  }\n\n  public get title(): string {\n    return this.marker.isPropertyOfTypeEFH\n      ? 'Haus'\n      : 'Mehrfamilienhaus';\n  }\n\n  public get markerPrice(): number {\n    return !isNullOrUndefined(this.marker.SalePrice) && this.marker.isStatusForSale\n      ? this.marker.SalePrice\n      : this.marker.EstimatedPrice;\n  }\n\n  public get statusShow(): boolean {\n    return this.marker.isStatusForSale || this.marker.isStatusMakeMeMove;\n  }\n\n  public get closeButtonColor(): string {\n    return this.hasImage ? 'white' : 'primary-green';\n  }\n\n  public get priceTitle(): string {\n    return this.marker.isStatusForSale\n      ? getSalePriceText(this.marker.PropertyType).toUpperCase()\n      : getEstimatedPriceText(this.marker.PropertyType).toUpperCase();\n  }\n\n  constructor(\n    private costPipe: CostPipe,\n    @Inject(WINDOW) private window: Window,\n  ) {}\n\n  public closePopup(): void {\n    this.close.emit();\n  }\n\n  public goToPropertyDetail(): void {\n    this.window.open(`/property-detail/${this.marker.id}`, '_blank');\n  }\n}\n\n","<div [attr.class]=\"{block: _name, element: 'control'} | bem\">\n  <button\n    app-icon-button\n    size=\"small-medium\"\n    shape=\"round\"\n    color=\"primary-green\"\n    [disabled]=\"!zoomInEnabled\"\n    (click)=\"onZoomIn()\"\n  >\n    <mat-icon\n      svgIcon=\"add\"\n      appSvgSize=\"30px\"\n    ></mat-icon>\n  </button>\n</div>\n\n<div [attr.class]=\"{block: _name, element: 'control'} | bem\">\n  <button\n    app-icon-button\n    size=\"small-medium\"\n    shape=\"round\"\n    color=\"primary-green\"\n    [disabled]=\"!zoomOutEnabled\"\n    (click)=\"onZoomOut()\"\n  >\n    <mat-icon\n      svgIcon=\"remove\"\n      appSvgSize=\"30px\"\n    ></mat-icon>\n  </button>\n</div>\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n} from '@angular/core';\n\n@Component({\n  selector: 'app-map-controls',\n  templateUrl: './map-controls.component.html',\n  styleUrls: [\n    './map-controls.component.css',\n  ],\n})\nexport class MapControlsComponent {\n  @Input()\n  zoomInEnabled: boolean;\n\n  @Input()\n  zoomOutEnabled: boolean;\n\n  @Output()\n  zoomIn: EventEmitter<void> = new EventEmitter<void>();\n\n  @Output()\n  zoomOut: EventEmitter<void> = new EventEmitter<void>();\n\n  public _name: string = 'map-controls';\n\n  public onZoomIn(): void {\n    this.zoomIn.emit();\n  }\n\n  public onZoomOut(): void {\n    this.zoomOut.emit();\n  }\n}\n","<div [attr.class]=\"{block: _name, element: 'data-source'} | bem\">\n  Kartendaten © 2019 GeoBasis-DE/BKG (©2009), Google\n\n  <!-- High zoom -->\n  <ng-container *ngIf=\"isHighZoom && isCitySupported\">\n    <br>\n    <ng-container *ngIf=\"isCologneCity; else sourceForNuremberg\">\n      Stadtviertelumrisse C Stadt Köln CC BY 3.0 DE | Kartendaten C 2019 Google\n      <a\n        [attr.class]=\"{block: _name, element: 'data-source-link'} | bem\"\n        href=\"https://www.google.com/intl/de-DE_US/help/terms_maps/\"\n        target=\"_blank\"\n      >\n        Nutzungsbedingungen\n      </a>\n    </ng-container>\n\n    <ng-template #sourceForNuremberg>\n      <a\n        [attr.class]=\"{block: _name, element: 'data-source-link'} | bem\"\n        href=\"http://vermessung.bayern.de/file/pdf/7203/Nutzungsbedingungen_Viewing.pdf\"\n        target=\"_blank\"\n      >\n        © Geobasisdaten: Bayerische Vermessungsverwaltung 947/18\n      </a>\n    </ng-template>\n  </ng-container>\n\n  <!-- Neighborhood zoom -->\n  <ng-container *ngIf=\"isNeighborhoodZoom && isNurembergCity\">\n    <br>\n    Stadtteilgrenzen: Amt für Stadtforschung und Statistik für Nürnberg und Fürth\n  </ng-container>\n</div>\n","import {\n  Component,\n  Input,\n} from '@angular/core';\n\nimport { ZoomLevel } from '../../../../core/models/location.model';\nimport { SUPPORTED_CITIES } from '../../../../core/models/supported-cities.model';\n\n@Component({\n  selector: 'app-map-data-source',\n  templateUrl: './map-data-source.component.html',\n  styleUrls: [\n    './map-data-source.component.css',\n  ],\n})\nexport class MapDataSourceComponent {\n  @Input()\n  city: string;\n\n  @Input()\n  zoomLevel: ZoomLevel;\n\n  public _name: string = 'map-data-source';\n\n  public isCitySupported(): boolean {\n    return this.isCologneCity || this.isNurembergCity;\n  }\n\n  public get isCologneCity(): boolean {\n    return this.city === SUPPORTED_CITIES.COLOGNE;\n  }\n\n  public get isNurembergCity(): boolean {\n    return this.city === SUPPORTED_CITIES.NUREMBERG;\n  }\n\n  public get isHighZoom(): boolean {\n    return this.zoomLevel === 'HIGH';\n  }\n\n  public get isNeighborhoodZoom(): boolean {\n    return this.zoomLevel === 'NEIGHBOURHOOD';\n  }\n}\n","<div\n  [attr.class]=\"{\n    block: _name,\n    element: 'content',\n    mods: {'state': isFilterShown? 'shown': 'hidden', 'padding-top': !isSmallDevice? 'calc' : 'default'}\n  } | bem\"\n>\n  <div [attr.class]=\"{block: _name, element: 'close-button-mobile'} | bem\" (click)=\"_closeFilter()\">\n    Filter schliessen\n    <div [attr.class]=\"{block: _name, element: 'close-button-mobile-arrow'} | bem\"></div>\n  </div>\n\n  <div [attr.class]=\"{block: _name, element: 'wrapper', mods: {'state': 'shown'}} | bem\">\n    <div [attr.class]=\"{block: _name, element: 'container', mods: {'state': 'shown'}} | bem\">\n      <app-search-request-button></app-search-request-button>\n\n      <div [attr.class]=\"{block: _name, element: 'input-block', mods: {'type': 'sale'}} | bem\">\n        <div [attr.class]=\"{block: _name, element: 'input-block-title', mods: {'left': '127'}} | bem\">\n          <div [attr.class]=\"{block: _name, element: 'input-block-title-text'} | bem\">\n            Welche Immobilien möchtest du filtern?\n          </div>\n        </div>\n\n          <!-- Selling status filters -->\n          <ng-container *ngFor=\"let sellingStatus of sellingStatusItems\">\n            <div\n              *ngIf=\"!isStatusActive(sellingStatus)\"\n              [attr.class]=\"{block: _name, element: 'input-block-content', mods: {'justify-content': 'between'}} | bem\"\n            >\n              <div [attr.class]=\"{block: _name, element: 'input-block-content-group'} | bem\">\n                <div\n                  [attr.class]=\"{\n                      block: _name,\n                      element: 'input-block-content-btn',\n                      mods: {'state': filters.SellingStatus[sellingStatus] ? 'clicked': 'default'}\n                    } | bem\"\n                  (click)=\"changeSellingStatus(sellingStatus)\"\n                ></div>\n                <div [attr.class]=\"{block: _name, element: 'input-block-content-label'} | bem\">\n                  {{ getSellingStatusName(sellingStatus) }}\n                </div>\n                <div [attr.class]=\"{block: _name, element: 'input-block-content-icon', mods: {'color': sellingStatus}} | bem\"></div>\n              </div>\n              <div [attr.class]=\"{block: _name, element: 'input-block-popper-icon'} | bem\">i\n                <div [attr.class]=\"{block: _name, element: 'input-block-popper-content'} | bem\">\n                  {{ getSellingStatusHint(sellingStatus) }}\n                </div>\n              </div>\n            </div>\n          </ng-container>\n      </div>\n\n      <div [attr.class]=\"{block: _name, element: 'input-block', mods: {'type': 'realty'}} | bem\">\n        <div [attr.class]=\"{block: _name, element: 'input-block-title'} | bem\">\n          <div [attr.class]=\"{block: _name, element: 'input-block-title-text'} | bem\">Immobilientyp</div>\n        </div>\n        <div>\n          <div [attr.class]=\"{block: _name, element: 'input-block-content'} | bem\">\n            <div\n              [attr.class]=\"{\n                block: _name,\n                element: 'input-block-content-btn',\n                mods: {'state': isPropertyTypeNotExist ? 'clicked': 'default'}\n              } | bem\"\n              (click)=\"changePropertyType(null)\"\n            ></div>\n            <div [attr.class]=\"{block: _name, element: 'input-block-content-label'} | bem\">Alle Typen</div>\n          </div>\n          <div [attr.class]=\"{block: _name, element: 'input-block-separator'} | bem\"></div>\n          <div [attr.class]=\"{block: _name, element: 'input-block-content'} | bem\">\n            <div\n              [attr.class]=\"{\n                block: _name,\n                element: 'input-block-content-btn',\n                mods: {'state': isEFHChecked ? 'clicked': 'default'}\n              } | bem\"\n              (click)=\"changePropertyType('EFH')\"\n            ></div>\n            <div [attr.class]=\"{block: _name, element: 'input-block-content-label'} | bem\">Haus</div>\n          </div>\n          <div [attr.class]=\"{block: _name, element: 'input-block-content'} | bem\">\n            <div\n              [attr.class]=\"{\n                block: _name,\n                element: 'input-block-content-btn',\n                mods: {'state': isETWChecked ? 'clicked': 'default'}\n              } | bem\"\n              (click)=\"changePropertyType('ETW')\"\n            ></div>\n            <div [attr.class]=\"{block: _name, element: 'input-block-content-label'} | bem\">Wohnung</div>\n          </div>\n        </div>\n      </div>\n\n      <ng-container *ngIf=\"isBudgetLoaded; then histogram else loader\"></ng-container>\n\n      <ng-template #loader>\n        <div [attr.class]=\"{block: _name, element: 'loader-container'} | bem\">\n          <div [attr.class]=\"{block: _name, element: 'loader'} | bem\"></div>\n        </div>\n      </ng-template>\n\n      <ng-template #histogram>\n        <div\n          [attr.class]=\"{\n            block: _name,\n            element: 'input-block',\n            mods: {'type': 'price', 'display' : isBudgetLoaded? 'default' : 'none'}\n          } | bem\"\n        >\n          <div [attr.class]=\"{block: _name, element: 'input-block-title'} | bem\">\n            <div [attr.class]=\"{block: _name, element: 'input-block-title-text'} | bem\">Budget</div>\n          </div>\n          <div>\n            <div [attr.class]=\"{block: _name, element: 'input-block-inner'} | bem\">\n              <div\n                [attr.class]=\"{\n                  block: _name,\n                  element: 'input-wrapper',\n                  mods: {'state': isInvalidValues(filters.PriceFrom, filters.PriceTo) ? 'invalid' : 'valid'}\n                } | bem\"\n              >\n                <input\n                  #priceFrom\n                  id=\"priceFrom\"\n                  [attr.class]=\"{\n                    block: _name,\n                    element: 'input',\n                    mods: {'state': isInvalidValues(filters.PriceFrom, filters.PriceTo)? 'invalid': 'valid'}\n                  } | bem\"\n                  [ngClass]=\"{'map-filters__input--state-filled': priceFrom.value && priceFrom.value !== '0'}\"\n                  placeholder=\"egal\"\n                  maxlength=\"9\"\n                  [(ngModel)]=\"priceFromStr\"\n                  (keydown)=\"checkInputValues($event)\"\n                  (input)=\"inputNumberFilter($event,'priceFromStr')\"\n                  (focus)=\"handleFocusFilterPrice($event)\"\n                  (blur)=\"changeFilterPriceFrom($event)\"\n                />\n                <label\n                  *ngIf=\"!(isInvalidValues(filters.PriceFrom, filters.PriceTo))\"\n                  for=\"priceFrom\"\n                  [attr.class]=\"{\n                    block: _name,\n                    element: 'input-label',\n                    mods: {'state': isInvalidValues(filters.PriceFrom, filters.PriceTo) ? 'invalid': 'valid'}\n                  } | bem\"\n                  onselectstart=\"cancelSelectStart()\"\n                  onmousedown=\"cancelMouseDown()\"\n                >€</label>\n              </div>\n              <div [attr.class]=\"{block: _name, element: 'separator'} | bem\"></div>\n              <div\n                [attr.class]=\"{\n                  block: _name,\n                  element: 'input-wrapper'\n                } | bem\"\n              >\n                <input\n                  #priceTo\n                  id=\"priceTo\"\n                  [attr.class]=\"{\n                    block: _name,\n                    element: 'input'\n                  } | bem\"\n                  [ngClass]=\"{'map-filters__input--state-filled': priceTo.value && priceTo.value !== '1.000.000'}\"\n                  placeholder=\"egal\"\n                  maxlength=\"9\"\n                  [(ngModel)]=\"priceToStr \"\n                  (keydown)=\"checkInputValues($event)\"\n                  (input)=\"inputNumberFilter($event, 'priceToStr')\"\n                  (focus)=\"handleFocusFilterPrice($event)\"\n                  (blur)=\"changeFilterPriceTo($event)\"\n                />\n                <label\n                  *ngIf=\"priceToStr === '3.000.000' || priceToStr === '3000000'\"\n                  [attr.class]=\"{block: _name, element: 'plus-label'} | bem\"\n                  onselectstart=\"cancelSelectStart()\"\n                  onmousedown=\"cancelMouseDown()\"\n                >+</label>\n                <label\n                  for=\"priceTo\"\n                  [attr.class]=\"{\n                    block: _name,\n                    element: 'input-label',\n                    mods: {\n                      'display': !filters.PriceTo ? 'hidden' : 'shown'\n                    }\n                  } | bem\"\n                  onselectstart=\"cancelSelectStart()\"\n                  onmousedown=\"cancelMouseDown()\"\n                >€</label>\n              </div>\n            </div>\n            <div *ngIf=\"isInvalidValues(filters.PriceFrom, filters.PriceTo)\" [attr.class]=\"{block: _name, element: 'error-message'} | bem\">\n              der Mindestpreis darf nicht höher als der Höchstpreis sein!\n            </div>\n            <div [attr.class]=\"{block: _name, element: 'average-value'} | bem\">Durchschnitt: {{averagePrice}} €</div>\n          </div>\n          <div [attr.class]=\"{block: _name, element: 'price-selector'} | bem\">\n            <div [attr.class]=\"{block: _name, element: 'price-histogram-container'} | bem\">\n              <div *ngFor=\"let column of histogramColumns\" [ngStyle]=\"column.style\"></div>\n            </div>\n            <form [attr.class]=\"{block: _name, element: 'slider-form'} | bem\" [formGroup]=\"priceSlider\">\n              <nouislider\n                [config]=\"priceSelectConfig\"\n                [min]=\"filterMinPriceUpdate\"\n                [max]=\"filterMaxPriceUpdate\"\n                [formControl]=\"priceSlider.controls['range']\"\n                [(ngModel)]=\"filterPrices\"\n                (ngModelChange)=\"changeFilterPrice($event)\"\n                ngDefaultControl\n              >\n              </nouislider>\n            </form>\n          </div>\n        </div>\n      </ng-template>\n\n      <div [attr.class]=\"{block: _name, element: 'input-block', mods: {'type': 'qm'}} | bem\">\n        <div [attr.class]=\"{block: _name, element: 'input-block-title', mods: {'margin-bottom': '11'}} | bem\">\n          <div [attr.class]=\"{block: _name, element: 'input-block-title-text'} | bem\">Wohnfläche</div>\n        </div>\n        <div [attr.class]=\"{block: _name, element: 'input-block-inner'} | bem\">\n          <div\n            [attr.class]=\"{\n              block: _name,\n              element: 'input-wrapper',\n              mods: {\n                'state': (isInvalidValues(filters.AreaSize, filters.AreaSize2) || filters.AreaSize > 9999) ? 'invalid' : 'valid'\n              }\n            } | bem\"\n            >\n            <input\n              #areaSize1\n              id=\"areaSize1\"\n              [attr.class]=\"{\n                block: _name,\n                element: 'input',\n                mods: {\n                  'state': (isInvalidValues(filters.AreaSize, filters.AreaSize2) || filters.AreaSize > 9999) ? 'invalid': 'valid'\n                }\n              } | bem\"\n              [ngClass]=\"{'map-filters__input--state-filled': areaSize1.value}\"\n              placeholder=\"egal\"\n              maxlength=\"4\"\n              [ngModel]=\"areaSize1Str\"\n              (keydown)=\"checkInputValues($event)\"\n              (input)=\"inputNumberFilter($event, 'areaSize1Str')\"\n              (focus)=\"handleFocusAreaSize($event)\"\n              (blur)=\"changeFilterArea($event)\"\n            />\n            <label\n              *ngIf=\"!( isInvalidValues(filters.AreaSize, filters.AreaSize2) || filters.AreaSize > 9999)\"\n              for=\"areaSize1\"\n              [attr.class]=\"{\n                  block: _name,\n                  element: 'input-label',\n                  mods: {'display': !filters.AreaSize ? 'hidden' : 'shown'}\n              }| bem\"\n            >\n              m&#xB2;\n            </label>\n          </div>\n          <div [attr.class]=\"{block: _name, element: 'separator'} | bem\"></div>\n          <div\n            [attr.class]=\"{block: _name, element: 'input-wrapper', mods: {'state': filters.AreaSize2 > 9999 ? 'invalid' : 'valid'}} | bem\"\n          >\n            <input\n              #areaSize2\n              id=\"areaSize2\"\n              [attr.class]=\"{block: _name, element: 'input', mods: {'state': filters.AreaSize2 > 9999 ? 'invalid': 'valid'}} | bem\"\n              [ngClass]=\"{'map-filters__input--state-filled': areaSize2.value}\"\n              placeholder=\"egal\"\n              maxlength=\"4\"\n              [ngModel]=\"areaSize2Str\"\n              (keydown)=\"checkInputValues($event)\"\n              (input)=\"inputNumberFilter($event, 'areaSize2Str')\"\n              (focus)=\"handleFocusAreaSize($event)\"\n              (blur)=\"changeFilterArea($event)\"\n            />\n            <label\n              *ngIf=\"!(filters.AreaSize2 > 9999)\"\n              for=\"areaSize2\"\n              [attr.class]=\"{\n                  block: _name,\n                  element: 'input-label',\n                  mods: {'display': !filters.AreaSize2 ? 'hidden' : 'shown'}\n               }| bem\"\n            >\n              m&#xB2;\n            </label>\n          </div>\n        </div>\n        <div\n          *ngIf=\"isInvalidValues(filters.AreaSize, filters.AreaSize2) || filters.AreaSize2 > 9999\"\n          [attr.class]=\"{block: _name, element: 'error-message'} | bem\"\n        >\n          die Mindestwohnfläche darf nicht höher als die Höchstwohnfläche sein!\n        </div>\n        <div *ngIf=\"filters.AreaSize2 > 9999\" [attr.class]=\"{block: _name, element: 'error-message'} | bem\">\n          zu große Wohnfläche!\n        </div>\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'link'} | bem\" (click)=\"clearFilters()\">\n        Filter zurücksetzen\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'legal-text'} | bem\" (click)=\"clearFilters()\">\n        Die dargestellten Werte stellen\n        lediglich Schätzwerte und keine rechtsverbindlichen Marktwerte dar.\n      </div>\n    </div>\n  </div>\n</div>\n<div\n  *ngIf=\"isSmallDevice\"\n  [attr.class]=\"{block: _name, element: 'min'} | bem\"\n  (click)=\"_openFilter()\"\n>\n  <img\n    src=\"../../../assets/images/filter.svg\"\n    [attr.class]=\"{block: _name, element: 'icon-filter'} | bem\"\n  >\n  <div [attr.class]=\"{block: _name, element: 'min-title'} | bem\">\n    Filter\n  </div>\n</div>\n","import {\n  Component,\n  ElementRef,\n  OnInit,\n  OnDestroy,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport { trigger, style, animate, transition } from '@angular/animations';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\nimport { Subscription } from 'rxjs';\nimport { debounce } from 'lodash';\n\nimport { MapFilterService } from '../../../../core/services/map-filter.service';\nimport { FilterOptions } from '../../../../core/models/filter-options.model';\nimport { MapManagerService } from '../../../../core/services/map-manager.service';\nimport { StateManagerService } from '../../../../core/services/state-manager.service';\nimport { FILTER_MAX_PRICE, FILTER_MIN_PRICE } from '../../../../app.constants';\nimport { IHistogram } from '../../../../core/models/marker.model';\nimport { templateStatusToFrontend } from '../../../../shared/utils/deserializator.util';\nimport { isSmallMobileDevice, isMobileDevice, isSmallDevice } from '../../../../shared/utils/responsive.util';\n\nlet FILTER_MAX_PRICE_UPDATE = FILTER_MAX_PRICE;\nlet FILTER_MIN_PRICE_UPDATE = FILTER_MIN_PRICE;\nconst FILTER_PRICES_INITIAL_VALUES = [FILTER_MIN_PRICE_UPDATE, FILTER_MAX_PRICE_UPDATE];\n\nconst PRICE_SELECT_CONFIG = {\n  connect: true,\n  start: [FILTER_MIN_PRICE, FILTER_MAX_PRICE],\n  step: 10000,\n  pageSteps: 10,  // number of page steps, defaults to 10\n  range: {\n    min: FILTER_MIN_PRICE,\n    max: FILTER_MAX_PRICE,\n  },\n};\n\nconst FILTER_HEIGHT = '7000px';\nconst FILTER_WIDTH = '231px';\n\nconst FILTER_RANGE_MIN_PRICE = 5000;\n\nconst SELLING_STATUS_ITEMS: string[] = [\n  'ForSale',\n  'MakeMeMove',\n  'Active',\n];\n\nconst SELLING_STATUS_HINT_MAP: { [ sellingStatus: string ]: string } = {\n  ForSale: 'Von Eigentümern oder Maklern angebotene, zum Verkauf stehende Immobilien.',\n  MakeMeMove: 'Eigentümer haben die Immobilie noch nicht zum Verkauf gestellt, '\n    + 'sind aber offen für Gebote, die Du ihnen über Scoperty senden kannst.',\n  Active: 'Immobilien mit Schätzwerten, deren Eigentümer noch nicht auf Scoperty aktiv sind.',\n};\n\n@Component({\n  selector: 'app-map-filters',\n  templateUrl: './map-filters.component.html',\n  styleUrls: ['./map-filters.component.css'],\n  animations: [\n    trigger('fadeInOut', [\n      transition('void => *', [\n        style({opacity: 0, width: '0px', height: FILTER_HEIGHT, overflow: 'hidden'}),\n        animate(500, style({opacity: 0, width: FILTER_WIDTH, height: FILTER_HEIGHT})),\n      ]),\n      transition('* => void', [\n        style({height: FILTER_HEIGHT, width: FILTER_WIDTH, backgroundColor: 'rgba(255,255,255,0.9)', opacity: 1}),\n        animate(300, style({height: FILTER_HEIGHT, width: '0px', backgroundColor: 'rgba(255,255,255,0.9)', opacity: 0})),\n      ])\n    ])\n  ]\n})\n\nexport class MapFiltersComponent implements OnInit, OnDestroy {\n  public averagePrice = null;\n  public confirmFilters = null;\n  public filterPrices = [...FILTER_PRICES_INITIAL_VALUES];\n  public filters: FilterOptions = {PriceFrom: FILTER_MIN_PRICE_UPDATE, PriceTo: FILTER_MAX_PRICE_UPDATE} as FilterOptions;\n  public priceSelectConfig: any = PRICE_SELECT_CONFIG;\n  public priceSlider: FormGroup;\n\n  public priceFromStr: string;\n  public priceToStr: string;\n  public areaSize1Str: string;\n  public areaSize2Str: string;\n\n  public isRangeUpdate: boolean = false;\n  public isBudgetLoaded: boolean = false;\n  public shouldRepeat: boolean = true;\n  public _name: string = 'map-filters';\n\n  public histogramColumns: Array<any> = [];\n\n  public priceStatisticsSubscription: Subscription;\n\n  public filterMinPriceUpdateOld = 0;\n  public filterMaxPriceUpdateOld = 0;\n\n  public isSmallMobileDevice: boolean = isSmallMobileDevice();\n  public isMobileDevice: boolean = isMobileDevice();\n  public isSmallDevice: boolean = isSmallDevice();\n\n  public sellingStatusItems: string[] = SELLING_STATUS_ITEMS;\n\n  public get isFilterShown(): boolean {\n    return this.mapFilterService.filtersShown;\n  }\n\n  public get sellingStatusHintPosition(): string {\n    if (this.el.nativeElement.children[0].getBoundingClientRect().top < 120) return 'bottom';\n    return 'top';\n  }\n\n  public get propertyTypeFilter(): string {\n    if (this.filters.PropertyType == null) return 'All';\n    if (this.filters.PropertyType === 'PropertyTypeWhereReturnZeroProperties') return 'None';\n    return this.filters.PropertyType;\n  }\n\n  public get filterMaxPriceUpdate(): number {\n    return FILTER_MAX_PRICE_UPDATE;\n  }\n\n  public get filterMinPriceUpdate(): number {\n    return FILTER_MIN_PRICE_UPDATE;\n  }\n\n  private _initFormGroup(): void {\n    const min = this.filters.PriceFrom === FILTER_MIN_PRICE_UPDATE\n              ? FILTER_MIN_PRICE_UPDATE\n              : this.filters.PriceFrom;\n\n    const max = this.filters.PriceTo === FILTER_MAX_PRICE_UPDATE\n              ? FILTER_MAX_PRICE_UPDATE\n              : this.filters.PriceTo;\n\n    this.priceSlider = this.formBuilder.group({'range': [[min, max]]});\n    this.changeFilterPriceSlider([min, max]);\n  }\n\n  public get isPropertyTypeNotExist(): boolean {\n    return this.filters.PropertyType == null;\n  }\n\n  public get isPropertyTypeEFH(): boolean {\n    return this.filters.PropertyType === 'EFH';\n  }\n\n  public get isPropertyTypeETW(): boolean {\n    return this.filters.PropertyType === 'ETW';\n  }\n\n  public get isEFHChecked(): boolean {\n    return this.isPropertyTypeNotExist || this.isPropertyTypeEFH;\n  }\n\n  public get isETWChecked(): boolean {\n    return this.isPropertyTypeNotExist || this.isPropertyTypeETW;\n  }\n\n  constructor(\n    private el: ElementRef,\n    private mapManagerService: MapManagerService,\n    private formBuilder: FormBuilder,\n    private changeDetector: ChangeDetectorRef,\n    public stateManagerService: StateManagerService,\n    public mapFilterService: MapFilterService,\n  ) {\n    this.filters = mapFilterService.temporaryFilters;\n    this.confirmFilters = debounce(this.mapFilterService.confirmFilters.bind(this.mapFilterService), 300);\n\n    this._initFormGroup();\n\n    this.priceFromStr = this.filters.PriceFrom.toLocaleString('de-DE');\n    this.priceToStr = this.filters.PriceTo.toLocaleString('de-DE');\n    this.areaSize1Str = this.filters.AreaSize ? this.filters.AreaSize.toLocaleString('de-DE') : '';\n    this.areaSize2Str = this.filters.AreaSize2 ? this.filters.AreaSize2.toLocaleString('de-DE') : '';\n  }\n\n  public ngOnInit(): void {\n    // later add logic to check navigation with non-null params for filters\n    if (!this.mapManagerService.showFilteredMarkers) this.clearFilters();\n    // bug, price-subscribtion is not in constructor because the form is not initialized at the time\n    this.priceStatisticsSubscription = this.mapManagerService.getPriceStatisticsStream()\n      .subscribe(\n        (priceStatistics: IHistogram) => {\n          switch (priceStatistics.status) {\n            case 'init': {\n              this.isBudgetLoaded = false;\n              break;\n            }\n            case 'loading': {\n              break;\n            }\n            case 'loaded': {\n              if (Object.keys(priceStatistics.data.length > 0)) {\n                if (priceStatistics.data.average) {\n                  this.averagePrice = priceStatistics.data.average.toLocaleString('de-DE');\n                } else this.averagePrice = '- ';\n\n                if (priceStatistics.data.minimum && priceStatistics.data.maximum) {\n                  this.updateRange(FILTER_RANGE_MIN_PRICE, this.filters.PriceTo);\n                  this.updateHistogram(priceStatistics.data);\n                }\n                this.isBudgetLoaded = true;\n                // @FIXME: fix \"Expression has changed after it was checked...\"\n                this.changeDetector.detectChanges();\n              }\n              break;\n            }\n          }\n        }\n      );\n  }\n\n  public ngOnDestroy(): void {\n    this.priceStatisticsSubscription.unsubscribe();\n  }\n\n  /**\n   * Set initial params for range if we came from search alerts page.\n   * @param prices number[]\n   */\n  public changeFilterPriceSlider(prices: number[]): void {\n    this.filterPrices = prices;\n    if (FILTER_MIN_PRICE_UPDATE <= this.filterPrices[0] && this.filterPrices[1] <= FILTER_MAX_PRICE_UPDATE) {\n      this.priceSlider.controls['range'].setValue(this.filterPrices);\n    }\n  }\n\n  public changePropertyType(value: FilterOptions['PropertyType']): void {\n    if (this.filters.PropertyType === value) {\n      this.filters.PropertyType = 'PropertyTypeWhereReturnZeroProperties';\n    } else if (this.filters.PropertyType === null) {\n      if (value === 'EFH') this.filters.PropertyType = 'ETW';\n      else if (value === 'ETW') this.filters.PropertyType = 'EFH';\n    } else if (this.filters.PropertyType === 'EFH' || this.filters.PropertyType === 'ETW') {\n      this.filters.PropertyType = null;\n    } else if (this.filters.PropertyType === 'PropertyTypeWhereReturnZeroProperties') {\n      this.filters.PropertyType = value;\n    }\n    this.confirmFilters();\n  }\n\n  public _openFilter(): void {\n    this.mapFilterService.toggleFiltersShown(true);\n  }\n\n  public _closeFilter(): void {\n    this.mapFilterService.toggleFiltersShown(false);\n  }\n\n  public changeSellingStatus(value): void {\n    if (value === 'all') {\n      const statuses = (<any>Object).keys(this.filters.SellingStatus);\n      const values = (<any>Object).values(this.filters.SellingStatus);\n      const newValue = !values.every((isChecked) => isChecked);\n      statuses.forEach((status) => {\n        this.filters.SellingStatus[status] = newValue;\n      });\n    } else this.filters.SellingStatus[value] = !this.filters.SellingStatus[value];\n\n    this.confirmFilters();\n  }\n\n  public changeFilterPrice(event: FocusEvent): void {\n    this.blurAllInputs();\n    // this check is needed to avoid initial log and duplicate with direct input\n    this.filters.PriceFrom = event[0];\n    this.filters.PriceTo = event[1];\n    this.priceFromStr = this.filters.PriceFrom.toLocaleString('de-DE');\n    this.priceToStr = this.filters.PriceTo.toLocaleString('de-DE');\n    if (this.isRangeUpdate) return;\n    this.confirmFilters();\n\n    // fix bug with default-values appearence for < 1 s\n    this.changeDetector.detectChanges();\n  }\n\n  public blurAllInputs(): void {\n    const  inputs = document.getElementsByTagName('input');\n    for (let i = 0; i < inputs.length; i++) {\n      inputs[i].blur();\n    }\n  }\n\n  public changeFilterPriceFrom(event: FocusEvent): void {\n    this.filters.PriceFrom = Number(this.priceFromStr.replace(/\\.?\\,?/ig, ''));\n    const newValues = [...this.filterPrices];\n    newValues[0] = this.filters.PriceFrom;\n\n    this.priceSlider.controls['range'].setValue(newValues);\n    this.formatInputNumber(event);\n  }\n\n  public changeFilterPriceTo(event: FocusEvent): void {\n    this.filters.PriceTo = Number(this.priceToStr.replace(/\\.?\\,?/ig, ''));\n    if (this.filters.PriceTo === 0) {\n      this.filters.PriceTo = FILTER_PRICES_INITIAL_VALUES[1];\n    }\n    const newValues = [...this.filterPrices];\n    newValues[1] = this.filters.PriceTo;\n    if (this.filters.PriceFrom <= newValues[1])\n      this.priceSlider.controls['range'].setValue(newValues);\n\n    this.formatInputNumber(event);\n  }\n\n  public checkInputValues(event: any): void {\n    const key = event.key || String.fromCharCode(event.which || event.code || event.keyCode);\n    const checkArr = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '\b', 'Backspace', 'Delete', 'Control', 'ArrowRight', 'ArrowLeft'];\n    if (checkArr.indexOf(key) === -1) event.preventDefault();\n  }\n\n  public inputNumberFilter(event: any, variableInput: string): void {\n    const regexp = new RegExp('^\\\\d*$');\n    if (regexp.test(event.target.value)) this[variableInput] = event.target.value;\n    else event.target.value = this[variableInput];\n  }\n\n  public cancelSelectStart(): boolean {\n    return false;\n  }\n\n  public cancelMouseDown(): boolean {\n    return false;\n  }\n\n  public handleFocusFilterPrice(event: any): void {\n    const thisValue: number = Number(event.target.value.replace(/\\.?\\,?/ig, ''));\n    if (thisValue === FILTER_PRICES_INITIAL_VALUES[1] || thisValue === 0) event.target.value = '';\n    else event.target.value = thisValue;\n  }\n\n  public handleFocusAreaSize(event: any): void {\n    if (event.target.value) event.target.value = Number(event.target.value.replace(/\\.?\\,?/ig, ''));\n  }\n\n  public formatInputNumber(event: any): boolean {\n    const value = Number(event.target.value.replace(/\\.?\\,?/ig, ''));\n    if (value > 0) event.target.value = value.toLocaleString('de');\n    else event.target.value = '';\n    return true;\n  }\n\n  public changeFilterArea(event: FocusEvent): void {\n    this.filters.AreaSize = Number(this.areaSize1Str.replace(/\\.?\\,?/ig, ''));\n    this.filters.AreaSize2 = Number(this.areaSize2Str.replace(/\\.?\\,?/ig, ''));\n    this.confirmFilters();\n    this.formatInputNumber(event);\n  }\n\n  public updateHistogram({histogram: hist, minimum: priceFrom, maximum: priceTo}: any): void {\n    this.histogramColumns = [];\n    if (hist == null) return;\n    const filteredHist = hist;\n    const maxCount = filteredHist.reduce((max, column) => max < column.count ? column.count : max, 0);\n    const maxColumnHeight = 34;\n    const minColumnHeight = 0;\n    const pixelNumberPerProperty = maxColumnHeight / maxCount;\n\n    for (const column of filteredHist) {\n      const columnHeight = pixelNumberPerProperty * column.count;\n      this.histogramColumns.push({\n        style: {\n          'position': 'absolute',\n          'bottom': '0px',\n          'left': `${column.intervalLowerLimit / 20000}%`,\n          'width': '1%',\n          'height': `${column.count > 0 && columnHeight < minColumnHeight ? minColumnHeight : columnHeight}px`,\n          'border': '0px',\n          // coefficient is for better accuracy because of 1% width\n          'background': `${column.intervalLowerLimit * 1.23 > this.filters.PriceFrom &&\n                           column.intervalUpperLimit * 1.23 < this.filters.PriceTo\n                            ? 'hsl(0, 0%, 28%)'\n                            : 'grey'\n                          }`,\n        }\n      });\n    }\n  }\n\n  public isInvalidValues(valFrom: number, valTo: number): boolean {\n    return valTo && (valTo !== 0) && (valFrom > valTo);\n  }\n\n  public clearFilters(): void {\n    this.priceFromStr = FILTER_PRICES_INITIAL_VALUES[0].toLocaleString('de-DE');\n    this.priceToStr = FILTER_PRICES_INITIAL_VALUES[1].toLocaleString('de-DE');\n    this.mapFilterService.clearFilters();\n    this.filters = this.mapFilterService.temporaryFilters;\n    this.filterPrices = [...FILTER_PRICES_INITIAL_VALUES];\n    this.areaSize1Str = this.filters.AreaSize ? this.filters.AreaSize.toLocaleString('de-DE') : '';\n    this.areaSize2Str = this.filters.AreaSize2 ? this.filters.AreaSize2.toLocaleString('de-DE') : '';\n  }\n\n  public setPrices(min: number, max: number): void {\n    if (min === max) {max += 10000; min -= 10000; }\n    FILTER_MAX_PRICE_UPDATE = max;\n    FILTER_MIN_PRICE_UPDATE = min;\n    this.filterPrices = [FILTER_MIN_PRICE_UPDATE, FILTER_MAX_PRICE_UPDATE];\n    this.filterMinPriceUpdateOld = FILTER_MIN_PRICE_UPDATE;\n  }\n\n  public updateRange(min: number, max: number): void {\n    if (this.filterMinPriceUpdateOld === min) return;\n\n    // @FIXME: to have a slider move on price updates these assignments should be outside of setTimeout\n    // but not at first data retrievement, see comment below\n    if (this.filterMinPriceUpdateOld !== 0) this.setPrices(min, max);\n    setTimeout( () => {\n      // @FIXME: right carret on histogram isn't updated -> default 999.999.999\n      // so put those assignments into setTineOut\n      this.setPrices(min, max);\n\n      this.filters.PriceFrom = FILTER_MIN_PRICE_UPDATE;\n      this.filters.PriceTo = FILTER_MAX_PRICE_UPDATE;\n\n      this.priceFromStr = this.filters.PriceFrom.toLocaleString('de-DE');\n      this.priceToStr = this.filters.PriceTo.toLocaleString('de-DE');\n      this.priceSlider.controls['range'].setValue([this.filters.PriceFrom, this.filters.PriceTo]);\n\n      this.isRangeUpdate = false;\n    }, 200);\n    this.isRangeUpdate = true;\n  }\n\n  public getSellingStatusName(sellingStatus: string): string {\n    return templateStatusToFrontend(sellingStatus);\n  }\n\n  public getSellingStatusHint(sellingStatus: string): string {\n    return SELLING_STATUS_HINT_MAP[sellingStatus];\n  }\n\n  public isStatusActive(status: string): boolean {\n    return status === 'Active';\n  }\n}\n","import {\n  Component,\n  Input,\n} from '@angular/core';\n\nimport { throttle } from 'lodash';\n\nimport { isSmallMobileDevice } from '../../../../../shared/utils/responsive.util';\n\n@Component({\n  selector: 'app-question-button',\n  templateUrl: './question-button.component.html',\n  styleUrls: ['./question-button.component.css']\n})\n\nexport class QuestionButtonComponent {\n\n  @Input() containerClass: string;\n  @Input() placement = 'top';\n\n  public triggerClickOnPopper;\n\n  public popperModifiers: any = {\n    hide: {\n      enabled: false,\n    },\n    flip: {\n      enabled: false,\n    },\n    preventOverflow: {\n      enabled: false\n    },\n  };\n\n  public _name: string = 'question-button';\n\n  constructor() {\n    this.triggerClickOnPopper = throttle((poper) => {\n      requestAnimationFrame(() => poper.click());\n    }, 300);\n\n    this.insertRules(0);\n  }\n\n  public insertRules(i: number = 0): void {\n    if (i > document.styleSheets.length) return;\n    // I hate angular style incapsulation :(\n    const lastStyleSheet: any = document.styleSheets[i];\n    try {\n      lastStyleSheet.insertRule(`popper-content.question-button__popper-content > .ngxp__container[x-placement^=\"bottom\"] {\n        margin-top: 45px;\n      }`);\n      lastStyleSheet.insertRule(`.question-button__popper-content .ngxp__container[x-placement^=\"bottom\"] > .ngxp__arrow {\n        transform: rotate(180deg) translate(0, 80%);\n      }`);\n      return;\n    } catch (error) {\n      this.insertRules(++i);\n    }\n  }\n\n  public getPopperPlace(): string {\n    if (isSmallMobileDevice()) return 'bottom';\n    else return 'top';\n  }\n}\n","<div [attr.class]=\"{block: _name, element: 'wrapper'} | bem\">\n  <button\n    app-button\n    color=\"secondary-green\"\n    size=\"medium\"\n    [stretch]=\"true\"\n    (click)=\"openSearchAlertModal()\"\n  >\n    Suchauftrag anlegen\n  </button>\n</div>\n","import { Component, Inject } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { DialogService } from 'ng2-bootstrap-modal';\nimport { NgxModalStack } from 'ngx-multi-modal';\n\nimport { AuthService } from '../../../../../core/services/auth.service';\nimport { UserService } from '../../../../../core/services/user.service';\nimport { FilterOptions } from '../../../../../core/models/filter-options.model';\nimport { MapFilterService } from '../../../../../core/services/map-filter.service';\nimport { propTypeToBackEnd, statusToBackEnd } from '../../../../../shared/utils/deserializator.util';\nimport { PropertiesRepositoryService } from '../../../../../core/services/properties-repository.service';\nimport { OpenModalService } from '../../../../../core/services/open-modal.service';\nimport { isEmptyString } from '../../../../../shared/utils/empty-string.util';\nimport { isNullOrUndefined } from '../../../../../shared/utils/null-or-undefined.util';\nimport { isSmallMobileDevice } from '../../../../../shared/utils/responsive.util';\nimport { SaveSearchAlertNameComponent } from '../../save-search-alert-name/save-search-alert-name.component';\nimport { LoggerService } from '../../../../../core/services/logger/logger.service';\nimport { LOGGER } from '../../../../../core/services/logger/logger.provider';\nimport { SellingStatus, SHARED_ROUTES_NAMES } from '../../../../../app.constants';\nimport { SignupMobileMenuComponent } from '../../../../registration/components/signup-mobile-menu/signup-mobile-menu.component';\n\ninterface SearchRequestSettings {\n  name?: string;\n  emailFrequency?: string;\n  isActive?: boolean;\n  city: string;\n  priceMin?: number;\n  priceMax?: number;\n  livingAreaMin?: number;\n  livingAreaMax?: number;\n  propertyTypes: Array<string>;\n  sellingStatuses: Array<string>;\n}\n\n@Component({\n  selector: 'app-search-request-button',\n  templateUrl: './search-request-button.component.html',\n  styleUrls: ['./search-request-button.component.css']\n})\nexport class SearchRequestButtonComponent {\n  public _name: string = 'search-request-button';\n  public searchAlertName: string = '';\n  private isSmallMobileDevice: boolean = isSmallMobileDevice();\n\n  public get filterSettings(): FilterOptions {\n    return this.mapFilterService.filters;\n  }\n\n  public get searchAlertsData(): SearchRequestSettings {\n    let sellingStatuses: Array<string> = this.sellingStatusToParams(this.filterSettings.SellingStatus);\n\n    if (this.propertyTypesToParams(this.filterSettings.PropertyType).length === 0) {\n      return;\n    }\n\n    if (sellingStatuses.length === 0) {\n      sellingStatuses = ['make_me_move', 'for_sale', 'active'];\n    }\n\n    return {\n      name: this.searchAlertName,\n      city: 'Nürnberg',\n      priceMin: this.filterSettings.PriceFrom,\n      priceMax: this.filterSettings.PriceTo,\n      livingAreaMin: this.filterSettings.AreaSize,\n      livingAreaMax: this.filterSettings.AreaSize2,\n      propertyTypes: this.propertyTypesToParams(this.filterSettings.PropertyType),\n      sellingStatuses,\n    };\n  }\n\n  private async createSearchAlert(): Promise<boolean> {\n    const data = this.convertSettingsToString(this.searchAlertsData);\n\n    try {\n      await this.propertiesRepositoryService.createSearchAlerts(data);\n      return true;\n    } catch (error) {\n      this.logger.error('SearchRequestButtonComponent:createSearchAlert:Error', error);\n      return false;\n    }\n  }\n\n  private convertSettingsToString(settings: SearchRequestSettings): string {\n    const data = JSON.stringify(settings);\n    return data;\n  }\n\n  private sellingStatusToParams(sellingStatus: SellingStatus): Array<string> {\n    if (sellingStatus === null || !Object.keys(sellingStatus).length) return [];\n\n    const statuses = Object.keys(sellingStatus);\n    const options = statuses\n      .filter(option => sellingStatus[option] && option !== 'Idle')\n      .map(status => statusToBackEnd(status));\n\n    return options;\n  }\n\n  private propertyTypesToParams(propertyType: string): Array<string> {\n    if (propertyType === 'PropertyTypeWhereReturnZeroProperties') return [];\n    else if (isEmptyString(propertyType)) return ['apartment', 'single_family_house'];\n    return [propTypeToBackEnd(propertyType)];\n  }\n\n  constructor(\n    private authService: AuthService,\n    private userService: UserService,\n    private mapFilterService: MapFilterService,\n    private openModalService: OpenModalService,\n    private dialogService: DialogService,\n    private router: Router,\n    private propertiesRepositoryService: PropertiesRepositoryService,\n    private modalService: NgxModalStack,\n    @Inject(LOGGER) private logger: LoggerService,\n  ) { }\n  public async addSearchAlertName(): Promise<boolean> {\n    try {\n      const modalRef = this.modalService.openFromComponent(SaveSearchAlertNameComponent);\n      const name: string = await modalRef.result;\n      if (!isEmptyString(name)) {\n        this.searchAlertName = name;\n        return true;\n      } else {\n        return false;\n      }\n    } catch (error) {}\n  }\n\n  public async saveSearchAlert(): Promise<void> {\n    if (isNullOrUndefined(this.searchAlertsData)) {\n      return;\n    }\n\n    const addSearchAlertNameResult = await this.addSearchAlertName();\n    if (addSearchAlertNameResult) {\n      const result = this.createSearchAlert();\n      if (result) {\n        this.router.navigate([`/${SHARED_ROUTES_NAMES.PROFILE}/${SHARED_ROUTES_NAMES.SEARCH}`]);\n      }\n    }\n  }\n\n  public async openSearchAlertModal(): Promise<void> {\n    if (this.authService.isUserLoggedIn()) {\n      await this.saveSearchAlert();\n    } else {\n      const addSearchAlertNameResult = await this.addSearchAlertName();\n      if (addSearchAlertNameResult) {\n        this.authService.setCreateSearchAlertsSignupInfo(this.searchAlertsData);\n        this.showSignup();\n      }\n    }\n  }\n\n  private showSignup(): void {\n    if (this.isSmallMobileDevice) {\n      this.openSignUpMobileMenu();\n    } else {\n      this.openSignUpModal();\n    }\n  }\n\n  private openSignUpModal(): void {\n    this.router.navigate([{ outlets: { 'modal': [ 'signup'] }}]);\n  }\n\n  private openSignUpMobileMenu(): void {\n    this.modalService.openFromComponent(SignupMobileMenuComponent);\n  }\n}\n","<div [attr.class]=\"{block: _name, element: 'wrapper'} | bem\"></div>\n\n<app-hint-no-markers\n  *ngIf=\"showHintboxNoMarkers\"\n  [noMarkersInBound]=\"incorrectLocation\"\n  [zoom]=\"mapZoom\"\n  (newPlace)=\"onHintSuccess($event)\"\n  (close)=\"onHintCancel()\"\n></app-hint-no-markers>\n\n<app-map-controls\n  [attr.class]=\"{block: _name, element: 'controls'} | bem\"\n  [zoomInEnabled]=\"getMapZoomHigh\"\n  [zoomOutEnabled]=\"getMapZoomLow\"\n  (zoomIn)=\"incMapZoom()\"\n  (zoomOut)=\"decMapZoom()\"\n></app-map-controls>\n\n<app-fancy-info-window\n  #fancyInfoWindow\n  *ngIf=\"zoomLevel === 'HIGH'\"\n  [isShown]=\"isFancyWindowShown\"\n  [googleMap]=\"googleMap\"\n  [markerId]=\"activeMarkerId\"\n  [needOpenDetailWindow]=\"needOpenDetailWindow\"\n  (windowClicked)=\"onInfoWindowClick($event)\"\n  (close)=\"deactivateActiveMarker()\"\n  (prevMarker)=\"prevMarker()\"\n  (nextMarker)=\"nextMarker()\"\n  (isOpenChanged)=\"infoWindowIsOpenChanged($event)\"\n></app-fancy-info-window>\n\n<app-map-data-source\n  [city]=\"city\"\n  [zoomLevel]=\"zoomLevel\"\n></app-map-data-source>\n","import {\n  Component,\n  OnInit, OnDestroy,\n  Input, Output,\n  EventEmitter,\n  ElementRef,\n  NgZone,\n  ChangeDetectorRef,\n  ViewChild,\n  Inject\n} from '@angular/core';\n\nimport { Data, MapsEventListener } from '@agm/core/services/google-maps-types';\nimport { Observable, Subscription } from 'rxjs';\nimport { NgxModalStack } from 'ngx-multi-modal';\nimport { debounce } from 'lodash';\nimport {} from 'googlemaps';\n\nimport { getSupportedCity } from '../../../../core/models/supported-cities.model';\nimport { MapManagerService } from '../../../../core/services/map-manager.service';\nimport { MapFilterService } from '../../../../core/services/map-filter.service';\nimport { MapsAutocompleteService } from '../../../../core/services/maps-autocomplete.service';\nimport { SchedulerService } from '../../../../core/services/scheduler.service';\nimport { StateManagerService } from '../../../../core/services/state-manager.service';\nimport { AuthService } from '../../../../core/services/auth.service';\nimport { PropertiesRepositoryService } from '../../../../core/services/properties-repository.service';\nimport { LOCAL_STORAGE } from '../../../../core/services/local-storage.provider';\nimport { LoggerService } from '../../../../core/services/logger/logger.service';\nimport { LOGGER } from '../../../../core/services/logger/logger.provider';\nimport { MarkerModel} from '../../../../core/models/marker.model';\nimport { FragmentModel } from '../../../../core/models/fragment.model';\nimport { ExtendedMarkerModel } from '../../../../core/models/extended-marker.model';\nimport { Point, Place, MapObject, ZoomLevel, MapAutocompleteData } from '../../../../core/models/location.model';\nimport { MarkerClusterModel } from '../../../../core/models/marker-cluster.model';\nimport { Coordinates } from '../../../../core/models/coordinates.model';\nimport { IStyle } from '../../../../core/models/style.model';\nimport { MapSettings } from '../../../../core/models/map-settings.model';\nimport {\n  FeatureCollection,\n  MarkersBackEndData,\n  PropertiesListResult,\n  FilterOptions,\n } from '../../../../core/models/properties-repository.model';\nimport { isMobileDevice, isLargeScreen, isSmallDevice } from '../../../../shared/utils/responsive.util';\nimport { FetchableBehaviorSubject } from '../../../../shared/utils/fetchable-rx.util';\nimport calculateZoomLevel from '../../../../shared/utils/zoom-level.util';\nimport { isNullOrUndefined } from '../../../../shared/utils/null-or-undefined.util';\nimport {\n  ConfirmationDialogComponent,\n  ConfirmationDialogModel,\n  ConfirmationDialogType\n} from '../../../../shared/components/confirmation-dialog/confirmation-dialog.component';\nimport { MAP_STYLED_TYPE } from '../../../../gmaps.style';\nimport {\n  AVAILABLE_MAP_TYPES,\n  MAP_SETTINGS,\n  ZOOM_CONSTANTS,\n} from '../../../../main/main.constants';\n\nconst NARROWING_FACTOR = 0.001;\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['../../../../main.css', './map.component.css'],\n})\n\nexport class MapComponent implements OnInit, OnDestroy {\n\n  // Input fields\n  @Input() showSearchBar: boolean;\n\n  // Output events\n  @Output() mapClick: EventEmitter<any> = new EventEmitter();\n  @Output() markerClick: EventEmitter<any> = new EventEmitter();\n  @Output() infoWindowClick: EventEmitter<any> = new EventEmitter();\n\n  @ViewChild('fancyInfoWindow') fancyInfoWindow;\n\n  // Private fields\n  private mapsModule: any = null;\n\n  private oldZoom: number;\n  private currentZoom: number;\n\n  private zoomChanged: boolean;\n\n  private isFilterResponse: boolean = false;\n  private firstMapUpdate: boolean = true;\n\n  private showedMarkersHistory: Array<MarkerModel | FragmentModel> = [];\n  private mapListeners: Array<MapsEventListener> = [];\n\n  private renderClustersTimeOut = null;\n  private zoomOutInProgress: boolean = false;\n\n  // Public fields\n  public googleMap: google.maps.Map = null;\n  public googleMapSettings: any = MAP_SETTINGS;\n  public geocoder: google.maps.Geocoder = null;\n\n  public activeBuilding: MarkerModel = null;\n  public activeMarker: MarkerModel | FragmentModel = null;\n  public activeMarkerId: string = null;\n  public activeMarkerType: string = null;\n\n  public markers: Map<string, MarkerModel | FragmentModel> = new Map<string, MarkerModel | FragmentModel>();\n  public clusters: Map<string, MarkerClusterModel> = new Map<string, MarkerClusterModel>();\n  public compiledClusters:  Map<string, MarkerClusterModel> = new Map<string, MarkerClusterModel>();\n\n  public subscriptionMap: Map<string, Subscription> = new Map<string, Subscription>();\n\n  public propertiesFeatures: google.maps.Data.Feature[] = null;\n  public propertiesFeatureCollection: FeatureCollection = null;\n\n  public showHintboxNoMarkers: boolean = false;\n  public incorrectLocation: boolean = false;\n  public infoWindowIsOpen = false;\n  public needOpenDetailWindow = false;\n  public isFancyWindowShown: boolean = false;\n\n  public city: string = '';\n\n  public searchPointData: MapAutocompleteData = null;\n\n  public activeFeature: MarkersBackEndData = null;\n\n  public isMobileDevice: boolean = isMobileDevice();\n  public isSmallDevice: boolean = isSmallDevice();\n\n  public _name: string = 'map';\n\n  // Private getters/setters\n\n  // Public getters/setters\n  public get mapBounds(): Coordinates {\n    const bounds = this.googleMap.getBounds();\n    if (bounds == null) throw new Error('Map not ready!');\n\n    const neBound = bounds.getNorthEast();\n    const swBound = bounds.getSouthWest();\n\n    if (this.mapZoom <= 17) {\n      return {\n        nwLatitude: neBound.lat() - NARROWING_FACTOR,\n        nwLongitude: swBound.lng() - NARROWING_FACTOR,\n        seLatitude: swBound.lat() - NARROWING_FACTOR,\n        seLongitude: neBound.lng() - NARROWING_FACTOR,\n      };\n    }\n\n    return {\n      nwLatitude: neBound.lat(),\n      nwLongitude: swBound.lng(),\n      seLatitude: swBound.lat(),\n      seLongitude: neBound.lng(),\n    };\n  }\n\n  public get mapZoom(): number {\n    if (this.googleMap == null) return 0;\n    return this.googleMap.getZoom();\n  }\n\n  public set mapZoom(value: number) {\n    this.googleMap.setZoom(value);\n  }\n\n  public get mapCenter(): google.maps.LatLngLiteral | google.maps.LatLng {\n    if (this.googleMap == null) return {lat: 0, lng: 0};\n    return this.googleMap.getCenter();\n  }\n\n  public set mapCenter(value: google.maps.LatLngLiteral | google.maps.LatLng) {\n    if (this.googleMap == null) return;\n    // @FIXME: later check this code for further use\n    // this.googleMap.setCenter(value);\n    this.googleMap.panTo(value);\n  }\n\n  public get zoomLevel(): ZoomLevel {\n    return calculateZoomLevel(this.mapZoom);\n  }\n\n  public get zoomLevelChanged(): boolean {\n    const res = this.zoomLevel !== calculateZoomLevel(this.oldZoom);\n    this.updateZoom();\n    return res;\n  }\n\n  public get zoomNumberChanged(): boolean {\n    const res = this.mapZoom !== this.oldZoom;\n    this.updateZoom();\n    return res;\n  }\n\n  public get getMapZoomLow(): boolean {\n    return this.mapZoom > this.googleMapSettings.minZoom;\n  }\n\n  public get getMapZoomHigh(): boolean {\n    return this.mapZoom < this.googleMapSettings.maxZoom;\n  }\n\n  public get filterSettings(): FilterOptions {\n    return this.mapFilter.filters;\n  }\n\n  private _fetchMarkers: (options: any) => void;\n\n  private subscribeOnMarkersStream(key: string, stream: FetchableBehaviorSubject<any>, handler: (data: any) => void): void {\n    this._fetchMarkers = stream.fetch;\n    this.subscribeOn(key, stream, handler);\n  }\n\n  private _placeChanged({zoom, name}: MapObject): void {\n    const compareRegExp: RegExp = new RegExp(/[a-zA-Z]/ig);\n\n    if (name && zoom === 15) {\n      if (this.clusters.size) {\n        const clearedName = name.match(compareRegExp).join('');\n\n        this.clusters.forEach(cluster => {\n          cluster.Name.match(compareRegExp).join('') === clearedName ?\n          this.clusterMouseOverHandler(cluster) :\n          this.clusterMouseOutHandler(cluster);\n        });\n      }\n    }\n  }\n\n  private clearRenderedMarkers(): void {\n    this.markers.forEach((marker, id) => {\n      marker.unsubscribe((<any>window).google.maps);\n      marker.hide();\n      this.markers.delete(id);\n    });\n\n    this.clearFeatures();\n  }\n\n  private clearRenderedClusters(): void {\n    this.clusters.forEach((cluster, id) => {\n      cluster.unsubscribe((<any>window).google.maps);\n      cluster.delete();\n      this.clusters.delete(id);\n    });\n\n    this.compiledClusters.forEach((compiledCluster, id) => {\n      compiledCluster.hide();\n      this.compiledClusters.delete(id);\n    });\n\n    this.clearFeatures();\n  }\n\n  private pointInBound({lat, lng}: Point): boolean {\n    const bounds = this.googleMap.getBounds();\n    if (bounds == null) return false;\n    const minLat = Math.min(bounds.getNorthEast().lat(), bounds.getSouthWest().lat());\n    const maxLat = Math.max(bounds.getNorthEast().lat(), bounds.getSouthWest().lat());\n    const minLng = Math.min(bounds.getNorthEast().lng(), bounds.getSouthWest().lng());\n    const maxLng = Math.max(bounds.getNorthEast().lng(), bounds.getSouthWest().lng());\n    return minLat < lat && lat < maxLat && minLng < lng && lng < maxLng;\n  }\n\n  private computeDistanceBetween(fromPoint: google.maps.LatLng, toPoint: google.maps.LatLng): number {\n    try {\n      return google.maps.geometry.spherical.computeDistanceBetween(fromPoint, toPoint);\n    } catch (error) {\n      return 0;\n    }\n  }\n\n  private getClosestMarker(initialMarker: MarkerModel | FragmentModel): MarkerModel {\n    let closestMarker = null;\n    let closestDistance = Infinity;\n    this.markers.forEach((marker) => {\n      if (!marker.isRendered || marker === initialMarker || this.showedMarkersHistory.indexOf(marker) > -1) return;\n      const distance = this.computeDistanceBetween(initialMarker.positionAsLatLng, marker.positionAsLatLng);\n      if (distance > 0 && distance < closestDistance) {\n        closestMarker = marker;\n        closestDistance = distance;\n      }\n    });\n    return closestMarker;\n  }\n\n  private getMarkerByFeature(feature: google.maps.Data.Feature): MarkerModel | FragmentModel | MarkerClusterModel {\n    const storage: Map<string, MarkerModel | FragmentModel | MarkerClusterModel> = this.markers.size ? this.markers : this.clusters;\n    const quality: string = this.markers.size ? 'uuid' : 'name';\n    return storage.get(feature.getProperty(quality));\n  }\n\n  private getFeatureByMarker(markerId: string): any {\n    return this.propertiesFeatureCollection.features.find(objFeature => {\n      return objFeature.properties.uuid === markerId;\n    });\n  }\n\n  private getFeatureByCluster(cluster: MarkerClusterModel): MarkersBackEndData {\n    return this.propertiesFeatureCollection.features.find(objFeature => {\n      return objFeature.properties.name === cluster.Name;\n    });\n  }\n\n  private updateAreaStyles(): void {\n    this.googleMap.data.setStyle(this.getAreaStyle.bind(this));\n  }\n\n  private clearFeatures(): void {\n    if (this.propertiesFeatures) {\n      this.propertiesFeatures.forEach((feature) => {\n        (window as any).google.maps.event.clearInstanceListeners(feature);\n        this.googleMap.data.remove(feature);\n      });\n    }\n\n    this.propertiesFeatures = null;\n  }\n\n  private zoomOutForResults(state: boolean): void {\n    this.zoomOutInProgress = state;\n    if (!state) return;\n    --this.mapZoom;\n  }\n\n  private zoomOutResults(): void {\n    if (this.currentZoom > 15) {\n      if (!this.markers.size) this.mapFilter.setZoomOutForResults(true);\n      else this.mapFilter.setZoomOutForResults(false);\n    } else {\n      if (this.currentZoom === ZOOM_CONSTANTS.MINIMUM_ZOOM.value && !this.clusters.size) this.mapFilter.setZoomOutForResults(false);\n      else if (!this.clusters.size) this.mapFilter.setZoomOutForResults(true);\n      else this.mapFilter.setZoomOutForResults(false);\n    }\n  }\n\n  // Public methods\n  constructor(\n    private elementRef: ElementRef,\n    private mapManager: MapManagerService,\n    private mapFilter: MapFilterService,\n    private scheduler: SchedulerService,\n    private autocompleteService: MapsAutocompleteService,\n    private zone: NgZone,\n    private changeDetectorRef: ChangeDetectorRef,\n    private stateManager: StateManagerService,\n    private authService: AuthService,\n    private mapManagerService: MapManagerService,\n    private propertyRepository: PropertiesRepositoryService,\n    private modalService: NgxModalStack,\n    @Inject(LOGGER) private logger: LoggerService,\n    @Inject(LOCAL_STORAGE) private localStorage: Storage,\n  ) {\n    this.fetchMarkers = debounce(this.fetchMarkers.bind(this), 300);\n    // this.renderObjectOnMap = debounce(this.renderObjectOnMap.bind(this), 300);\n    // this.renderMarker = debounce(this.renderMarker.bind(this), 100);\n    // this.renderObjectOnMap = this.renderObjectOnMap.bind(this);\n    this.filtersUpdated = debounce(this.filtersUpdated.bind(this), 400);\n    this.mapBoundsChanged = debounce(this.mapBoundsChanged.bind(this), 100);\n    this.placeChanged = debounce(this.placeChanged.bind(this), 500);\n    this.settingUpdated = debounce(this.settingUpdated.bind(this), 500);\n    this.countMarkersChanged = debounce(this.countMarkersChanged.bind(this), 2000);\n    this.zoomOutForResults = this.zoomOutForResults.bind(this);\n    this.zoomOutResults = this.zoomOutResults.bind(this);\n  }\n\n  public ngOnInit(): void {\n    this.loadGoogleMapSDK();\n    this.subscribeOnMarkersStream('handleMarkersChunk', this.mapManager.getMarkersStream(), this.handleMarkersChunk);\n    this.subscribeOn('filtersUpdated', this.mapManager.getFilterOptionsStream(), this.filtersUpdated);\n    this.subscribeOn('clustersUpdated', this.mapManager.getClustersStream(), this.clustersUpdated);\n    this.subscribeOn('placeChanged', this.mapManager.getPlaceChangesStream(), this.placeChanged);\n    this.subscribeOn('searchProperty', this.mapManager.getSearchPropertyStream(), this.searchProperty);\n    this.subscribeOn('settingChanged', this.mapManager.getSettingsChangesStream(), this.settingChanged);\n    this.subscribeOn('settingUpdated', this.mapManager.getUpdatedSettingsStream(), this.settingUpdated);\n    this.subscribeOn('activeMarkerChanged', this.mapManager.getActiveMarkerChangesStream(), this.activeMarkerChanged);\n    this.subscribeOn('hasMarkersInAreaChanged', this.mapManager.getNoDataStream(), this.hasMarkersInAreaChanged);\n    this.subscribeOn('hasNoticeNewsAdded', this.mapManager.getNewsNoticeStream(), this.hasNoticeNewsAdded);\n    this.subscribeOn('countMarkersChanged', this.mapManager.getMarkersCountStream(), this.countMarkersChanged);\n    this.subscribeOn('transitionToPreviousMarker', this.mapManager.getTransitionToPreviousMarkerEventStream(), this.prevMarker);\n    this.subscribeOn('transitionToClosestMarker', this.mapManager.getTransitionToClosestMarkerEventStream(), this.nextMarker);\n    this.subscribeOn('updateActiveMarker', this.mapManager.getUpdateActiveMarkerEventStream(), this.updateActiveMarker);\n    this.subscribeOn('userLogout', this.authService.events, this.authChange);\n    this.subscribeOn('markersDetailStateChanged', this.stateManager.markersDetailIsOpenChanged, this.markersDetailStateChanged);\n    this.subscribeOn('zoomOutForResults', this.mapFilter.zoomOutForResults$, this.zoomOutForResults);\n    this.subscribeOn(\n      'propertiesFeatureCollectionUpdated',\n      this.mapManager.getPropertiesFeatureCollectionStream(),\n      this.propertiesFeatureCollectionUpdated\n    );\n\n    if (!this.isSmallDevice) this.mapFilter.toggleFiltersShown(true);\n    // Clear cached data\n    this.propertyRepository.clearCache();\n\n    if (this.mapManager.placeChangerData) {\n      this.placeChanged(this.mapManager.placeChangerData);\n      this.mapManager.placeChangerData = null;\n    }\n\n    if (this.mapManager.mapSettingsData) {\n      this.settingUpdated(this.mapManager.mapSettingsData);\n      this.mapManager.mapSettingsData = null;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    // Clear RxJs subscriptions\n    this.unsubscribeAll();\n    // Clear data from map\n    this.clearMap();\n    // Clear listeners from map\n    this.mapListeners.forEach(listener => (<any>window).google.maps.event.removeListener(listener));\n    // Save current map setting\n    this.saveMapSettings();\n  }\n\n  private saveMapSettings(property?: ExtendedMarkerModel) {\n    /*\n    * @FIXME: When we will do refactoring\n    * need to update this function\n    * when it used in case from property-detail page\n    * slider object\n    */\n    if (property) {\n      this.mapManager.saveMapSettings('main', {\n        zoom: 19,\n        mapTypeId: 'hybrid',\n        center: {\n          lat: property.position.lat,\n          lng: property.position.lng\n        },\n        activeMarkerId: property.PropertyId,\n        activeMarkerType: property.PropertyType,\n        needOpenDetailWindow: this.stateManager.markersDetailShouldBeReopened,\n        needMakeMeOwner: this.stateManager.needMakeMeOwner\n      });\n    } else {\n      try {\n        this.mapManager.saveMapSettings('main', {\n          zoom: this.googleMap.getZoom(),\n          mapTypeId: this.googleMap.getMapTypeId(),\n          center: {\n            lat: this.googleMap.getCenter().lat(),\n            lng: this.googleMap.getCenter().lng()\n          },\n          activeMarkerId: this.activeMarkerId,\n          activeMarkerType: this.activeMarkerType,\n          needOpenDetailWindow: this.stateManager.markersDetailShouldBeReopened,\n          needMakeMeOwner: this.stateManager.needMakeMeOwner\n        } as MapSettings );\n      } catch (error) {\n        this.logger.error('MapComponent::saveMapSettings:Error', error);\n      }\n    }\n  }\n\n  public authChange(): void {\n    if (!this.authService.isUserLoggedIn()) {\n      this.deactivateActiveMarker();\n    }\n  }\n\n  public markersDetailStateChanged(property?: ExtendedMarkerModel): void {\n    this.saveMapSettings(property);\n  }\n\n  public unsubscribeAll(): void {\n    this.subscriptionMap.forEach((subscription) => subscription.unsubscribe());\n  }\n\n  public subscribeOn(key: string, stream: Observable<any>, handler: (data: any) => void): void {\n    if (this.subscriptionMap.has(key)) this.subscriptionMap.get(key).unsubscribe();\n    this.subscriptionMap.set(key, stream.subscribe(handler.bind(this)));\n  }\n\n  public async activeMarkerChanged(markerId: string): Promise<void> {\n    let marker = this.markers.get(markerId);\n    if (marker == null && markerId != null) {\n      marker = await this.mapManager.loadMarker(markerId);\n      this.markers.set(marker.id, marker);\n    }\n    this.activateMarker(marker);\n  }\n\n  public updateActiveMarker(data: MarkerModel): void {\n    const marker = this.markers.get(data.PropertyId);\n    marker.activate();\n    this.updateAreaStyles();\n  }\n\n  public deactivateActiveMarker(): void {\n    if (this.activeMarker != null) {\n      this.activeMarker.deactivate();\n      this.activeMarker = null;\n      this.activeMarkerId = null;\n      this.updateAreaStyles();\n    }\n  }\n\n  public hasMarkersInAreaChanged({ value }: any): void {\n    this.zone.run(() => {\n      this.incorrectLocation = value;\n    });\n  }\n\n  public countMarkersChanged({ value }: any): void {\n    this.zone.run(() => {\n      this.showHintboxNoMarkers = value === 0;\n\n      if (value === 0) {\n        this.clearRenderedClusters();\n        this.clearRenderedMarkers();\n      }\n    });\n  }\n\n  public hasNoticeNewsAdded(): void {\n    this.mapManager.addNoticeNews(this.mapBounds)\n      .subscribe(\n        () => {\n          const message: string = `Wir haben für dich einen Suchauftrag angelegt.\n            Wenn es Änderungen bei den ausgewählten Immobilien gibt, wirst du per Email informiert.\n            Über die Email kannst du auch jederzeit den Suchauftrag wieder löschen.`;\n          this.showInfoDialog(message);\n        },\n        error => {\n          const message: string = error.isClientError\n            ? `Hoppla! Etwas ist schief gelaufen! \\n ${error.message}`\n            : 'Hoppla! Etwas ist schief gelaufen!';\n          this.showInfoDialog(message);\n          this.logger.error('Filter NOT saved', error);\n        }\n      );\n  }\n\n  private showInfoDialog(message: string): void {\n    const dialogModel: ConfirmationDialogModel = {\n      message,\n      type: ConfirmationDialogType.Info,\n      buttonLabel: 'OK',\n    };\n    const modalRef = this.modalService.openFromComponent(ConfirmationDialogComponent);\n    Object.assign(modalRef.instance, dialogModel);\n  }\n\n  public settingChanged(): void {\n    this.firstMapUpdate = true;\n    this.googleMap.setOptions(this.googleMapSettings);\n    setTimeout(() => {\n      if (this.firstMapUpdate) this.mapUpdated();\n    }, 5000);\n  }\n\n  public settingUpdated({latitude, longitude, zoom}: any): void {\n    this.googleMap.panTo({lat: latitude, lng: longitude});\n    this.googleMap.setZoom(zoom);\n  }\n\n  public placeChanged({place, zoom, name}: MapObject): void {\n    this.clusters.forEach(cluster => this.clusterMouseOutHandler(cluster));\n\n    if (name) setTimeout(this._placeChanged.bind(this), 3500, {place, zoom, name});\n    this.mapCenter = place.point;\n    this.mapZoom = zoom;\n  }\n\n  public searchProperty(placeData): void {\n    this.searchPointData = placeData;\n  }\n\n  public async filtersUpdated(): Promise<void> {\n    /**\n     * This not good part of code\n     * prevent initial rerender of the map.\n     * Need to upgrade this part\n     * and make this by RxJs\n     */\n    ++this.mapManager.filtersUpdatedCounter;\n    if (this.mapManager.filtersUpdatedCounter < 3) return;\n    this.propertyRepository.clearCache();\n\n    this.clearRenderedMarkers();\n    await this.scheduler.sleep();\n\n    this.isFilterResponse = true;\n    this.fetchMarkers();\n  }\n\n  public propertiesFeatureCollectionUpdated(propertiesFeatureCollection: FeatureCollection): void {\n    this.propertiesFeatureCollection = null;\n    this.propertiesFeatureCollection = propertiesFeatureCollection;\n\n    this.renderAreas();\n  }\n\n  public clustersUpdated(clusters: MarkerClusterModel[]): void {\n    this.clusters.forEach((cluster, id) => {\n      if (clusters.find((item) => item.id === id) == null) {\n        cluster.unsubscribe((<any>window).google.maps);\n        cluster.hide();\n        this.clusters.delete(id);\n      }\n    });\n\n    clusters.forEach((cluster) => {\n      if (cluster.count) {\n        if (!this.clusters.has(cluster.id)) this.clusters.set(cluster.id, cluster);\n        else this.clusters.get(cluster.id).update(cluster);\n      } else {\n        if (this.clusters.has(cluster.id)) {\n          this.clusters.get(cluster.id).delete();\n          this.clusters.delete(cluster.id);\n        }\n      }\n    });\n\n    if (this.zoomOutInProgress) this.zoomOutResults();\n\n    this.renderObjectOnMap();\n  }\n\n  public handleMarkersChunk(\n    {\n      added = new Map<string, MarkerModel | FragmentModel>(),\n      updated = new Map<string, MarkerModel | FragmentModel>(),\n      removed = new Map<string, boolean>()\n    }: any\n  ): void {\n    added.forEach((marker: MarkerModel | FragmentModel, id: string) => {\n      if (this.markers.has(id)) this.markers.get(id).hide();\n\n      this.markers.set(id, marker);\n\n      if (this.activeMarkerId === id) this.activateMarker(marker, false);\n    });\n\n    if (this.zoomOutInProgress) this.zoomOutResults();\n    if (this.renderClustersTimeOut != null) clearTimeout(this.renderClustersTimeOut);\n    if (this.searchPointData) this.activateSearchProperty();\n    if (!isNullOrUndefined(this.activeFeature)) this.optimizeBounds();\n\n    this.renderClustersTimeOut = setTimeout(this.renderObjectOnMap.bind(this), this.zoomLevel === 'HIGH' ? 200 : 16);\n  }\n\n  public async optimizeBounds (): Promise<void> {\n    if (this.markers.size !== 0) {\n      this.activeFeature = null;\n      return;\n    }\n\n    const activeFeatureCoordinates: Array<Array<number>> = this.activeFeature.geometry.coordinates[0][0];\n    const activeFeatureBounds: google.maps.LatLngBounds = new google.maps.LatLngBounds();\n    let activeFeatureFragmentsRaw: Array<FragmentModel> = [];\n    let activeFeatureFragments: Array<FragmentModel> = [];\n    let responseFragments: PropertiesListResult = null;\n    let largestCluster: MarkerClusterModel = null;\n\n    for (let i = 0; i < activeFeatureCoordinates.length; i++) {\n      const [ lng, lat ] = activeFeatureCoordinates[i];\n      activeFeatureBounds.extend(new google.maps.LatLng(lat, lng));\n    }\n\n    responseFragments = await this.propertyRepository.getFragmentsList({\n      coordinates: this.getBoundsCoordinates(activeFeatureBounds),\n      zoom: this.mapZoom,\n      filterOptions: this.filterSettings,\n    });\n\n    activeFeatureFragmentsRaw = responseFragments.features.map(feature => new FragmentModel(feature));\n\n    activeFeatureFragments = activeFeatureFragmentsRaw.filter(activeFeatureFragmentRaw => {\n      const { Longitude, Latitude } = activeFeatureFragmentRaw;\n      const insidePolygon = this.checkPointInsidePolygon([Longitude, Latitude], activeFeatureCoordinates);\n      return insidePolygon;\n    });\n\n    largestCluster = this.getLargestLocalCluster(activeFeatureBounds, activeFeatureFragments);\n\n    this.googleMap.setCenter(largestCluster.position);\n\n    this.activeFeature = null;\n  }\n\n  public getLargestLocalCluster(bounds: google.maps.LatLngBounds, activeFeatureFragments: Array<FragmentModel>): MarkerClusterModel {\n    if (bounds == null) return;\n\n    const compiledLocalClusters: Map<string, MarkerClusterModel> = new Map<string, MarkerClusterModel>();\n\n    const center = bounds.getCenter();\n    const width = Math.abs(bounds.getNorthEast().lng() - bounds.getSouthWest().lng());\n    const height = Math.abs(bounds.getNorthEast().lat() - bounds.getSouthWest().lat());\n    const radiusAsDegree = Math.min(width, height) / 20;\n\n    const radius = this.mapsModule.geometry.spherical.computeDistanceBetween(\n      center,\n      new this.mapsModule.LatLng(center.lat() + radiusAsDegree, center.lng() + radiusAsDegree)\n    );\n\n    if (compiledLocalClusters.size === 0) {\n      const name = `${Date.now()}${Math.random()}`;\n      const coordinates = {coordinates: [center.lng().toFixed(2), center.lat().toFixed(2)]};\n      compiledLocalClusters.set(name, new MarkerClusterModel({properties: {\n        name,\n        count: 0,\n        radius,\n        coordinates,\n        isClientSideCalculatedCluster: true,\n      }}));\n    }\n\n    for (const fragment of activeFeatureFragments) {\n      if (!bounds.contains(new google.maps.LatLng(fragment.Latitude, fragment.Longitude))) continue;\n\n      let clusterAssigned = false;\n      for (const [clusterId, cluster] of Array.from(compiledLocalClusters)) {\n        if (bounds.contains(cluster.position) && cluster.appendMarker(fragment)) {\n          clusterAssigned = true;\n          break;\n        }\n      }\n      if (!clusterAssigned) {\n        const name = `${Date.now()}${Math.random()}`;\n        const coordinates = {coordinates: [fragment.position.lng, fragment.position.lat]};\n        const cluster = new MarkerClusterModel({properties: {\n          name,\n          count: 0,\n          radius,\n          coordinates,\n          isClientSideCalculatedCluster: true,\n        }});\n        cluster.markers.set(fragment.PropertyId, fragment);\n        compiledLocalClusters.set(cluster.id, cluster);\n      }\n    }\n\n    compiledLocalClusters.forEach((cluster, index) => {\n      if (cluster.markers.size < 1) return;\n\n      cluster.count = cluster.markers.size;\n    });\n\n    const largestLocalClusterArr = Array.from(compiledLocalClusters).reduce((prevCluster, currentCluster) => {\n      return (prevCluster[1].Count > currentCluster[1].Count) ? prevCluster : currentCluster;\n    });\n\n    return compiledLocalClusters.get(largestLocalClusterArr[0]);\n  }\n\n  public getBoundsCoordinates(bounds: google.maps.LatLngBounds): Coordinates {\n    const neBound = bounds.getNorthEast();\n    const swBound = bounds.getSouthWest();\n    return {\n      nwLatitude: neBound.lat(),\n      nwLongitude: swBound.lng(),\n      seLatitude: swBound.lat(),\n      seLongitude: neBound.lng()\n    };\n  }\n\n  public async activateSearchProperty () {\n    if (this.markers.size === 0) return;\n\n    const markersPoints: any = [];\n\n    this.markers.forEach((marker, id) => {\n      if (marker instanceof MarkerModel) {\n        markersPoints.push({id, street: marker.Street, houseNumber: marker.HouseNumber, lat: marker.Latitude, lng: marker.Longitude});\n      }\n    });\n\n    for (let i = 0; i < markersPoints.length; i++) {\n      markersPoints[i]['distance'] = this.calculateDistance(\n        this.searchPointData.placePoint['lat'],\n        this.searchPointData.placePoint['lng'],\n        markersPoints[i]['lat'],\n        markersPoints[i]['lng'],\n        'K');\n    }\n\n    markersPoints.sort(function(a, b) {\n      return a.distance - b.distance;\n    });\n\n    const pointStreet = String(this.searchPointData.address.street).slice(0, 1).toLowerCase();\n    const pointStreetNumber = String(this.searchPointData.address.streetNumber);\n\n    const searchProperty = markersPoints.find(markerPoint => {\n      return (\n        (String(markerPoint.street).slice(0, 1).toLowerCase() === pointStreet) &&\n        (String(markerPoint.houseNumber) === pointStreetNumber)\n      );\n    });\n\n    if (searchProperty) this.mapManagerService.setActivatedMarker(searchProperty.id);\n\n    this.searchPointData = null;\n  }\n\n  // search property by point and polygon\n  /*\n  public async activateSearchProperty () {\n    if (this.markers.size === 0) return;\n    const markersPoints: any = [];\n\n    this.markers.forEach((marker, id) => {\n      markersPoints.push({id, lat: marker.Latitude, lng: marker.Longitude});\n    });\n\n    const neareatMarkerPoint = this.closestLocation(this.searchPointData.placePoint, markersPoints);\n\n    const feature = this.getFeatureByMarker(neareatMarkerPoint.id);\n    const polygon = feature.geometry.coordinates[0];\n\n    const insidePolygon = this.checkPointInsidePolygon([this.searchPointData.placePoint.lng, this.searchPointData.placePoint.lat], polygon);\n\n    if (!insidePolygon) return;\n\n    this.mapManagerService.setActivatedMarker(neareatMarkerPoint.id);\n    this.mapManager.searchPropertyActivated(neareatMarkerPoint.id);\n\n    this.searchPointData = null;\n  }\n  */\n\n  public closestLocation(targetLocation: google.maps.LatLngLiteral, locationData: Array<google.maps.LatLngLiteral>) {\n    const vectorDistance = (dx, dy) => {\n      return Math.sqrt(dx * dx + dy * dy);\n    };\n\n    const locationDistance = (location1, location2) => {\n      const dx: number = location1.lat - location2.lat;\n      const dy: number = location1.lng - location2.lng;\n      return vectorDistance(dx, dy);\n    };\n\n    return locationData.reduce(function(prev, curr) {\n      const prevDistance: number = locationDistance(targetLocation , prev);\n      const currDistance: number = locationDistance(targetLocation , curr);\n      return (prevDistance < currDistance) ? prev : curr;\n    });\n  }\n\n  public checkPointInsidePolygon(point, polygon): boolean {\n    const x = point[0], y = point[1];\n\n    let inside = false;\n\n    for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n      const xi = polygon[i][0], yi = polygon[i][1];\n      const xj = polygon[j][0], yj = polygon[j][1];\n\n      const intersect = ((yi > y) !== (yj > y))\n        && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n      if (intersect) inside = !inside;\n    }\n\n    return inside;\n  }\n\n  public calculateDistance(lat1, lon1, lat2, lon2, unit) {\n    const radlat1 = Math.PI * lat1 / 180;\n    const radlat2 = Math.PI * lat2 / 180;\n    const radlon1 = Math.PI * lon1 / 180;\n    const radlon2 = Math.PI * lon2 / 180;\n    const theta = lon1 - lon2;\n    const radtheta = Math.PI * theta / 180;\n    let dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n    dist = Math.acos(dist);\n    dist = dist * 180 / Math.PI;\n    dist = dist * 60 * 1.1515;\n    if (unit === 'K') { dist = dist * 1.609344; }\n    if (unit === 'N') { dist = dist * 0.8684; }\n    return dist;\n  }\n\n  public async loadGoogleMapSDK(): Promise<void> {\n    await this.mapManager.loadGoogleMapSDK();\n    this.createMap((<any>window).google.maps);\n  }\n\n  public async createMap(mapsModule: any): Promise<void> {\n    const mapContainer = this.elementRef.nativeElement.querySelector('.map__wrapper');\n    const styledMapType = new mapsModule.StyledMapType(MAP_STYLED_TYPE, {name: 'Styled Map'});\n\n    this.mapsModule = mapsModule;\n\n    if (this.mapManager.hasSavedMapSettings('main')) {\n      const {\n        zoom,\n        mapTypeId,\n        center: {lat, lng},\n        activeMarkerId,\n        activeMarkerType,\n        needOpenDetailWindow\n      } = this.mapManager.getSavedMapSettings('main');\n      this.googleMapSettings.zoom = zoom;\n      this.googleMapSettings.mapTypeId = mapTypeId;\n      this.googleMapSettings.center.lat = lat;\n      this.googleMapSettings.center.lng = lng;\n      this.activeMarkerId = activeMarkerId;\n      this.activeMarkerType = activeMarkerType;\n      this.needOpenDetailWindow = needOpenDetailWindow;\n      this.mapManager.removeMapSettingsFromLS();\n    }\n    // Init Map\n    this.googleMap = new mapsModule.Map(mapContainer, this.googleMapSettings);\n    // Unloads for Event Loop\n    await this.scheduler.sleep();\n    // Style Map\n    this.googleMap.mapTypes.set('styled', styledMapType);\n    this.googleMap.setTilt(0);\n    this.autocompleteService.setInstance(google, this.googleMap);\n    this.initMapListeners();\n    this.updateZoom();\n    this.geocoder = new google.maps.Geocoder();\n  }\n\n  public initMapListeners(): void {\n    this.mapListeners.push(\n      this.googleMap.addListener('idle', this.mapBoundsChanged),\n      this.googleMap.addListener('zoom_changed', this.mapZoomChanged.bind(this)),\n      this.googleMap.addListener('click', this.mapClicked.bind(this)),\n      this.googleMap.data.addListener('click', this.featureClickHandler.bind(this)),\n      this.googleMap.data.addListener('mouseover', this.featureMouseOverHandler.bind(this)),\n      this.googleMap.data.addListener('mouseout', this.featureMouseOutHandler.bind(this))\n    );\n\n    this.fetchMarkers();\n  }\n\n  public featureMouseOverHandler(event: google.maps.Data.MouseEvent): void {\n    const marker = this.getMarkerByFeature(event.feature);\n    if (!marker) return;\n    marker.isHovered = true;\n    this.googleMap.data.overrideStyle(event.feature, marker.style);\n  }\n\n  public featureMouseOutHandler(event: google.maps.Data.MouseEvent): void {\n    const marker = this.getMarkerByFeature(event.feature);\n    if (!marker) return;\n    marker.isHovered = false;\n    this.googleMap.data.overrideStyle(event.feature, marker.style);\n  }\n\n  public featureClickHandler(event: google.maps.Data.MouseEvent): void {\n    const marker = this.getMarkerByFeature(event.feature);\n    if (!marker) return;\n    if (marker instanceof MarkerClusterModel ) this.clusterClicked(marker);\n    if (marker instanceof MarkerModel || marker instanceof FragmentModel) this.activateMarker(marker);\n  }\n\n  public mapClicked(event: any): void {\n    this.deactivateActiveMarker();\n    this.mapClick.emit(event);\n  }\n\n  public mapBoundsChanged(): void {\n    if (this.zoomLevelChanged) this.clearMap();\n\n    this.checkGeocodeLatLng();\n    this.mapUpdated();\n\n    this.isFilterResponse = false;\n\n    this.fetchMarkers();\n\n    this.localStorage.setItem('coordinates', JSON.stringify(this.mapBounds));\n\n    this.mapFilter.coordinatesStreamNext({coordinates: this.mapBounds, zoom: this.mapZoom});\n  }\n\n  public checkGeocodeLatLng(): void {\n    if (this.geocoder !== null) {\n      const mapCenter = this.googleMap.getCenter();\n      const mapCenterCoordinates = {lat: mapCenter.lat(), lng: mapCenter.lng()};\n      const geocodeRequest = {location: mapCenterCoordinates};\n      this.geocoder.geocode(geocodeRequest, (results, status) => {\n        const result = results ? results[0] : null;\n        if (status === google.maps.GeocoderStatus.OK && result) {\n          this.city = getSupportedCity(result.formatted_address);\n        }\n      });\n    } else {\n      this.city = '';\n    }\n  }\n\n  public mapUpdated(): void {\n    if (this.firstMapUpdate) {\n      this.firstMapUpdate = false;\n    } else {\n      this.mapManager.closeHeader();\n    }\n  }\n\n  public fetchMarkers(): void {\n    if (this.googleMap == null) return;\n    try {\n      const options = this.mapManager.getOptionsForMarkersRequest(this.mapBounds, this.mapZoom);\n      this._fetchMarkers(options);\n    } catch (error) {\n      this.logger.error('MapComponent::fetchMarkers:error', error);\n    }\n  }\n\n  public incMapZoom(): void {\n    if (!this.getMapZoomHigh) return;\n    ++this.mapZoom;\n  }\n\n  public decMapZoom(): void {\n    if (!this.getMapZoomLow) return;\n    --this.mapZoom;\n  }\n\n  public renderObjectOnMap(): void {\n    if (this.zoomLevel === 'HIGH') {\n      if (this.markers.size === 0) this.deactivateActiveMarker();\n      this.renderMarkers();\n    } else if (this.zoomLevel === 'BELOW_NEIGHBOURHOOD') {\n      this.deactivateActiveMarker();\n      this.renderMarkers();\n    } else {\n      this.deactivateActiveMarker();\n      this.renderClusters();\n    }\n    this.zoomChanged = false;\n  }\n\n  public clearMap(): void {\n    this.clearRenderedMarkers();\n    this.clearRenderedClusters();\n  }\n\n  public renderMarkers(): void {\n    if (!this.mapsModule) {\n      setTimeout(this.renderMarkers.bind(this), 200);\n      return;\n    }\n\n    this.markers.forEach(this.renderMarker.bind(this));\n  }\n\n  public renderAreas(): void {\n    if (!this.googleMap) return;\n    if (!this.propertiesFeatureCollection) {\n      setTimeout(this.renderAreas.bind(this), 200);\n      return;\n    }\n\n    this.clearFeatures();\n    this.propertiesFeatures = this.googleMap.data.addGeoJson(this.propertiesFeatureCollection);\n    this.updateAreaStyles();\n  }\n\n  public getAreaStyle(feature: google.maps.Data.Feature): IStyle | {visible: boolean} {\n    let areaStyle = null;\n    const marker = this.getMarkerByFeature(feature);\n    if (marker) areaStyle = marker.style;\n    else areaStyle = {visible: false};\n    return areaStyle;\n  }\n\n  public renderMarker(marker: MarkerModel | FragmentModel): void {\n    marker.renderIfNeed(this.mapsModule, this.googleMap);\n    // @FIXME: test for cashing markers\n    // this.pointInBound(marker.position) ? marker.show() : marker.hide();\n    // if (this.pointInBound(marker.position)) marker.show();\n    if ([14, 15, 16, 17, 18].includes(this.mapZoom) && marker instanceof MarkerModel) marker.hide();\n    if (marker.id === this.activeMarkerId) marker.activate();\n    if (this.activeMarkerType === 'ETW' && marker instanceof MarkerModel && marker.ApartmentsPropertyIds.includes(this.activeMarkerId)) {\n      marker.activate();\n    }\n    marker.subscribe('click', () => this.activateMarker(marker), 'mapComponent::activateMarker');\n  }\n\n  public compileClusters(): void {\n    const bounds = this.googleMap.getBounds();\n    if (bounds == null) return;\n    if (this.zoomChanged) this.clearRenderedClusters();\n    else\n      this.compiledClusters.forEach((cluster, index) => {\n        cluster.count = 0;\n        cluster.markers = new Map<string, MarkerModel>();\n      });\n    const center = this.googleMap.getCenter();\n    const width = Math.abs(bounds.getNorthEast().lng() - bounds.getSouthWest().lng());\n    const height = Math.abs(bounds.getNorthEast().lat() - bounds.getSouthWest().lat());\n    const radiusAsDegree = Math.min(width, height) / 10;\n    const radius = this.mapsModule.geometry.spherical.computeDistanceBetween(\n      center,\n      new this.mapsModule.LatLng(center.lat() + radiusAsDegree, center.lng() + radiusAsDegree)\n    );\n\n    if (this.compiledClusters.size === 0) {\n      const name = `${Date.now()}${Math.random()}`;\n      this.compiledClusters.set(name, new MarkerClusterModel({\n        name,\n        count: 0,\n        coordinates: [center.lng().toFixed(2), center.lat().toFixed(2)],\n        isClientSideCalculatedCluster: true,\n      }));\n    }\n\n    for (const [markerId, marker] of Array.from(this.markers)) {\n      if (!this.pointInBound(marker.position) || marker.isPropertyOfTypeMFH) continue;\n      let clusterAssigned = false;\n      for (const [clusterId, cluster] of Array.from(this.compiledClusters)) {\n        if (this.pointInBound(cluster.position) && cluster.appendMarker(marker)) {\n          clusterAssigned = true;\n          break;\n        }\n      }\n      if (!clusterAssigned) {\n        const cluster = new MarkerClusterModel({\n          name: `${Date.now()}${Math.random()}`,\n          count: 0,\n          radius: radius,\n          coordinates: [marker.position.lng, marker.position.lat],\n          isClientSideCalculatedCluster: true,\n        });\n        cluster.markers.set(markerId, marker);\n        this.compiledClusters.set(cluster.id, cluster);\n      }\n    }\n\n    this.compiledClusters.forEach((cluster, index) => {\n      if (cluster.markers.size < 1) return;\n      cluster.count = cluster.markers.size;\n    });\n  }\n\n  public renderClusters(): void {\n    if (!this.mapsModule) {\n      setTimeout(this.renderClusters.bind(this), 200);\n      return;\n    }\n\n    this.clusters.forEach((cluster: MarkerClusterModel) => {\n      cluster.renderIfNeed(this.mapsModule, this.googleMap);\n      cluster.show();\n      cluster.subscribe('click', () => this.clusterClicked(cluster), 'mapComponent::clusterClicked');\n      cluster.subscribe('mouseover', () => this.clusterMouseOverHandler(cluster), 'mapComponent::clusterOverIn');\n      cluster.subscribe('mouseout', () => this.clusterMouseOutHandler(cluster), 'mapComponent::clusterOutOf');\n      cluster.markerSatellite\n        .subscribe('click', () => this.clusterClicked(cluster), 'mapComponent::clusterClicked');\n      cluster.markerSatellite\n        .subscribe('mouseover', () => this.clusterMouseOverHandler(cluster), 'mapComponent::clusterOverIn');\n      cluster.markerSatellite\n        .subscribe('mouseout', () => this.clusterMouseOutHandler(cluster), 'mapComponent::clusterOutOf');\n    });\n  }\n\n  public renderCompiledClusters(): void {\n    this.compiledClusters.forEach((cluster: MarkerClusterModel) => {\n      if (this.pointInBound(cluster.position) && cluster.count > 0) {\n        cluster.renderIfNeed(this.mapsModule, this.googleMap);\n        cluster.show();\n      } else {\n        cluster.hide();\n      }\n      cluster.subscribe('click', this.clusterClicked.bind(this, cluster), 'mapComponent::clusterClicked');\n    });\n  }\n\n  public activateMarker(marker: MarkerModel | FragmentModel, addToHistory: boolean = true): void {\n    if (this.activeMarker === marker) return;\n    if (this.activeMarker != null && this.activeMarker instanceof MarkerModel && marker instanceof MarkerModel) {\n      if (marker.building != null) {\n        this.activeBuilding = marker.building;\n        this.activeBuilding.activate();\n      } else if (this.activeMarker.ApartmentsPropertyIds.includes(marker.id)) {\n        marker.building = this.activeBuilding = this.activeMarker;\n      } else if (this.activeBuilding != null && this.activeBuilding.ApartmentsPropertyIds.includes(marker.id)) {\n        this.activeMarker.deactivate();\n      } else {\n        if (this.activeBuilding != null) {\n          this.activeBuilding.deactivate();\n          this.activeBuilding = null;\n        }\n        this.activeMarker.deactivate();\n      }\n      if (addToHistory) this.showedMarkersHistory.push(this.activeMarker);\n    }\n\n    if (marker instanceof MarkerModel) {\n      this.activeMarker = marker;\n      this.activeMarkerId = marker.id;\n      this.activeMarker.activate();\n    }\n\n    this.mapCenter = {lat: marker.position.lat + 0.00013, lng: marker.position.lng};\n    if (this.zoomLevel !== 'HIGH') this.mapZoom = ZOOM_CONSTANTS.LEVELS.HIGH.DOWN_EDGE + 2;\n\n    this.updateAreaStyles();\n  }\n\n  public clusterClicked(cluster: MarkerClusterModel): void {\n    if (ZOOM_CONSTANTS.LEVELS[this.zoomLevel].NEXT_UP === 'HIGH' && isLargeScreen()) {\n      this.mapZoom = ZOOM_CONSTANTS.LEVELS[ZOOM_CONSTANTS.LEVELS[this.zoomLevel].NEXT_UP].DOWN_EDGE + 2;\n    } else {\n      this.mapZoom = ZOOM_CONSTANTS.LEVELS[ZOOM_CONSTANTS.LEVELS[this.zoomLevel].NEXT_UP].DOWN_EDGE + 2;\n    }\n    this.mapCenter = cluster.position;\n    this.activeFeature = this.getFeatureByCluster(cluster);\n  }\n\n  public clusterMouseOverHandler(cluster: MarkerClusterModel): void {\n    if (!cluster) return;\n    let feature: google.maps.Data.Feature;\n\n    cluster.isHovered = true;\n    this.googleMap.data.forEach(dataFeature => {\n      if (dataFeature.getProperty('name') === cluster.Name) feature = dataFeature;\n    });\n\n    this.googleMap.data.overrideStyle(feature, cluster.style);\n  }\n\n  public clusterMouseOutHandler(cluster: MarkerClusterModel): void {\n    if (!cluster) return;\n    let feature: google.maps.Data.Feature;\n\n    cluster.isHovered = false;\n    this.googleMap.data.forEach(dataFeature => {\n      if (dataFeature.getProperty('name') === cluster.Name) feature = dataFeature;\n    });\n    this.googleMap.data.overrideStyle(feature, cluster.style);\n  }\n\n  public mapZoomChanged(): void {\n    /**\n     * Task from Julia. Disable 16x zoom.\n     */\n    if (this.mapZoom === 16) {\n      if (this.currentZoom <= 15) setTimeout(_ => ++this.mapZoom, 0);\n      else setTimeout(_ => --this.mapZoom, 0);\n\n      return;\n    }\n\n    this.updateZoom();\n\n    if (calculateZoomLevel(this.oldZoom) === 'HIGH' && calculateZoomLevel(this.mapZoom) !== 'HIGH') this.deactivateActiveMarker();\n    if (this.zoomLevelChanged) this.clearMap();\n    this.updateMapType();\n    this.zoomChanged = true;\n  }\n\n  public updateZoom(): void {\n    this.oldZoom = this.currentZoom;\n    this.currentZoom = this.mapZoom;\n    this.checkGeocodeLatLng();\n  }\n\n  public updateMapType(): void {\n    if (['HIGH'].includes(this.zoomLevel)) {\n      this.isFancyWindowShown = true;\n      if (this.googleMap.getMapTypeId() !== AVAILABLE_MAP_TYPES.HYBRID) {\n        this.googleMap.setMapTypeId(AVAILABLE_MAP_TYPES.HYBRID);\n      }\n    } else {\n      this.isFancyWindowShown = false;\n      if (this.fancyInfoWindow) this.fancyInfoWindow._hide();\n      if (this.googleMap.getMapTypeId() !== AVAILABLE_MAP_TYPES.STYLED) {\n        this.googleMap.setMapTypeId(AVAILABLE_MAP_TYPES.STYLED);\n      }\n    }\n  }\n\n  public showSearch(): void {\n    if (isMobileDevice()) window.scroll(0, 0);\n\n    this.mapManager.toggleSearchBar();\n    this.deactivateActiveMarker();\n  }\n\n  public infoWindowIsOpenChanged(isOpen: boolean): void {\n    if (this.infoWindowIsOpen === isOpen) return;\n    this.infoWindowIsOpen = isOpen;\n    this.changeDetectorRef.detectChanges();\n  }\n\n  public onInfoWindowClick(propertyId: string): void {\n    this.infoWindowClick.emit(propertyId);\n  }\n\n  public onHintSuccess({ point }: Place): void {\n    this.mapCenter = point;\n  }\n\n  public onHintCancel(): void {\n    this.showHintboxNoMarkers = false;\n  }\n\n  public prevMarker(): void {\n    if (this.showedMarkersHistory.length > 0) {\n      const prevMarker = this.showedMarkersHistory.pop();\n      this.activateMarker(prevMarker, false);\n    }\n  }\n\n  public nextMarker(): void {\n    const nextMarker = this.getClosestMarker(this.activeMarker);\n    this.activateMarker(nextMarker, true);\n    if (this.showedMarkersHistory.length > 20) this.showedMarkersHistory.shift();\n  }\n}\n","<div [attr.class]=\"{block: _name, element: 'content'} | bem\">\n  <div [attr.class]=\"{block: _name, element: 'sad-face'} | bem\"></div>\n\n  <div [attr.class]=\"{block: _name, element: 'title'} | bem\">KEINE ERGEBNISSE!</div>\n\n  <div [attr.class]=\"{block: _name, element: 'text'} | bem\">\n    In dieser Gegend gibt es leider keine Immobilien zu deinen Suchkriterien. Zoome raus, um den Such-Radius zu vergrößern. Oder passe Deine Suchkriterien an!\n  </div>\n\n  <button\n    app-button\n    color=\"primary-green\"\n    size=\"medium\"\n    [stretch]=\"true\"\n    [disabled]=\"isMinimumZoomLevel\"\n    (click)=\"zoomOut()\"\n  >\n    Rauszoomen\n  </button>\n  <div [attr.class]=\"{block: _name, element: 'button-wrapper'} | bem\">\n    <button\n      app-button\n      color=\"secondary-green\"\n      size=\"medium\"\n      [stretch]=\"true\"\n      (click)=\"goToFilter()\"\n    >\n      Filter ändern\n  </button>\n  </div>\n</div>\n","import {\n  Component,\n  Input, Output,\n  EventEmitter\n} from '@angular/core';\n\nimport { MapFilterService } from '../../../../core/services/map-filter.service';\nimport { PropertiesRepositoryService } from '../../../../core/services/properties-repository.service';\n\nimport { ZOOM_CONSTANTS } from '../../../../main/main.constants';\n\n@Component({\n  selector: 'app-hint-no-markers',\n  templateUrl: './no-markers-hint.component.html',\n  styleUrls: ['./no-markers-hint.component.css']\n})\n\nexport class HintNoMarkersComponent {\n\n  @Input() noMarkersInBound: boolean = false;\n  @Input() zoom: number = ZOOM_CONSTANTS.MINIMUM_ZOOM.value;\n\n  @Output() close = new EventEmitter<boolean>();\n\n  public _name: string = 'hint-no-markers';\n\n  public get isMinimumZoomLevel(): boolean {\n    return this.zoom === ZOOM_CONSTANTS.MINIMUM_ZOOM.value;\n  }\n\n  constructor(\n    private propertyRepositoryService: PropertiesRepositoryService,\n    public mapFilterService: MapFilterService\n   ) { }\n\n  public zoomOut(): void {\n    this.propertyRepositoryService.clearCache();\n    this.mapFilterService.setZoomOutForResults(true);\n  }\n\n  public goToFilter(): void {\n    this.mapFilterService.toggleFiltersShown(true);\n    this.close.emit(true);\n  }\n}\n","<section [attr.class]=\"{block: _name, element: 'modal-block'} | bem\">\n  <!-- Common container for every step -->\n  <div\n    [attr.class]=\"{\n      block: _name,\n      element: 'modal-container',\n      mods: {'visible': !woandersAreChosen}\n    } | bem\"\n  >\n    <header [attr.class]=\"{block: _name, element: 'modal-header'} | bem\">\n      <div [attr.class]=\"{block: _name, element: 'modal-header-part', mods: {'side': 'left'}} | bem\">\n        Schritt {{model.step}} von {{destinationCount}}\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'modal-header-part', mods: {'side': 'right'}} | bem\">\n        <div\n          [attr.class]=\"{block: _name, element: 'header-close-modal'} | bem\"\n          (click)=\"closeButtonClickHandler()\"\n        >\n          &times;\n        </div>\n      </div>\n    </header>\n\n    <div [attr.class]=\"{block: _name, element: 'content-wrapper'} | bem\">\n      <article [attr.class]=\"{block: _name, element: 'content-block', mods: {visible: model.step === 1}} | bem\">\n        <header [attr.class]=\"{block: _name, element: 'header'} | bem\">\n          <div [attr.class]=\"{block: _name, element: 'text'} | bem\">\n            Wo willst du starten?\n          </div>\n        </header>\n        <div [attr.class]=\"{block: _name, element: 'content'} | bem\">\n          <div\n            *ngIf=\"model.searchOptions.length !== 0\"\n            [attr.class]=\"{block: _name, element: 'options-wrapper'} | bem\"\n          >\n            <div\n              *ngFor=\"let option of model.searchOptions; let i = index\"\n              [attr.class]=\"{\n                block: _name,\n                element: 'option',\n                mods: {'state': option.selected? 'active':'default'}\n              } | bem\"\n              (click)=\"onOptionClickHandler(i)\"\n            >\n              {{option.value}}\n            </div>\n          </div>\n        </div>\n      </article>\n\n      <article [attr.class]=\"{block: _name, element: 'content-block', mods: {visible: model.step === 2}} | bem\">\n        <header [attr.class]=\"{block: _name, element: 'header'} | bem\">\n          <div [attr.class]=\"{block: _name, element: 'text'} | bem\">\n            Was willst du machen?\n          </div>\n        </header>\n        <div [attr.class]=\"{block: _name, element: 'content'} | bem\">\n          <div\n            *ngIf=\"model.preferredActions.length !== 0\"\n            [attr.class]=\"{block: _name, element: 'selection-wrapper'} | bem\"\n          >\n            <div\n              *ngFor=\"let option of model.preferredActions; let i = index\"\n              [attr.class]=\"{block: _name, element: 'selection-item'} | bem\"\n            >\n              <div\n                [attr.class]=\"{\n                  block: _name,\n                  element: 'selection-button',\n                  mods: {'state': option.selected? 'active':'default'}\n                } | bem\"\n                (click)=\"onActionClickHandler(i)\"\n              >\n                <span [attr.class]=\"{block: _name, element: 'check-mark'} | bem\">\n                </span>\n              </div>\n              <div [attr.class]=\"{block: _name, element: 'selection-text'} | bem\">\n                {{option.value}}\n              </div>\n            </div>\n          </div>\n        </div>\n      </article>\n\n      <article [attr.class]=\"{block: _name, element: 'content-block', mods: {visible: model.step === 3}} | bem\">\n        <header [attr.class]=\"{block: _name, element: 'header'} | bem\">\n          <div [attr.class]=\"{block: _name, element: 'text'} | bem\">\n            Wie lautet die adresse deiner immobilie?\n          </div>\n        </header>\n\n        <div [attr.class]=\"{block: _name, element: 'content'} | bem\">\n          <div\n            [attr.class]=\"{block: _name, element: 'search-block'} | bem\"\n          >\n            <app-search-bar\n              placeholderValue={{placeHolderValue}}\n              (placeChanged)=\"handleChangedPlace($event)\"\n              typeOfSearch='withoutGoToMap'\n              page='onboarding-process'\n              source=\"headerPage\"\n              [page]=\"_name\"\n            ></app-search-bar>\n          </div>\n          <div\n            [attr.class]=\"{block: _name, element: 'link-map-search'} | bem\"\n            (click)=\"goToEstateAnd('search')\"\n          >\n            Adresse auf Karte finden\n            <span [attr.class]=\"{block: _name, element: 'link-arrow'} | bem\">\n            </span>\n          </div>\n        </div>\n      </article>\n\n      <div\n        [attr.class]=\"{\n          block: _name,\n          element: 'navigation-container',\n          mods: {\n          'margin-top': model.step === 2? '32px': 'default',\n          'margin':  model.step === 3? '46px': 'default'\n          }\n        } | bem\"\n      >\n        <div [attr.class]=\"{block: _name, element: 'navigation', mods: {'side': 'left'}} | bem\">\n          <div\n            [attr.class]=\"{block: _name, element: 'step-back', mods: {'hidden': model.step === 1}} | bem\"\n            (click)=\"moveStepBack()\"\n          >\n            Zurück\n          </div>\n        </div>\n        <div [attr.class]=\"{block: _name, element: 'navigation', mods: {'side': 'right'}} | bem\">\n          <div\n            [attr.class]=\"{block: _name, element: 'step-forward', mods: {'disabled': nextStepIsDisabled}} | bem\"\n            (click)=\"moveStepForward()\"\n          >\n            Weiter\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n\n\n\n  <!-- Container for second step after choosing Woanders -->\n  <div\n    [attr.class]=\"{\n      block: _name,\n      element: 'modal-container',\n      mods: {\n        'visible': woandersAreChosen,\n        'woanders': 'mode'\n      }\n    } | bem\"\n  >\n    <header [attr.class]=\"{block: _name, element: 'modal-header'} | bem\">\n      <div [attr.class]=\"{block: _name, element: 'modal-header-part', mods: {'side': 'left'}} | bem\">\n        <div [attr.class]=\"{block: _name, element: 'wrong-choise-icon'} | bem\">\n        </div>\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'modal-header-part', mods: {'side': 'right', 'margin': '0'}} | bem\">\n        <div\n          [attr.class]=\"{block: _name, element: 'header-close-modal'} | bem\"\n          (click)=\"closeButtonClickHandler()\"\n        >\n          &times;\n        </div>\n      </div>\n    </header>\n\n    <div [attr.class]=\"{block: _name, element: 'content-wrapper', mods: {'woanders': 'mode'}} | bem\">\n      <article [attr.class]=\"{block: _name, element: 'content-block'} | bem\">\n        <header [attr.class]=\"{block: _name, element: 'header'} | bem\">\n          <div [attr.class]=\"{block: _name, element: 'header-text'} | bem\">\n            Leider gibt es uns derzeit nur in Köln und Nürnberg.\n          </div>\n          <div [attr.class]=\"{block: _name, element: 'header-text'} | bem\">\n            Möchtest du eine Benachrichitung erhalten wenn wir auch in deiner Umgebung zur Verfügung stehen?\n          </div>\n        </header>\n        <div\n          [formGroup]=\"notifyMeForm\"\n          [attr.class]=\"{block: _name, element: 'content', mods: {'woanders': 'mode'}} | bem\"\n        >\n          <label\n            [attr.class]=\"{\n              block: _name,\n              element: 'label',\n              mods: {'error-input-block': email.invalid && email.touched && email.dirty}\n            } | bem\"\n          >\n            <span [attr.class]=\"{block: _name, element: 'label-title'} | bem\">\n              E-Mail-Adresse\n            </span>\n            <input\n              #emailInput\n              type=\"email\"\n              appValidateOnBlur\n              [validateFormControl]=\"email\"\n              [attr.class]=\"{\n                block: _name,\n                element: 'input',\n                mods: {\n                  'state' : email.valid\n                            ? 'complete'\n                            : (email.invalid && email.touched && email.dirty)\n                              ? 'error':'default'\n                }\n              } | bem\"\n              formControlName=\"email\"\n              pattern=\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\"\n              [(ngModel)]=\"user.email\"\n              (input)=\"checkNotifyFormState()\"\n              required\n            />\n            <div\n              [attr.class]=\"{\n                block: _name,\n                element: 'error-wrapper',\n                mods: {\n                  'visible' : email.invalid && email.dirty && email.touched\n                }\n              } | bem\"\n            >\n              <div\n                *ngIf=\"email.errors && email.errors.required\"\n                [attr.class]=\"{block: _name, element: 'message'} | bem\"\n              >\n                Bitte eine Emailaddresse eingeben\n              </div>\n              <div\n                *ngIf=\"email.errors && (email.errors.email || email.errors.pattern) && !email.errors.required\"\n                [attr.class]=\"{block: _name, element: 'message'} | bem\"\n              >\n                Falsche E-Mail-Adresse\n              </div>\n            </div>\n          </label>\n\n          <label\n            [attr.class]=\"{\n              block: _name,\n              element: 'label',\n              mods: {'error-input-block': zip.invalid && (zip.touched || zip.dirty)}\n            } | bem\"\n          >\n            <span [attr.class]=\"{block: _name, element: 'label-title'} | bem\">\n              PLZ\n            </span>\n            <input\n              #zipInput\n              type=\"text\"\n              [attr.class]=\"{\n                block: _name,\n                element: 'input',\n                mods: {\n                  'state' : zip.valid\n                            ? 'complete'\n                            : (zip.invalid && (zip.touched || zip.dirty))\n                              ? 'error': 'default'\n                }\n              } | bem\"\n              [(ngModel)]=\"user.zip\"\n              [ngClass]=\"{'onboarding-process__input--filled': zip.value}\"\n              pattern=\"[0-9]{5}\"\n              maxlength=\"5\"\n              formControlName=\"zip\"\n              (input)=\"checkNotifyFormState()\"\n              required\n            />\n            <div\n              [attr.class]=\"{\n                block: _name,\n                element: 'error-wrapper',\n                mods: {\n                  'visible' : zip.invalid && (zip.dirty || zip.touched)\n                }\n              } | bem\"\n            >\n              <div\n                *ngIf=\"zip.errors && zip.errors.required\"\n                [attr.class]=\"{block: _name, element: 'message'} | bem\"\n              >\n                Bitte eine PLZ eingeben\n              </div>\n              <div\n                *ngIf=\"zip.errors && zip.errors.pattern && !zip.errors.required\"\n                [attr.class]=\"{block: _name, element: 'message'} | bem\"\n              >\n                Falsche PLZ\n              </div>\n            </div>\n          </label>\n        </div>\n      </article>\n    </div>\n\n    <div [attr.class]=\"{block: _name, element: 'navigation-container', mods: {'padding-top': '0'}} | bem\">\n      <div [attr.class]=\"{block: _name, element: 'navigation', mods: {'side': 'left', 'hidden': 'on-mobile'}} | bem\">\n        <div\n          [attr.class]=\"{block: _name, element: 'step-back'} | bem\"\n          (click)=\"jumpToStart()\"\n        >\n          Zurück\n        </div>\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'navigation', mods: {'side': 'right'}} | bem\">\n        <div\n          [attr.class]=\"{block: _name, element: 'notify-me', mods: {'disabled': disableNotifyingButton}} | bem\"\n          (click)=\"notifyMeClickHandler()\"\n        >\n          Benachrichtige mich\n        </div>\n      </div>\n    </div>\n\n  </div>\n</section>\n","import { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { DialogComponent, DialogService } from 'ng2-bootstrap-modal';\n\nimport { OpenModalService } from '../../../../core/services/open-modal.service';\nimport { MapManagerService } from '../../../../core/services/map-manager.service';\n\nimport { isSmallMobileDevice } from '../../../../shared/utils/responsive.util';\nimport { Place } from '../../../../core/models/location.model';\nimport { PLACE_TYPES } from '../../../../main/main.constants';\nimport { AnalyticsService } from '../../../../core/services/analytics/analytics.service';\n\ninterface INotifyUser {\n  email: string;\n  zip: string;\n}\n\ninterface IOption {\n  key:      string;\n  value:    string;\n  selected: boolean;\n  place?:   Place;\n}\n\ninterface IModel {\n  searchOptions:    Array<IOption>;\n  preferredActions: Array<IOption>;\n  step:             number;\n  hideModal:        boolean;\n  mapZoom:          number;\n  mapType:          'hybrid'|'styled';\n}\n\ninterface OnboardingProcessModel {\n  notification: string;\n}\n\ntype SaveSettingsOption = 'start'|'see-details'|'search'|'notify-me';\n\n@Component({\n  selector: 'app-onboarding-process',\n  templateUrl: './onboarding-process.component.html',\n  styleUrls: ['./onboarding-process.component.css'],\n})\n\nexport class OnboardingProcessComponent\n  extends DialogComponent <OnboardingProcessModel, string>\n  implements OnboardingProcessModel {\n\n  private isSmallMobileDevice: boolean = isSmallMobileDevice();\n\n  private keyToSaveToLS: string = 'preferredOptions';\n  private disableNotifyMeButton: boolean = true;\n\n  private place: Place = {\n    placeType: PLACE_TYPES.LOCALITY,\n    point: {                   // Cologne is a default place to start\n      lat: 50.93784385154836,\n      lng: 6.953931101932653,\n    },\n  };\n\n  public notification: string = '';\n  public _name: string = 'onboarding-process';\n\n  public searchControl: FormControl;\n  public destinationCount: number = 3;\n  public woandersAreChosen: boolean = false;\n\n  public notifyMeForm: FormGroup;\n  public user: INotifyUser = null;\n  public placeHolderValue: string = 'Suche nach deiner Adresse';\n\n  public model: IModel = {\n    searchOptions: [\n      {\n        key: 'cologne',\n        value: 'Köln und Umgebung',\n        selected: false,\n        place: {\n          placeType: PLACE_TYPES.LOCALITY,\n          point: {\n            lat: 50.93784385154836,\n            lng: 6.953931101932653,\n          },\n        },\n      },\n      {\n        key: 'nuremberg',\n        value: 'Nürnberg und Umgebung',\n        selected: false,\n        place: {\n          placeType: PLACE_TYPES.LOCALITY,\n          point: {\n            lat: 49.44722602965892,\n            lng: 11.056038995988501,\n          },\n        },\n      },\n      {\n        key: 'other',\n        value: 'Woanders in Deutschland',\n        selected: false,\n        place: {\n          placeType: PLACE_TYPES.LOCALITY,\n          point: {\n            lat: 50.93784385154836,   // althought \"Somewhere else\" was chosen,\n            lng: 6.953931101932653,   // Cologne is a default place to start\n          },\n        },\n      },\n    ],\n    preferredActions: [\n      {\n        key: 'kaufen',\n        value: 'Eine Immobilie kaufen',\n        selected: false,\n      },\n      {\n        key: 'sehen',\n        value: 'Mein Eigentum sehen',\n        selected: false,\n      },\n      {\n        key: 'stoebern',\n        value: 'Stöbern',\n        selected: false,\n      },\n    ],\n    step: 1,\n    hideModal: false,\n    mapZoom: 19,        // default, small scale\n    mapType: 'hybrid',\n  };\n\n  public get nextStepIsDisabled(): boolean {\n    let array: Array<any> = [];\n    let anySelected: Array<any> = [];\n    let result: boolean = false;\n\n    if (this.model.step === 1) array = this.model.searchOptions;\n    if (this.model.step === 2) array = this.model.preferredActions;\n\n    anySelected = array.filter(item => item.selected);\n    result = anySelected.length === 0;\n\n    if (this.model.step === 3) result = false;\n    if (this.model.step === 2 && this.woandersAreChosen) result = false;\n\n    return result;\n  }\n\n  public get email() {\n    return this.notifyMeForm.get('email');\n  }\n\n  public get zip() {\n    return this.notifyMeForm.get('zip');\n  }\n\n  public get disableNotifyingButton(): boolean {\n    return this.disableNotifyMeButton;\n  }\n\n  private _getPreferredOptionsFromLS(): any {\n    try {\n      return JSON.parse(localStorage.getItem(this.keyToSaveToLS)) || {};\n    } catch (error) {\n      return {};\n    }\n  }\n\n  private _getChosenCity(): any {\n    const savedSettings = this._getPreferredOptionsFromLS();\n    const place = (savedSettings.searchOptions != null)\n                ? savedSettings.searchOptions.filter(item => item.selected)[0]\n                : savedSettings.searchOptions.filter(item => item.key === 'other')[0];\n    return place;\n  }\n\n  private _setChosenCity(city: Place): void {\n    const defaultChoise = this.model.searchOptions.filter(item => item.key === 'other')[0];\n    this.place = (city != null) ? city : defaultChoise.place;\n  }\n\n  private _savePrefferedOptionsInLS(): void {\n    localStorage.setItem(this.keyToSaveToLS, JSON.stringify(this.model));\n  }\n\n  private _setZoomScaleTo(zoom: 'small'|'large'): void {\n    let scale: number;\n    let mapType: 'hybrid'|'styled';\n\n    if (zoom === 'small') {\n      scale = 19;\n      mapType = 'hybrid';\n    } else if (zoom === 'large') {\n      scale = 12;\n      mapType = 'styled';\n    }\n\n    this.model.mapZoom = scale;\n    this.model.mapType = mapType;\n  }\n\n  private _clearItemsStatus(array: any[]): void {\n    array.forEach((part, index, theArray) => {\n      theArray[index].selected = false;\n    });\n  }\n\n  private _saveCityMapSettings(): void {\n    const chosenLocation: Place = (this.place != null)\n                                ? this.place\n                                : this._getChosenCity().place;\n\n    this.place = chosenLocation;\n\n    const mapSetting = {\n      zoom:       this.model.mapZoom,\n      mapTypeId:  this.model.mapType,\n      center:     chosenLocation.point,\n      activeMarkerId:       '',            // empty marker for start position\n      activeMarkerType:     null,\n      needOpenDetailWindow: true,\n      needMakeMeOwner:      false,\n    };\n\n    this.mapManager.saveMapSettings('main', mapSetting);\n  }\n\n  private _saveAllSettingsWith(action: 'see-immovables'|'search'): void {\n    if (action === 'search')          this._setZoomScaleTo('large');\n    if (action === 'see-immovables')  this._setZoomScaleTo('small');\n\n    this._savePrefferedOptionsInLS();\n    this._saveCityMapSettings();\n  }\n\n  private checkWoandersChosen(): void {\n    const place = this.model.searchOptions.filter(item => item.selected)[0];\n    if (place.key === 'other') {\n      this.destinationCount = 2;\n      this.woandersAreChosen = true;\n    }\n  }\n\n  private _setDefaultUser(): void {\n    this.user = {\n      email: '',\n      zip: '',\n    };\n  }\n\n  private _initWonadersPageForm(): void {\n    this._setDefaultUser();\n\n    this.notifyMeForm = new FormGroup({\n      'email': new FormControl(this.user.email, [\n        Validators.required,\n        Validators.email,\n      ]),\n      'zip': new FormControl(this.user.zip, [\n        Validators.required,\n      ]),\n    });\n  }\n\n  constructor(\n    public dialogService: DialogService,\n    private openModalService: OpenModalService,\n    private mapManager: MapManagerService,\n    private analyticsService: AnalyticsService,\n    // private http: HttpClient,  // later for sending messages\n  ) {\n    super(dialogService);\n\n    this.searchControl = new FormControl();\n    this._initWonadersPageForm();\n\n    const savedOptions = this._getPreferredOptionsFromLS();\n    if (savedOptions['step'] != null) this.model = savedOptions;\n  }\n\n  public handleChangedPlace($event: Place): void {\n    this.place = $event;\n  }\n\n  public moveStepBack(): void {\n    if (this.model.step > 1) this.model.step -= 1;\n  }\n\n  public moveStepForward(): void {\n    if (this.model.step === 1) this.checkWoandersChosen();\n    if (this.model.step < 3)   this.model.step += 1;\n    else this.goToEstateAnd('see-details');\n  }\n\n  public closeButtonClickHandler(): void {\n    this.model.hideModal = true;\n\n    this._saveAllSettingsWith('search');\n    this.closeModal();\n  }\n\n  public closeModal(): void {\n    this.openModalService.close();\n    super.close();\n  }\n\n  public goToEstateAnd(option: SaveSettingsOption): void {\n    const zoom = 19;\n    this.model.hideModal = true;\n\n    // although there are two scale (19\\17), after place change is emitted to mapManager,\n    // map-component use 17 scale by default for every jump\n\n    if (option === 'search') {\n      this._saveAllSettingsWith('search');\n    }\n\n    if (option === 'start') {\n      this._saveAllSettingsWith('search');\n    }\n\n    if (option === 'see-details') {\n      this._saveAllSettingsWith('see-immovables');\n    }\n\n    if (option === 'notify-me') {\n      this.model.hideModal = true;\n      this._saveAllSettingsWith('search');\n    }\n\n    this.mapManager.changePlace({place: this.place, zoom, name: ''});\n    this.closeModal();\n  }\n\n  public onOptionClickHandler(index: number): void {\n    this._clearItemsStatus(this.model.searchOptions);\n    const currSelection: boolean = this.model.searchOptions[index].selected;\n    this.model.searchOptions[index].selected = !currSelection;\n\n    const choise = this.model.searchOptions.filter(item => item.selected)[0];\n\n    this._setChosenCity(choise.place);\n    this._saveCityMapSettings();\n  }\n\n  public onActionClickHandler(index: number): void {\n    const currSelection: boolean = this.model.preferredActions[index].selected;\n    this.model.preferredActions[index].selected = !currSelection;\n  }\n\n  public checkNotifyFormState(): void {\n    this.disableNotifyMeButton = !(this.email.errors == null && this.zip.errors == null);\n  }\n\n  public notifyMeClickHandler(): void {\n    if (this.disableNotifyMeButton) return;\n\n    /** @TODO:\n     * that's for sending-messages implementation, activate later, possible */\n\n    // const data = {\n    //   Email: email,\n    //   Zip: zip,\n    //   Date: new Date()\n    // };\n    // this._sendNotificationMail(data);\n\n    this.analyticsService.triggerFormSubmissionSuccess('onboardingProcessForm', 'subscribe-to-notifications');\n    this.goToEstateAnd('notify-me');\n  }\n\n  public jumpToStart(): void {\n    this.woandersAreChosen = false;\n    this.model.step = 1;\n  }\n}\n","<app-base-modal (dismiss)=\"onDismiss()\">\n  <ng-container app-base-modal-header>\n    Suchauftrag anlegen\n  </ng-container>\n\n  <ng-container\n    app-base-modal-title\n    align=\"left\"\n  >\n    Gib deinem Suchauftrag einen Namen:\n  </ng-container>\n\n  <ng-container app-base-modal-body>\n    <form [formGroup]=\"alertDataForm\">\n      <app-form-field label=\"Suchauftrag\">\n        <input\n          id=\"name\"\n          tabindex=\"1\"\n          app-input\n          [formControl]=\"searchAlertName\"\n          (keyup.enter)=\"saveAlert()\"\n          #nameInput\n        >\n\n        <ng-template app-form-field-error-message error=\"maxlength\">\n          Der Name darf nicht länger als 30 Zeichen sein\n        </ng-template>\n        <ng-template app-form-field-error-message error=\"required\">\n          Bitte gib einen Namen ein\n        </ng-template>\n      </app-form-field>\n    </form>\n  </ng-container>\n\n  <ng-container app-base-modal-footer>\n    <app-base-modal-actions>\n      <button\n        app-button\n        color=\"primary-green\"\n        size=\"medium\"\n        [stretch]=\"true\"\n        (click)=\"saveAlert()\"\n      >\n        Suchauftrag speichern\n      </button>\n    </app-base-modal-actions>\n  </ng-container>\n</app-base-modal>\n","import { AfterViewInit, Component, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { NgxActiveModal } from 'ngx-multi-modal';\n\nimport { markFormGroupControlsAsTouched } from '../../../../shared/utils/form-group.util';\nimport { InputComponent } from '../../../../shared/components/input/input.component';\n\n@Component({\n  selector: 'app-save-search-alert-name',\n  templateUrl: './save-search-alert-name.component.html',\n})\nexport class SaveSearchAlertNameComponent implements AfterViewInit {\n  @ViewChild('nameInput') nameInput: InputComponent;\n\n  public alertDataForm: FormGroup;\n\n  public get searchAlertName(): FormControl {\n    return this.alertDataForm.get('name') as FormControl;\n  }\n\n  constructor(\n    private activeModal: NgxActiveModal,\n  ) {\n    this.initForm();\n  }\n\n  public ngAfterViewInit(): void {\n    this.nameInput.focus();\n  }\n\n  private initForm(): void {\n    this.alertDataForm = new FormGroup({\n      name: new FormControl('', [\n        Validators.required,\n        Validators.maxLength(30),\n      ]),\n    });\n  }\n\n  public onDismiss(): void {\n    this.activeModal.dismiss();\n  }\n\n  public saveAlert(): void {\n    if (!this.alertDataForm.valid) {\n      markFormGroupControlsAsTouched(this.alertDataForm);\n      return;\n    }\n\n    this.activeModal.close(this.searchAlertName.value);\n  }\n}\n","<div [attr.class]=\"{block: _name, element: 'container'} | bem\">\n  <ng-container *ngIf=\"withAddress; then address else withoutAddress\"></ng-container>\n\n  <ng-template #withoutAddress>\n    <a\n      [attr.class]=\"{block: _name, element: 'object', mods: {'of': isStartPage? 'startpage' : 'default'}} | bem\"\n      [href]=\"url\"\n      target=\"_blank\"\n    >\n      <div [attr.class]=\"{block: _name, element: 'object-image'} | bem\">\n        <div *ngIf=\"marker.images && marker.images.length < 1\" [attr.class]=\"{block: _name, element: 'image-block'} | bem\"></div>\n        <div *ngIf=\"marker.images != null && marker.images.length > 0\" [attr.class]=\"{block: _name, element: 'preview'} | bem\">\n          <div\n            [attr.class]=\"{block: _name, element: 'img-prev'} | bem\"\n            (click)=\"prevImage(marker, $event)\"\n          >\n            <img src=\"../../../../../assets/icons/chevron_left.svg\">\n          </div>\n          <app-image\n            [attr.class]=\"{block: _name, element: 'image', mods: {'height': '100'}} | bem\"\n            [src]=\"marker.images[activeImageIndex]\"\n            [mods]=\"{'fit': 'cover'}\"\n          >\n          </app-image>\n          <div\n            [attr.class]=\"{block: _name, element: 'img-next'} | bem\"\n            (click)=\"nextImage(marker, $event)\"\n          >\n            <img src=\"../../../../../assets/icons/chevron_right.svg\">\n          </div>\n        </div>\n        <div\n          [attr.class]=\"{\n            block: _name,\n            element: 'object-status',\n            mods: {'background': (marker.images.length < 1)? 'light' : 'dark'}\n          } | bem\"\n        >\n          <div [attr.class]=\"{block: _name, element: 'object-icon', mods: {'type': marker.SellingStatus }} | bem\"></div>\n          {{marker.extendedSellingStatus}}\n        </div>\n        <div [attr.class]=\"{block: _name, element: 'favourite-container'} | bem\" (click)=\"$event.stopPropagation()\">\n          <app-favourite\n            [marker]=\"marker\"\n            theme=\"light\"\n            (markerUpdate)=\"changeIsFavoriteStatus($event)\"\n          >\n          </app-favourite>\n        </div>\n      </div>\n      <div *ngIf=\"!marker.Url\" [attr.class]=\"{block: _name, element: 'object-price'} | bem\">\n        {{ textForPrePrice() }}\n        {{ marker.isPropertyOfTypeMFH ? ('ab ' + marker.PriceMin | cost) :\n        marker.SalePrice | cost }}\n      </div>\n      <div\n        *ngIf=\"!marker.Url\"\n        [attr.class]=\"{block: _name, element: 'object-estimate-price'} | bem\"\n      >\n        SCHÄTZWERT: {{marker.EstimatedPrice | cost}}\n      </div>\n      <div\n        *ngIf=\"marker.Url\"\n        [attr.class]=\"{block: _name, element: 'object-price', mods: {'margin-top': '8px'}} | bem\"\n      >\n        Kaufpreis: {{marker.SalePrice | cost}}\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'object-info'} | bem\">\n        {{ getAddress }}\n      </div>\n      <div *ngIf=\"marker.Url\" [attr.class]=\"{block: _name, element: 'object-info'} | bem\">\n        Quelle: {{ marker.Source }}\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'row', mods: {'justify-content': 'start', 'flex': 'wrap'}} | bem\">\n        <div [attr.class]=\"{block: _name, element: 'value'} | bem\">{{marker.buildingType}}</div>\n        <div [attr.class]=\"{block: _name, element: 'value'} | bem\">{{marker.LivingSurface}} m<sup>2</sup></div>\n        <ng-container *ngIf=\"marker.RoomsNumber\">\n          <div  [attr.class]=\"{block: _name, element: 'value'} | bem\">\n            {{ marker.isPropertyOfTypeMFH ? 'ab ' + marker.RoomsNumber : marker.RoomsNumber }} Zi.\n          </div>\n        </ng-container>\n      </div>\n    </a>\n  </ng-template>\n  <ng-template #address>\n    <div\n      [attr.class]=\"{block: _name, element: 'object', mods: {'of': isStartPage? 'startpage' : 'default'}} | bem\"\n      (click)=\"goToMarkerDetail()\"\n    >\n      <div [attr.class]=\"{block: _name, element: 'object-image'} | bem\">\n        <div *ngIf=\"marker.images && marker.images.length < 1\" [attr.class]=\"{block: _name, element: 'image-block'} | bem\"></div>\n        <div *ngIf=\"marker.images != null && marker.images.length > 0\" [attr.class]=\"{block: _name, element: 'preview'} | bem\">\n          <div\n            *ngIf=\"marker.images.length > 1\"\n            [attr.class]=\"{block: _name, element: 'img-prev'} | bem\"\n            (click)=\"prevImage(marker, $event)\"\n          >\n            <img src=\"../../../../../assets/icons/chevron_left.svg\">\n          </div>\n          <app-image\n            [attr.class]=\"{block: _name, element: 'image', mods: {'height': '100'}} | bem\"\n            [src]=\"marker.images[activeImageIndex]\"\n            [mods]=\"{'fit': 'cover'}\"\n          >\n          </app-image>\n          <div\n            *ngIf=\"marker.images.length > 1\"\n            [attr.class]=\"{block: _name, element: 'img-next'} | bem\"\n            (click)=\"nextImage(marker, $event)\"\n          >\n            <img src=\"../../../../../assets/icons/chevron_right.svg\">\n          </div>\n        </div>\n        <div\n          [attr.class]=\"{\n            block: _name,\n            element: 'object-status',\n            mods: {'background': (marker.images.length < 1)? 'light' : 'dark'}\n          } | bem\"\n        >\n          <div [attr.class]=\"{block: _name, element: 'object-icon', mods: {'type': marker.SellingStatus }} | bem\"></div>\n          {{marker.extendedSellingStatus}}\n        </div>\n        <div [attr.class]=\"{block: _name, element: 'favourite-container'} | bem\" (click)=\"$event.stopPropagation()\">\n          <app-favourite [marker]=\"marker\" theme=\"light\"></app-favourite>\n        </div>\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'data-container'} | bem\">\n        <div *ngIf=\"!marker.Url\" [attr.class]=\"{block: _name, element: 'object-price'} | bem\">\n          {{ textForPrePrice() }}\n          {{ marker.isPropertyOfTypeMFH ? ('ab ' + marker.PriceMin | cost) :\n          marker.SalePrice | cost}}\n        </div>\n        <div\n          *ngIf=\"!marker.Url\"\n          [attr.class]=\"{block: _name, element: 'object-estimate-price'} | bem\"\n        >\n          SCHÄTZWERT: {{marker.EstimatedPrice | cost}}\n        </div>\n        <div\n          *ngIf=\"marker.Url\"\n          [attr.class]=\"{block: _name, element: 'object-price', mods: {'margin-top': '8px'}} | bem\"\n        >\n          Kaufpreis: {{marker.SalePrice | cost}}\n        </div>\n        <div [attr.class]=\"{block: _name, element: 'object-info'} | bem\">\n          {{ getAddress }}\n        </div>\n        <div *ngIf=\"marker.Url\" [attr.class]=\"{block: _name, element: 'object-info'} | bem\">\n          Quelle: {{ marker.Source }}\n        </div>\n        <div [attr.class]=\"{block: _name, element: 'row', mods: {'justify-content': 'start', 'flex': 'wrap'}} | bem\">\n          <div [attr.class]=\"{block: _name, element: 'value'} | bem\">\n            {{marker.buildingType}}\n          </div>\n          <div [attr.class]=\"{block: _name, element: 'value'} | bem\">\n            {{marker.LivingSurface}} m<sup>2</sup>\n          </div>\n          <div *ngIf=\"marker.RoomsNumber\" [attr.class]=\"{block: _name, element: 'value'} | bem\">\n            {{ marker.isPropertyOfTypeMFH ? 'ab ' + marker.RoomsNumber : marker.RoomsNumber }} Zi.\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n</div>\n<div [attr.class]=\"{block: _name, element: 'decor'} | bem\"></div>\n","import {\n  Component,\n  Input, Output,\n  EventEmitter,\n  OnInit,\n  ChangeDetectorRef,\n  AfterViewChecked,\n} from '@angular/core';\n\nimport { MapManagerService } from '../../../../core/services/map-manager.service';\nimport { StateManagerService } from '../../../../core/services/state-manager.service';\nimport { ExtendedMarkerModel } from '../../../../core/models/extended-marker.model';\nimport { isSmallDevice } from '../../../../shared/utils/responsive.util';\nimport { WINDOW } from '../../../../core/services/window.provider';\nimport { GeoListing } from '../sidebar/sidebar.component';\nimport { Geometry } from '../../../../core/models/properties-repository.model';\n\n@Component({\n  selector: 'app-sidebar-object',\n  templateUrl: './sidebar-object.component.html',\n  styleUrls: ['./sidebar-object.component.css']\n})\nexport class SidebarObjectComponent implements AfterViewChecked, OnInit {\n  @Input() listing: GeoListing;\n\n  @Output() closeSidebar: EventEmitter<any> = new EventEmitter<any>();\n\n  public activeImageIndex: number = 0;\n  public _name: string = 'sidebar';\n  public images: Array<string>;\n  public withAddress: boolean = true;\n  public isSmallDevice: boolean = isSmallDevice();\n\n  public marker: ExtendedMarkerModel;\n  public geometry: Geometry;\n\n  public get isStartPage(): boolean {\n    return this.stateManagerService.isStartPage;\n  }\n\n  public get url(): string {\n    if (this.marker.Url) return this.marker.Url;\n    else return `/property-detail/${this.marker.id}`;\n  }\n\n  public get getAddress(): string {\n    const addressArr = [];\n    const {Street, HouseNumber, PostalCode, Locality} = this.marker;\n\n    if (Street) addressArr.push(Street);\n    if (HouseNumber) addressArr.push(HouseNumber);\n    if (PostalCode) addressArr.push(PostalCode);\n    if (Locality) addressArr.push(Locality);\n\n    if (addressArr.length) return addressArr.join('   ');\n    else return '';\n  }\n\n  constructor(\n    private cd: ChangeDetectorRef,\n    private mapManagerService: MapManagerService,\n    private stateManagerService: StateManagerService,\n  ) {}\n\n  public ngOnInit(): void {\n    this.marker = this.listing.property;\n    this.geometry = this.listing.geometry;\n    if (this.marker.Url) this.withAddress = false;\n    else  this.withAddress = this.marker.ShowAddress;\n  }\n\n  public ngAfterViewChecked(): void {\n    this.cd.detach();\n  }\n\n  public textForPrePrice(): string {\n    if (this.marker.isStatusForSale) return 'Kaufpreis';\n    return 'Schätzwert';\n  }\n\n  public nextImage(marker: ExtendedMarkerModel, event): void {\n    event.stopPropagation();\n    if (marker.images == null || marker.images.length < 2) return;\n    ++this.activeImageIndex;\n    if (this.activeImageIndex >= marker.images.length) this.activeImageIndex = 0;\n    this.cd.detectChanges();\n  }\n\n  public prevImage(marker: ExtendedMarkerModel, event): void {\n    event.stopPropagation();\n    if (marker.images == null || marker.images.length < 2) return;\n    --this.activeImageIndex;\n    if (this.activeImageIndex < 0) this.activeImageIndex = marker.images.length - 1;\n    this.cd.detectChanges();\n  }\n\n  // public previewInfo(marker: ExtendedMarkerModel) {\n  //   return `${this.activeImageIndex + 1}/${marker.images.length}`;\n  // }\n\n  public async goToMarkerDetail(): Promise<void> {\n    this.mapManagerService.setActivatedMarker(this.marker.id);\n    this.stateManagerService.openMarkerDetailWindow();\n    if (this.isSmallDevice) this.closeSidebar.emit(event);\n  }\n\n  public changeIsFavoriteStatus(marker: ExtendedMarkerModel): void {\n    if (this.mapManagerService.hasFavoriteId(marker.id)) {\n      this.mapManagerService.deleteFavoriteId(marker.id);\n    } else {\n      this.mapManagerService.addFavoriteId(marker.id);\n    }\n  }\n}\n","<ng-container *ngIf=\"!isSidebarShown; then closedBlock else openedBlock\"></ng-container>\n\n<ng-template #closedBlock>\n  <div\n    [attr.class]=\"{\n      block: _name,\n      element: 'button',\n      mods: {'disabled': !sidebarActive}\n    } | bem\"\n    (click)=\"toggleSidebar()\"\n  >\n    <ng-container *ngIf=\"!isSmallDevice\">\n      Alle Kauf-Angebote\n    </ng-container>\n    <ng-container *ngIf=\"isSmallDevice\">\n      Ergebnisse\n    </ng-container>\n    ({{possiblePropertiesCount}})\n    <img src=\"../../../assets/images/sort-down-white.svg\" [attr.class]=\"{block: _name, element: 'icon-arrow'} | bem\">\n  </div>\n</ng-template>\n\n<ng-template #openedBlock>\n  <div\n    [attr.class]=\"{block: _name, element: 'container'} | bem\"\n    [ngStyle]=\"{'height': displayHeight + 'px'}\"\n  >\n    <div [attr.class]=\"{block: _name, element: 'row'} | bem\">\n      <div [attr.class]=\"{block: _name, element: 'title'} | bem\">\n        <ng-container *ngIf=\"!isSmallDevice\">\n          Alle Kaufangebote in dieser Gegend&nbsp; ({{ possiblePropertiesCount }})\n        </ng-container>\n        <ng-container *ngIf=\"isSmallDevice\">\n          Ergebnisse ({{ possiblePropertiesCount }})\n        </ng-container>\n      </div>\n      <div [attr.class]=\"{block: _name, element: 'button-close'} | bem\" (click)=\"toggleSidebar()\">&times;</div>\n      <div [attr.class]=\"{block: _name, element: 'select-container'} | bem\">\n        <div [attr.class]=\"{block: _name, element: 'select-block'} | bem\">\n          <app-select\n            [attr.class]=\"{block: _name, element: 'select'} | bem\"\n            [items]=\"staticStorage.typesOfSortFilterResutsGlossary\"\n            [active]=\"sortMode\"\n            (select)=\"setSortMode($event)\"\n            size=\"small\"\n            placeholder=\"Relevanteste Angebote\"\n          ></app-select>\n        </div>\n      </div>\n    </div>\n    <div\n      [attr.class]=\"{block: _name, element: 'content-block'} | bem\"\n      [ngStyle]=\"{'height': (displayHeight - 129) + 'px'}\"\n    >\n      <app-accordion>\n        <app-panel\n          [containerHeight]=\"containerHeight\"\n          [title]=\"titleWithAddress\"\n          [opened]=\"carouselObj.topTab\"\n          [isLoaded]=\"isLoaded\"\n          (toggle)=\"toggle($event, 'topTab')\"\n          (scrolled)=\"onScroll()\"\n        >\n          <ng-container *ngIf=\"isLoaded\">\n            <app-sidebar-object\n              *ngFor=\"let marker of markers; trackBy: trackByFn\"\n              [listing]=\"marker\"\n              (closeSidebar)=\"closeSidebar($event)\" \n            ></app-sidebar-object>\n          </ng-container>\n        </app-panel>\n        <app-panel\n          [containerHeight]=\"containerHeight\"\n          [title]=\"titleWithoutAddress\"\n          [opened]=\"carouselObj.bottomTab\"\n          [isLoaded]=\"isLoaded\"\n          (toggle)=\"toggle($event, 'bottomTab')\"\n          (scrolled)=\"onScroll()\"\n        >\n          <ng-container *ngIf=\"isLoaded\">\n            <app-sidebar-object\n              *ngFor=\"let marker of markersWithoutAddress; trackBy: trackByFn\"\n              [listing]=\"marker\"\n              (closeSidebar)=\"closeSidebar($event)\"\n            ></app-sidebar-object>\n          </ng-container>\n        </app-panel>\n      </app-accordion>\n    </div>\n  </div>\n</ng-template>\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  Inject,\n} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nimport { Subscription, Subject } from 'rxjs';\nimport { SelectItem } from 'ng2-select';\n\nimport { StaticStorageService } from '../../../../core/services/static-storage.service';\nimport { MapManagerService } from '../../../../core/services/map-manager.service';\nimport { MapFilterService } from '../../../../core/services/map-filter.service';\nimport { PropertiesRepositoryService } from '../../../../core/services/properties-repository.service';\nimport { ExtendedMarkerModel } from '../../../../core/models/extended-marker.model';\nimport { isSmallMobileDevice, isSmallDevice } from '../../../../shared/utils/responsive.util';\nimport { WINDOW } from '../../../../core/services/window.provider';\nimport { Coordinates, CoordinatesOptions } from '../../../../core/models/coordinates.model';\nimport { ZOOM_CONSTANTS } from '../../../../main/main.constants';\nimport {\n  FilterOptions,\n  ListingListResult,\n  QueryOptions,\n  InitialPropertyObject,\n  PropertiesListFeatures,\n  Geometry,\n} from '../../../../core/models/properties-repository.model';\nimport { LoggerService } from '../../../../core/services/logger/logger.service';\nimport { LOGGER } from '../../../../core/services/logger/logger.provider';\n\ninterface ICarousel {\n  topTab: boolean;\n  bottomTab: boolean;\n}\n\ninterface ListingsCount {\n  all: number;\n  withAddress: number;\n  withoutAddress: number;\n}\n\ninterface ListingsQueryOptions {\n  ordering: 'sale_price' | '-sale_price';\n  show_address: boolean;\n}\n\nexport interface GeoListing {\n  property: ExtendedMarkerModel;\n  geometry: Geometry;\n}\n\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.css']\n})\n\nexport class SidebarComponent implements OnDestroy, OnInit {\n  private sortChanged: Subject<void> = new Subject<void>();\n  private tabChanged: Subject<void> = new Subject<void>();\n  private cashedZoom: number = ZOOM_CONSTANTS.MINIMUM_ZOOM.value;\n  private cashedCoordinates: Coordinates;\n\n  public listingsCount: ListingsCount = {\n    all: 0,\n    withAddress: 0,\n    withoutAddress: 0,\n  };\n  public queryOptions: ListingsQueryOptions = {\n    ordering: 'sale_price',\n    show_address: true,\n  };\n  public _name: string = 'sidebar';\n  public sortMode: Array<SelectItem> = [];\n  public nextMarkersListUrl: string = '';\n  public tooltipPosition: string = 'bottom';\n  public displayHeight: number = this.document.body.clientHeight - 56;\n  public possiblePropertiesCount: number = 0;\n  public isSidebarShown: boolean = true;\n  public isSortMarkersTimeout: boolean = true;\n  public isLoaded: boolean = false;\n  public isSmallMobileDevice: boolean = isSmallMobileDevice();\n  public isSmallDevice: boolean = isSmallDevice();\n  public markersList: ListingListResult = null;\n  public nextMarkersList: ListingListResult = null;\n  public markers: Array<GeoListing> = [];\n  public markersWithoutAddress: Array<GeoListing> = [];\n  public subscriptionMap: Map<string, Subscription> = new Map<string, Subscription>();\n  public carouselObj: ICarousel = { topTab: true, bottomTab: false };\n  public containerHeight: string = `${this.displayHeight - 211}px`;\n  public titleWithAddress: string = `${this.listingsCount.withAddress} OBJEKTE MIT ADRESSE`;\n  public titleWithoutAddress: string = `${this.listingsCount.withoutAddress} OBJEKTE OHNE ADRESSE`;\n\n  private loadMarkersList(listings: ListingListResult): void {\n      this.isLoaded = false;\n      this.clearMarkers();\n\n      this.markersList = listings;\n      this.nextMarkersListUrl = this.markersList.next;\n\n      this.getResultsMarkersList(this.markersList);\n  }\n\n  private async loadMarkersListByUrl(): Promise<void> {\n    if (this.nextMarkersListUrl) {\n      this.nextMarkersList = await this.propertiesRepository.getListingsByUrl(this.nextMarkersListUrl);\n      this.nextMarkersListUrl = this.nextMarkersList.next;\n\n      this.getResultsMarkersList(this.nextMarkersList);\n    }\n  }\n\n  private counterUpdated(counters: ListingsCount): void {\n    this.listingsCount = counters;\n\n    if (counters && counters.all) {\n      this.possiblePropertiesCount = counters.all;\n      this.titleWithAddress = `${counters.withAddress} OBJEKTE MIT ADRESSE`;\n      this.titleWithoutAddress = `${counters.withoutAddress} OBJEKTE OHNE ADRESSE`;\n    } else {\n      this.possiblePropertiesCount = 0;\n    }\n  }\n\n  private coordinatesUpdated({ coordinates = null, zoom = null }: CoordinatesOptions): void {\n    let _zoom: number = 0;\n    let _coordinates: Coordinates = {} as Coordinates;\n\n    if (!zoom && !coordinates) {\n      _zoom = this.cashedZoom;\n      _coordinates = this.cashedCoordinates;\n    } else {\n      _zoom = zoom;\n      this.cashedZoom = zoom;\n\n      _coordinates = coordinates;\n      this.cashedCoordinates = coordinates;\n    }\n\n    const options: QueryOptions = {\n      filterOptions : this.mapFilterService.filters as FilterOptions,\n      coordinates: _coordinates,\n      zoom: _zoom\n    };\n\n    const params: string = this.generateParamsString(options);\n    this.subscribeOn('listings', this.propertiesRepository.getListings(params), this.loadMarkersList);\n    this.subscribeOn('markersCount', this.propertiesRepository.getListingsCount(options), this.counterUpdated);\n  }\n\n  private clearMarkers(): void {\n    this.markers.length = 0;\n    this.markersWithoutAddress.length = 0;\n  }\n\n  private renderMarkerData(markersList: Array<PropertiesListFeatures>): void {\n    markersList.forEach(marker =>  {\n      if (this.mapManagerService.hasFavoriteId(marker.properties.uuid)) marker.properties.isFavorite = true;\n      else marker.properties.isFavorite = false;\n\n      if (this.queryOptions.show_address) {\n        this.markers.push({\n          geometry: marker.geometry,\n          property: new ExtendedMarkerModel(marker.properties),\n        });\n      } else {\n        this.markersWithoutAddress.push({\n          geometry: marker.geometry,\n          property: new ExtendedMarkerModel(marker.properties),\n        });\n      }\n    });\n\n    this.isLoaded = true;\n  }\n\n  private filtersUpdated(): void {\n    /**\n     * This is bad way but it necessary solution for current architecture\n     * Next step: change architecture of queries and delete this\n     * bad part of code.\n     * @FIXME: delete it after refactoring.\n    */\n    if (this.sidebarActive) {\n      this.collectDataForLoadMarkers();\n      this.isSidebarShown = true;\n    } else {\n      this.isSidebarShown = false;\n      this.listingsCount.all = 0;\n      this.listingsCount.withAddress = 0;\n      this.listingsCount.withoutAddress = 0;\n      this.unsubscribeOne('listings');\n      this.unsubscribeOne('markersCount');\n      this.unsubscribeOne('coordinatesUpdated');\n      this.markers.length = 0;\n      this.markersWithoutAddress.length = 0;\n      this.isLoaded = false;\n    }\n  }\n\n  private collectDataForLoadMarkers(): void {\n    this.subscribeOn('coordinatesUpdated', this.mapFilterService.coordinates$, this.coordinatesUpdated);\n  }\n\n  private generateParamsString(options: QueryOptions): string {\n    const mainOptions = this.propertiesRepository.convertOptions(options);\n    return `${mainOptions}&ordering=${this.queryOptions.ordering},-has_url&show_address=${this.queryOptions.show_address}`;\n  }\n\n  private sortTypeChanged(): void {\n    this.coordinatesUpdated({coordinates: null, zoom: null});\n  }\n\n  private subscribeOn(key: string, stream: any, handler: (data: any) => void): void {\n    if (this.subscriptionMap.has(key)) this.subscriptionMap.get(key).unsubscribe();\n    this.subscriptionMap.set(key, stream.subscribe(handler.bind(this)));\n  }\n\n  private unsubscribeAll(): void {\n    this.subscriptionMap.forEach(subscription => subscription.unsubscribe());\n  }\n\n  private unsubscribeOne(name: string): void {\n    if (this.subscriptionMap.has(name)) this.subscriptionMap.get(name).unsubscribe();\n  }\n\n  private getResultsMarkersList(markers: ListingListResult): void {\n    if (markers && markers.features instanceof Array) this.renderMarkerData(markers.features);\n  }\n\n  private async getFavoriteData(): Promise<void> {\n    let favoriteData: Array<string> = [];\n\n    try {\n      favoriteData = await this.propertiesRepository.getFavoritesForListings();\n    } catch (error) {\n      this.logger.error('SidebarComponent::getFavoriteData', error);\n    } finally {\n      this.updateFavoriteData(favoriteData);\n    }\n  }\n\n  private updateFavoriteData(favoriteIds: Array<string>): void {\n    favoriteIds.forEach(id => this.mapManagerService.addFavoriteId(id));\n  }\n\n  private checkDisplayHeight(): void {\n    this.displayHeight = this.window.innerHeight - 56;\n    this.containerHeight = `${this.displayHeight - 211}px`;\n  }\n\n  constructor(\n    private mapManagerService: MapManagerService,\n    private propertiesRepository: PropertiesRepositoryService,\n    public mapFilterService: MapFilterService,\n    public staticStorage: StaticStorageService,\n    @Inject(LOGGER) private logger: LoggerService,\n    @Inject(WINDOW) private window: Window,\n    @Inject(DOCUMENT) private document: Document,\n  ) {\n    this.checkDisplayHeight = this.checkDisplayHeight.bind(this);\n  }\n\n  public async ngOnInit(): Promise<void> {\n    await this.getFavoriteData();\n\n    this.subscribeOn('filtersUpdated', this.mapManagerService.getFilterOptionsStream(), this.filtersUpdated);\n    this.subscribeOn('sortTypeChanged', this.sortChanged, this.sortTypeChanged);\n    this.subscribeOn('addressTypeChanged', this.tabChanged, this.sortTypeChanged);\n\n    if (this.document.body.clientHeight === 0) this.checkDisplayHeight();\n    if (this.isSmallMobileDevice) this.isSidebarShown = false;\n\n    this.window.addEventListener('resize', this.checkDisplayHeight);\n  }\n\n  public ngOnDestroy(): void {\n    this.unsubscribeAll();\n    this.window.removeEventListener('resize', this.checkDisplayHeight);\n  }\n\n  public closeSidebar() {\n    this.toggleSidebar();\n  }\n\n  public async onScroll(): Promise<void> {\n    await this.loadMarkersListByUrl();\n  }\n\n  public toggle(state: boolean, tab: string): void {\n    this.carouselObj[tab] = state;\n    if (state) {\n      this.queryOptions.show_address = tab === 'bottomTab' ? false : true;\n      this.tabChanged.next(null);\n    }\n  }\n\n  public toggleSidebar(): void {\n    if (!this.sidebarActive) {\n      this.isSidebarShown = false;\n      return;\n    }\n\n    this.isSidebarShown = !this.isSidebarShown;\n    if (this.isSidebarShown) {\n      this.carouselObj.topTab = true;\n    } else {\n      this.unsubscribeOne('listings');\n    }\n  }\n\n  public setSortMode(value: SelectItem): void {\n    this.sortMode.push(value);\n    if (value.text === 'Kaufpreis (höchste zuerst)') this.queryOptions.ordering = '-sale_price';\n    else this.queryOptions.ordering = 'sale_price';\n    this.sortChanged.next(null);\n  }\n\n  public compareEstimatedPriceInc(propertyA: ExtendedMarkerModel, propertyB: ExtendedMarkerModel): number {\n    return propertyA.EstimatedPrice - propertyB.EstimatedPrice;\n  }\n\n  public compareEstimatedPriceDec(propertyA: ExtendedMarkerModel, propertyB: ExtendedMarkerModel): number {\n    return propertyB.EstimatedPrice - propertyA.EstimatedPrice;\n  }\n\n  public trackByFn(index: number, item: ExtendedMarkerModel): string {\n    return item.id;\n  }\n\n  public get sidebarActive(): boolean {\n    const { ForSale, MakeMeMove } = this.mapFilterService.filters.SellingStatus;\n    return (ForSale || (!ForSale && !MakeMeMove));\n  }\n}\n","<div\n  [attr.class]=\"{block: _name, element: 'content', mods: {'state': (mapQuery && !visiblePage) ? 'hidden' : 'default'}} | bem\"\n>\n  <div [attr.class]=\"{block: _name, element: 'map-block'} | bem\">\n    <div *ngIf=\"showLoader\" [attr.class]=\"{block: _name, element: 'loader-block'} | bem\">\n      <div [attr.class]=\"{block: _name, element: 'loader'} | bem\"></div>\n    </div>\n    <app-map\n      [showSearchBar]=\"showSearchBar\"\n      (mapClick)=\"onMapClick()\"\n      (infoWindowClick)=\"onInfoWindowClick()\"\n    ></app-map>\n  </div>\n  <div [attr.class]=\"{block: _name, element: 'filter-block'} | bem\">\n    <app-map-filters></app-map-filters>\n    <app-sidebar></app-sidebar>\n  </div>\n</div>\n<router-outlet></router-outlet>\n","import {\n  Component,\n  Inject,\n  NgZone,\n  OnInit,\n  OnDestroy,\n  ChangeDetectorRef,\n} from '@angular/core';\n\nimport { Subscription } from 'rxjs';\n\nimport { AuthService } from '../../../../core/services/auth.service';\nimport { MapFilterService } from '../../../../core/services/map-filter.service';\nimport { MapManagerService } from '../../../../core/services/map-manager.service';\nimport { LoggerService } from '../../../../core/services/logger/logger.service';\nimport { LOGGER } from '../../../../core/services/logger/logger.provider';\n\nimport { windowHeight, isSmallMobileDevice } from '../../../../shared/utils/responsive.util';\n\n@Component({\n  selector: 'app-property-search',\n  templateUrl: './property-search.component.html',\n  styleUrls: ['./property-search.component.css'],\n})\n\nexport class PropertySearchComponent implements OnInit, OnDestroy {\n  private zoomOutForResultsSubscription: Subscription = null;\n\n  public _name: string = 'main';\n  // Flags\n  public showSearchBar: boolean = true;\n  public showLoader: boolean = false;\n  public disableAutofocus: boolean = false;\n  public visiblePage: boolean = false;\n  public isSmallMobileDevice: boolean = isSmallMobileDevice();\n\n  public mapQuery: string = '';\n  public mapHeight: string = '';\n\n  // Subscriptions\n  public searchBarTogglerSubscription: Subscription;\n  public autofocusChanger: Subscription;\n\n  private activateLoader(state: boolean): void {\n    this.showLoader = state;\n    this.changeDetectorRef.detectChanges();\n  }\n\n  constructor(\n    private authService: AuthService,\n    private mapManagerService: MapManagerService,\n    private mapFilterService: MapFilterService,\n    private changeDetectorRef: ChangeDetectorRef,\n    private zone: NgZone,\n    @Inject(LOGGER) private logger: LoggerService,\n  ) {}\n\n  public ngOnInit(): void {\n    if (this.authService.signupState) this.disableAutofocus = true;\n    else this.disableAutofocus = false;\n\n    this.initData();\n    this.initSubscriptions();\n    this.calculateMapHeight();\n\n    this.zoomOutForResultsSubscription = this.mapFilterService.zoomOutForResults$.subscribe(this.activateLoader.bind(this));\n\n    window.addEventListener('resize', () => {\n      this.calculateMapHeight();\n    });\n    window.addEventListener('rotate', () => {\n      this.calculateMapHeight();\n    });\n\n  }\n\n  public ngOnDestroy(): void {\n    this.searchBarTogglerSubscription.unsubscribe();\n    this.autofocusChanger.unsubscribe();\n\n    if (this.zoomOutForResultsSubscription) this.zoomOutForResultsSubscription.unsubscribe();\n  }\n\n  public onMapClick(): void {\n    this.showSearchBar = false;\n  }\n\n  public onInfoWindowClick(): void {\n    this.showSearchBar = false;\n  }\n\n  public calculateMapHeight(): void {\n    this.zone.run(() => {\n      if (this.isSmallMobileDevice) {\n        this.mapHeight = `${windowHeight.value - 48}px`;\n      } else {\n        this.mapHeight = `${windowHeight.value - 16}px`;\n      }\n    });\n  }\n\n  public initData(): void {\n    const { showSearchBar } = this.mapManagerService.mapInitSettings;\n    if (localStorage.mapQuery) {\n      this.showSearchBar = true;\n      this.mapQuery = localStorage.mapQuery;\n    } else {\n      this.showSearchBar = showSearchBar;\n    }\n  }\n\n  public initSubscriptions(): void {\n    this.autofocusChanger = this.mapManagerService.searchbarAutofocusChanger$\n      .subscribe((newState) => this.disableAutofocus = !newState);\n\n    this.searchBarTogglerSubscription =\n      this.mapManagerService.searchBarToggler$.subscribe(\n        (toggleState) => this.toggleSearchBar(toggleState)\n      );\n  }\n\n  public toggleSearchBar(toggleState: boolean): void {\n    if (toggleState !== null) {\n      this.showSearchBar = toggleState;\n      if (localStorage.showingMapQuery) {\n        try {\n          localStorage.removeItem('showingMapQuery');\n        } catch (error) {\n          this.logger.error(error);\n        }\n        setTimeout(() => {this.visiblePage = true; } , 1000);\n      }\n      return;\n    }\n    this.showSearchBar = !this.showSearchBar;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PropertySearchComponent } from './pages/property-search/property-search.component';\n\nconst ROUTES: Routes = [\n  {\n    path: '',\n    component: PropertySearchComponent,\n    data: { isFirstFooter: true },\n  },\n];\n\n@NgModule({\n  imports: [ RouterModule.forChild(ROUTES) ],\n  exports: [ RouterModule ]\n})\nexport class PropertySearchRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport {\n  FormsModule,\n  ReactiveFormsModule,\n} from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { NgxPopperModule } from 'ngx-popper';\nimport { NgxMultiModalModule } from 'ngx-multi-modal';\nimport { NouisliderModule } from 'ng2-nouislider';\n\nimport { SharedModule } from '../../shared/shared.module';\n\nimport { PropertySearchRoutingModule } from './property-search-routing.module';\nimport { FancyInfoWindowComponent } from './components/fancy-info-window/fancy-info-window.component';\nimport { HintNoMarkersComponent } from './components/no-markers-hint/no-markers-hint.component';\nimport { MapComponent } from './components/map/map.component';\nimport { MapControlsComponent } from './components/map-controls/map-controls.component';\nimport { MapFiltersComponent } from './components/map-filters/map-filters.component';\nimport { MapDataSourceComponent } from './components/map-data-source/map-data-source.component';\nimport { PropertySearchComponent } from './pages/property-search/property-search.component';\nimport { PropertyViewComponent } from './components/fancy-info-window/property-view/property-view.component';\nimport { QuestionButtonComponent } from './components/map-filters/question-button/question-button.component';\nimport { SearchRequestButtonComponent } from './components/map-filters/search-request-button/search-request-button.component';\nimport { SidebarComponent } from './components/sidebar/sidebar.component';\nimport { SidebarObjectComponent } from './components/sidebar-object/sidebar-object.component';\nimport { ApartmentListComponent } from './components/apartments-list/apartments-list.component';\nimport { OnboardingProcessComponent } from './components/onboarding-process/onboarding-process.component';\nimport { SaveSearchAlertNameComponent } from './components/save-search-alert-name/save-search-alert-name.component';\n\nconst COMPONENTS: any[] = [\n  FancyInfoWindowComponent,\n  HintNoMarkersComponent,\n  MapComponent,\n  MapControlsComponent,\n  MapDataSourceComponent,\n  MapFiltersComponent,\n  PropertySearchComponent,\n  QuestionButtonComponent,\n  SearchRequestButtonComponent,\n  SidebarComponent,\n  SidebarObjectComponent,\n];\n\nconst ENTRY_COMPONENTS: any[] = [\n  PropertyViewComponent,\n  ApartmentListComponent,\n  OnboardingProcessComponent,\n  SaveSearchAlertNameComponent,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NgxPopperModule,\n    NgxMultiModalModule.forRoot({\n      backdrop: true,\n      container: 'body',\n      windowClass: 'ngx-multi-modal',\n    }),\n    NouisliderModule,\n\n    PropertySearchRoutingModule,\n    SharedModule,\n  ],\n  declarations: [\n    ...COMPONENTS,\n    ...ENTRY_COMPONENTS,\n  ],\n  entryComponents: [\n    ...ENTRY_COMPONENTS,\n  ]\n})\nexport class PropertySearchModule {\n}\n","import { MapTypeStyle } from '@agm/core';\n\nexport const MAP_STYLED_TYPE: MapTypeStyle[] = [\n  {\n    featureType: 'landscape.man_made',\n    elementType: 'geometry.fill',\n    stylers: [\n      {\n        saturation: -100,\n      },\n    ],\n  },\n  {\n    featureType: 'landscape.man_made',\n    elementType: 'geometry.stroke',\n    stylers: [\n      {\n        saturation: -100,\n      },\n    ],\n  },\n  {\n    featureType: 'landscape.natural',\n    elementType: 'geometry.fill',\n    stylers: [\n      {\n        color: '#DEF8EC',\n      },\n    ],\n  },\n  {\n    featureType: 'poi',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n    ],\n  },\n  {\n    featureType: 'poi.park',\n    stylers: [\n      {\n        visibility: 'simplified',\n      },\n    ],\n  },\n  {\n    featureType: 'poi.park',\n    elementType: 'geometry.fill',\n    stylers: [\n      {\n        color: '#DEF8EC',\n      },\n    ],\n  },\n  {\n    featureType: 'poi.park',\n    elementType: 'labels',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n    ],\n  },\n  {\n    featureType: 'road',\n    elementType: 'geometry.fill',\n    stylers: [\n      {\n        color: '#FFFFFF',\n      },\n    ],\n  },\n  {\n    featureType: 'road',\n    elementType: 'geometry.stroke',\n    stylers: [\n      {\n        color: '#FFFFFF',\n      },\n    ],\n  },\n  {\n    featureType: 'road',\n    elementType: 'labels',\n    stylers: [\n      {\n        visibility: 'on',\n      },\n    ],\n  },\n  {\n    featureType: 'transit',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n    ],\n  },\n  {\n    featureType: 'water',\n    elementType: 'geometry.fill',\n    stylers: [\n      {\n        color: '#E0ECF8',\n      },\n    ],\n  },\n  {\n    featureType: 'water',\n    elementType: 'labels',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n    ],\n  },\n];\n","<ng-content></ng-content>","<div [attr.class]=\"{block: _name, element: 'container'} | bem\">\n  <div [attr.class]=\"{block: _name, element: 'heading-block'} | bem\" (click)=\"toggleBlock()\">\n    <div [attr.class]=\"{block: _name, element: 'heading'} | bem\">\n      {{title}}\n    </div>\n    <div [attr.class]=\"{block: _name, element: 'button-container'} | bem\">\n      <div [attr.class]=\"{block: _name, element: 'button', mods: {'opened': opened}} | bem\"></div>\n    </div>\n  </div>\n  <div\n    *ngIf=\"opened\"\n    [ngStyle]=\"{'height': bodyHeight}\"\n    [attr.class]=\"{block: _name, element: 'body', mods: {'spinner': !isLoaded}} | bem\"\n    (scroll)=\"scrollBlock()\"\n  >\n    <div [attr.class]=\"{block: _name, element: 'scroll-block'} | bem\">\n      <ng-content *ngIf=\"isLoaded\" ></ng-content>\n    </div>\n    <div *ngIf=\"!isLoaded\" [attr.class]=\"{block: _name, element: 'loader'} | bem\"></div>\n  </div>\n<div>"],"sourceRoot":""}